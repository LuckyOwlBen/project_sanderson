var Wx=Object.defineProperty,UA=Object.defineProperties;var HA=Object.getOwnPropertyDescriptors;var Fu=Object.getOwnPropertySymbols;var Yx=Object.prototype.hasOwnProperty,Kx=Object.prototype.propertyIsEnumerable;var Gx=(n,t,e)=>t in n?Wx(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,R=(n,t)=>{for(var e in t||={})Yx.call(t,e)&&Gx(n,e,t[e]);if(Fu)for(var e of Fu(t))Kx.call(t,e)&&Gx(n,e,t[e]);return n},xe=(n,t)=>UA(n,HA(t));var c_=(n,t)=>{var e={};for(var i in n)Yx.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&Fu)for(var i of Fu(n))t.indexOf(i)<0&&Kx.call(n,i)&&(e[i]=n[i]);return e};var qA=(n,t)=>{for(var e in t)Wx(n,e,{get:t[e],enumerable:!0})};var On=null,Lu=!1,m_=1,$A=null,ln=Symbol("SIGNAL");function _e(n){let t=On;return On=n,t}function Bu(){return On}var Os={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ps(n){if(Lu)throw new Error("");if(On===null)return;On.consumerOnSignalRead(n);let t=On.producersTail;if(t!==void 0&&t.producer===n)return;let e,i=On.recomputing;if(i&&(e=t!==void 0?t.nextProducer:On.producers,e!==void 0&&e.producer===n)){On.producersTail=e,e.lastReadVersion=n.version;return}let r=n.consumersTail;if(r!==void 0&&r.consumer===On&&(!i||WA(r,On)))return;let o=Ds(On),a={producer:n,consumer:On,nextProducer:e,prevConsumer:r,lastReadVersion:n.version,nextConsumer:void 0};On.producersTail=a,t!==void 0?t.nextProducer=a:On.producers=a,o&&Jx(n,a)}function Qx(){m_++}function p_(n){if(!(Ds(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===m_)){if(!n.producerMustRecompute(n)&&!Is(n)){u_(n);return}n.producerRecomputeValue(n),u_(n)}}function h_(n){if(n.consumers===void 0)return;let t=Lu;Lu=!0;try{for(let e=n.consumers;e!==void 0;e=e.nextConsumer){let i=e.consumer;i.dirty||GA(i)}}finally{Lu=t}}function f_(){return On?.consumerAllowSignalWrites!==!1}function GA(n){n.dirty=!0,h_(n),n.consumerMarkedDirty?.(n)}function u_(n){n.dirty=!1,n.lastCleanEpoch=m_}function Ma(n){return n&&Zx(n),_e(n)}function Zx(n){n.producersTail=void 0,n.recomputing=!0}function ks(n,t){_e(t),n&&Xx(n)}function Xx(n){n.recomputing=!1;let t=n.producersTail,e=t!==void 0?t.nextProducer:n.producers;if(e!==void 0){if(Ds(n))do e=g_(e);while(e!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function Is(n){for(let t=n.producers;t!==void 0;t=t.nextProducer){let e=t.producer,i=t.lastReadVersion;if(i!==e.version||(p_(e),i!==e.version))return!0}return!1}function To(n){if(Ds(n)){let t=n.producers;for(;t!==void 0;)t=g_(t)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function Jx(n,t){let e=n.consumersTail,i=Ds(n);if(e!==void 0?(t.nextConsumer=e.nextConsumer,e.nextConsumer=t):(t.nextConsumer=void 0,n.consumers=t),t.prevConsumer=e,n.consumersTail=t,!i)for(let r=n.producers;r!==void 0;r=r.nextProducer)Jx(r.producer,r)}function g_(n){let t=n.producer,e=n.nextProducer,i=n.nextConsumer,r=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:t.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(t.consumers=i,!Ds(t)){let o=t.producers;for(;o!==void 0;)o=g_(o)}return e}function Ds(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function __(n){$A?.(n)}function WA(n,t){let e=t.producersTail;if(e!==void 0){let i=t.producers;do{if(i===n)return!0;if(i===e)break;i=i.nextProducer}while(i!==void 0)}return!1}function v_(n,t){return Object.is(n,t)}function ol(n,t){let e=Object.create(YA);e.computation=n,t!==void 0&&(e.equal=t);let i=()=>{if(p_(e),Ps(e),e.value===Vu)throw e.error;return e.value};return i[ln]=e,__(e),i}var l_=Symbol("UNSET"),d_=Symbol("COMPUTING"),Vu=Symbol("ERRORED"),YA=xe(R({},Os),{value:l_,dirty:!0,error:null,equal:v_,kind:"computed",producerMustRecompute(n){return n.value===l_||n.value===d_},producerRecomputeValue(n){if(n.value===d_)throw new Error("");let t=n.value;n.value=d_;let e=Ma(n),i,r=!1;try{i=n.computation(),_e(null),r=t!==l_&&t!==Vu&&i!==Vu&&n.equal(t,i)}catch(o){i=Vu,n.error=o}finally{ks(n,e)}if(r){n.value=t;return}n.value=i,n.version++}});function KA(){throw new Error}var ew=KA;function tw(n){ew(n)}function y_(n){ew=n}var QA=null;function b_(n,t){let e=Object.create(sl);e.value=n,t!==void 0&&(e.equal=t);let i=()=>nw(e);return i[ln]=e,__(e),[i,a=>al(e,a),a=>iw(e,a)]}function nw(n){return Ps(n),n.value}function al(n,t){f_()||tw(n),n.equal(n.value,t)||(n.value=t,ZA(n))}function iw(n,t){f_()||tw(n),al(n,t(n.value))}var sl=xe(R({},Os),{equal:v_,value:void 0,kind:"signal"});function ZA(n){n.version++,Qx(),h_(n),QA?.(n)}function C_(n){let t=_e(null);try{return n()}finally{_e(t)}}var x_=xe(R({},Os),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function w_(n){if(n.dirty=!1,n.version>0&&!Is(n))return;n.version++;let t=Ma(n);try{n.cleanup(),n.fn()}finally{ks(n,t)}}function ve(n){return typeof n=="function"}function Ts(n){let e=n(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var ju=Ts(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Ea(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var je=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(ve(i))try{i()}catch(o){t=o instanceof ju?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{rw(o)}catch(a){t=t??[],a instanceof ju?t=[...t,...a.errors]:t.push(a)}}if(t)throw new ju(t)}}add(t){var e;if(t&&t!==this)if(this.closed)rw(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Ea(e,t)}remove(t){let{_finalizers:e}=this;e&&Ea(e,t),t instanceof n&&t._removeParent(this)}};je.EMPTY=(()=>{let n=new je;return n.closed=!0,n})();var M_=je.EMPTY;function zu(n){return n instanceof je||n&&"closed"in n&&ve(n.remove)&&ve(n.add)&&ve(n.unsubscribe)}function rw(n){ve(n)?n():n.unsubscribe()}var Fi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var As={setTimeout(n,t,...e){let{delegate:i}=As;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=As;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Uu(n){As.setTimeout(()=>{let{onUnhandledError:t}=Fi;if(t)t(n);else throw n})}function cl(){}var ow=E_("C",void 0,void 0);function aw(n){return E_("E",void 0,n)}function sw(n){return E_("N",n,void 0)}function E_(n,t,e){return{kind:n,value:t,error:e}}var Sa=null;function Rs(n){if(Fi.useDeprecatedSynchronousErrorHandling){let t=!Sa;if(t&&(Sa={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:i}=Sa;if(Sa=null,e)throw i}}else n()}function cw(n){Fi.useDeprecatedSynchronousErrorHandling&&Sa&&(Sa.errorThrown=!0,Sa.error=n)}var Oa=class extends je{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,zu(t)&&t.add(this)):this.destination=eR}static create(t,e,i){return new Kr(t,e,i)}next(t){this.isStopped?O_(sw(t),this):this._next(t)}error(t){this.isStopped?O_(aw(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?O_(ow,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},XA=Function.prototype.bind;function S_(n,t){return XA.call(n,t)}var P_=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Hu(i)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Hu(i)}else Hu(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Hu(e)}}},Kr=class extends Oa{constructor(t,e,i){super();let r;if(ve(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&Fi.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&S_(t.next,o),error:t.error&&S_(t.error,o),complete:t.complete&&S_(t.complete,o)}):r=t}this.destination=new P_(r)}};function Hu(n){Fi.useDeprecatedSynchronousErrorHandling?cw(n):Uu(n)}function JA(n){throw n}function O_(n,t){let{onStoppedNotification:e}=Fi;e&&As.setTimeout(()=>e(n,t))}var eR={closed:!0,next:cl,error:JA,complete:cl};var Ns=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ri(n){return n}function k_(...n){return I_(n)}function I_(n){return n.length===0?ri:n.length===1?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}var we=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){let o=nR(e)?e:new Kr(e,i,r);return Rs(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=lw(i),new i((r,o)=>{let a=new Kr({next:s=>{try{e(s)}catch(d){o(d),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[Ns](){return this}pipe(...e){return I_(e)(this)}toPromise(e){return e=lw(e),new e((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return n.create=t=>new n(t),n})();function lw(n){var t;return(t=n??Fi.Promise)!==null&&t!==void 0?t:Promise}function tR(n){return n&&ve(n.next)&&ve(n.error)&&ve(n.complete)}function nR(n){return n&&n instanceof Oa||tR(n)&&zu(n)}function iR(n){return ve(n?.lift)}function Te(n){return t=>{if(iR(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Le(n,t,e,i,r){return new D_(n,t,e,i,r)}var D_=class extends Oa{constructor(t,e,i,r,o,a){super(t),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=e?function(s){try{e(s)}catch(d){t.error(d)}}:super._next,this._error=r?function(s){try{r(s)}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var dw=Ts(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var P=(()=>{class n extends we{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new qu(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new dw}next(e){Rs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){Rs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Rs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:r,observers:o}=this;return i||r?M_:(this.currentObservers=null,o.push(e),new je(()=>{this.currentObservers=null,Ea(o,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){let e=new we;return e.source=this,e}}return n.create=(t,e)=>new qu(t,e),n})(),qu=class extends P{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,t)}error(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&i!==void 0?i:M_}};var ut=class extends P{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var ll={now(){return(ll.delegate||Date).now()},delegate:void 0};var mr=class extends P{constructor(t=1/0,e=1/0,i=ll){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){let{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:a}=this;e||(i.push(t),!r&&i.push(o.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let a=0;a<o.length&&!t.closed;a+=i?1:2)t.next(o[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){let{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let a=e.now(),s=0;for(let d=1;d<i.length&&i[d]<=a;d+=2)s=d;s&&i.splice(0,s+1)}}};var $u=class extends je{constructor(t,e){super()}schedule(t,e=0){return this}};var dl={setInterval(n,t,...e){let{delegate:i}=dl;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=dl;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var Gu=class extends $u{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return dl.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;e!=null&&dl.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Ea(i,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var Fs=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}};Fs.now=ll.now;var Wu=class extends Fs{constructor(t,e=Fs.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}};var ul=new Wu(Gu),uw=ul;var Wt=new we(n=>n.complete());function Yu(n){return n&&ve(n.schedule)}function T_(n){return n[n.length-1]}function Ku(n){return ve(T_(n))?n.pop():void 0}function pr(n){return Yu(T_(n))?n.pop():void 0}function mw(n,t){return typeof T_(n)=="number"?n.pop():t}function hw(n,t,e,i){function r(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(h){try{p(i.next(h))}catch(_){a(_)}}function d(h){try{p(i.throw(h))}catch(_){a(_)}}function p(h){h.done?o(h.value):r(h.value).then(s,d)}p((i=i.apply(n,t||[])).next())})}function pw(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pa(n){return this instanceof Pa?(this.v=n,this):new Pa(n)}function fw(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(y){return function(M){return Promise.resolve(M).then(y,_)}}function s(y,M){i[y]&&(r[y]=function(A){return new Promise(function(B,z){o.push([y,A,B,z])>1||d(y,A)})},M&&(r[y]=M(r[y])))}function d(y,M){try{p(i[y](M))}catch(A){b(o[0][3],A)}}function p(y){y.value instanceof Pa?Promise.resolve(y.value.v).then(h,_):b(o[0][2],y)}function h(y){d("next",y)}function _(y){d("throw",y)}function b(y,M){y(M),o.shift(),o.length&&d(o[0][0],o[0][1])}}function gw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof pw=="function"?pw(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(a){return new Promise(function(s,d){a=n[o](a),r(s,d,a.done,a.value)})}}function r(o,a,s,d){Promise.resolve(d).then(function(p){o({value:p,done:s})},a)}}var Ls=n=>n&&typeof n.length=="number"&&typeof n!="function";function Qu(n){return ve(n?.then)}function Zu(n){return ve(n[Ns])}function Xu(n){return Symbol.asyncIterator&&ve(n?.[Symbol.asyncIterator])}function Ju(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function rR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var em=rR();function tm(n){return ve(n?.[em])}function nm(n){return fw(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:i,done:r}=yield Pa(e.read());if(r)return yield Pa(void 0);yield yield Pa(i)}}finally{e.releaseLock()}})}function im(n){return ve(n?.getReader)}function mt(n){if(n instanceof we)return n;if(n!=null){if(Zu(n))return oR(n);if(Ls(n))return aR(n);if(Qu(n))return sR(n);if(Xu(n))return _w(n);if(tm(n))return cR(n);if(im(n))return lR(n)}throw Ju(n)}function oR(n){return new we(t=>{let e=n[Ns]();if(ve(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function aR(n){return new we(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function sR(n){return new we(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Uu)})}function cR(n){return new we(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function _w(n){return new we(t=>{dR(n,t).catch(e=>t.error(e))})}function lR(n){return _w(nm(n))}function dR(n,t){var e,i,r,o;return hw(this,void 0,void 0,function*(){try{for(e=gw(n);i=yield e.next(),!i.done;){let a=i.value;if(t.next(a),t.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})}function $n(n,t,e,i=0,r=!1){let o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function rm(n,t=0){return Te((e,i)=>{e.subscribe(Le(i,r=>$n(i,n,()=>i.next(r),t),()=>$n(i,n,()=>i.complete(),t),r=>$n(i,n,()=>i.error(r),t)))})}function om(n,t=0){return Te((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function vw(n,t){return mt(n).pipe(om(t),rm(t))}function yw(n,t){return mt(n).pipe(om(t),rm(t))}function bw(n,t){return new we(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}function Cw(n,t){return new we(e=>{let i;return $n(e,t,()=>{i=n[em](),$n(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){e.error(a);return}o?e.complete():e.next(r)},0,!0)}),()=>ve(i?.return)&&i.return()})}function am(n,t){if(!n)throw new Error("Iterable cannot be null");return new we(e=>{$n(e,t,()=>{let i=n[Symbol.asyncIterator]();$n(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function xw(n,t){return am(nm(n),t)}function ww(n,t){if(n!=null){if(Zu(n))return vw(n,t);if(Ls(n))return bw(n,t);if(Qu(n))return yw(n,t);if(Xu(n))return am(n,t);if(tm(n))return Cw(n,t);if(im(n))return xw(n,t)}throw Ju(n)}function Tt(n,t){return t?ww(n,t):mt(n)}function te(...n){let t=pr(n);return Tt(n,t)}function ml(n,t){let e=ve(n)?n:()=>n,i=r=>r.error(e());return new we(t?r=>t.schedule(i,0,r):i)}function pl(n){return!!n&&(n instanceof we||ve(n.lift)&&ve(n.subscribe))}var ka=Ts(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Mw(n){return n instanceof Date&&!isNaN(n)}function se(n,t){return Te((e,i)=>{let r=0;e.subscribe(Le(i,o=>{i.next(n.call(t,o,r++))}))})}var{isArray:uR}=Array;function mR(n,t){return uR(t)?n(...t):n(t)}function Vs(n){return se(t=>mR(n,t))}var{isArray:pR}=Array,{getPrototypeOf:hR,prototype:fR,keys:gR}=Object;function sm(n){if(n.length===1){let t=n[0];if(pR(t))return{args:t,keys:null};if(_R(t)){let e=gR(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function _R(n){return n&&typeof n=="object"&&hR(n)===fR}function cm(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Qr(...n){let t=pr(n),e=Ku(n),{args:i,keys:r}=sm(n);if(i.length===0)return Tt([],t);let o=new we(vR(i,t,r?a=>cm(r,a):ri));return e?o.pipe(Vs(e)):o}function vR(n,t,e=ri){return i=>{Ew(t,()=>{let{length:r}=n,o=new Array(r),a=r,s=r;for(let d=0;d<r;d++)Ew(t,()=>{let p=Tt(n[d],t),h=!1;p.subscribe(Le(i,_=>{o[d]=_,h||(h=!0,s--),s||i.next(e(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}function Ew(n,t,e){n?$n(e,n,t):t()}function Sw(n,t,e,i,r,o,a,s){let d=[],p=0,h=0,_=!1,b=()=>{_&&!d.length&&!p&&t.complete()},y=A=>p<i?M(A):d.push(A),M=A=>{o&&t.next(A),p++;let B=!1;mt(e(A,h++)).subscribe(Le(t,z=>{r?.(z),o?y(z):t.next(z)},()=>{B=!0},void 0,()=>{if(B)try{for(p--;d.length&&p<i;){let z=d.shift();a?$n(t,a,()=>M(z)):M(z)}b()}catch(z){t.error(z)}}))};return n.subscribe(Le(t,y,()=>{_=!0,b()})),()=>{s?.()}}function _n(n,t,e=1/0){return ve(t)?_n((i,r)=>se((o,a)=>t(i,o,r,a))(mt(n(i,r))),e):(typeof t=="number"&&(e=t),Te((i,r)=>Sw(i,r,n,e)))}function lm(n=1/0){return _n(ri,n)}function Ow(){return lm(1)}function Ao(...n){return Ow()(Tt(n,pr(n)))}function Li(n){return new we(t=>{mt(n()).subscribe(t)})}function hl(...n){let t=Ku(n),{args:e,keys:i}=sm(n),r=new we(o=>{let{length:a}=e;if(!a){o.complete();return}let s=new Array(a),d=a,p=a;for(let h=0;h<a;h++){let _=!1;mt(e[h]).subscribe(Le(o,b=>{_||(_=!0,p--),s[h]=b},()=>d--,void 0,()=>{(!d||!_)&&(p||o.next(i?cm(i,s):s),o.complete())}))}});return t?r.pipe(Vs(t)):r}var yR=["addListener","removeListener"],bR=["addEventListener","removeEventListener"],CR=["on","off"];function fl(n,t,e,i){if(ve(e)&&(i=e,e=void 0),i)return fl(n,t,e).pipe(Vs(i));let[r,o]=MR(n)?bR.map(a=>s=>n[a](t,s,e)):xR(n)?yR.map(Pw(n,t)):wR(n)?CR.map(Pw(n,t)):[];if(!r&&Ls(n))return _n(a=>fl(a,t,e))(mt(n));if(!r)throw new TypeError("Invalid event target");return new we(a=>{let s=(...d)=>a.next(1<d.length?d:d[0]);return r(s),()=>o(s)})}function Pw(n,t){return e=>i=>n[e](t,i)}function xR(n){return ve(n.addListener)&&ve(n.removeListener)}function wR(n){return ve(n.on)&&ve(n.off)}function MR(n){return ve(n.addEventListener)&&ve(n.removeEventListener)}function kw(n=0,t,e=uw){let i=-1;return t!=null&&(Yu(t)?e=t:i=t),new we(r=>{let o=Mw(n)?+n-e.now():n;o<0&&(o=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function dn(...n){let t=pr(n),e=mw(n,1/0),i=n;return i.length?i.length===1?mt(i[0]):lm(e)(Tt(i,t)):Wt}function be(n,t){return Te((e,i)=>{let r=0;e.subscribe(Le(i,o=>n.call(t,o,r++)&&i.next(o)))})}function Iw(n){return Te((t,e)=>{let i=!1,r=null,o=null,a=!1,s=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let p=r;r=null,e.next(p)}a&&e.complete()},d=()=>{o=null,a&&e.complete()};t.subscribe(Le(e,p=>{i=!0,r=p,o||mt(n(p)).subscribe(o=Le(e,s,d))},()=>{a=!0,(!i||!o||o.closed)&&e.complete()}))})}function dm(n,t=ul){return Iw(()=>kw(n,t))}function vn(n){return Te((t,e)=>{let i=null,r=!1,o;i=t.subscribe(Le(e,void 0,void 0,a=>{o=mt(n(a,vn(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Bs(n,t){return ve(t)?_n(n,t,1):_n(n,1)}function yi(n,t=ul){return Te((e,i)=>{let r=null,o=null,a=null,s=()=>{if(r){r.unsubscribe(),r=null;let p=o;o=null,i.next(p)}};function d(){let p=a+n,h=t.now();if(h<p){r=this.schedule(void 0,p-h),i.add(r);return}s()}e.subscribe(Le(i,p=>{o=p,a=t.now(),r||(r=t.schedule(d,n),i.add(r))},()=>{s(),i.complete()},void 0,()=>{o=r=null}))})}function A_(n){return Te((t,e)=>{let i=!1;t.subscribe(Le(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function wt(n){return n<=0?()=>Wt:Te((t,e)=>{let i=0;t.subscribe(Le(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function um(n){return se(()=>n)}function mm(n,t=ri){return n=n??ER,Te((e,i)=>{let r,o=!0;e.subscribe(Le(i,a=>{let s=t(a);(o||!n(r,s))&&(o=!1,r=s,i.next(a))}))})}function ER(n,t){return n===t}function Dw(n=SR){return Te((t,e)=>{let i=!1;t.subscribe(Le(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function SR(){return new ka}function Ia(n){return Te((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Zr(n,t){let e=arguments.length>=2;return i=>i.pipe(n?be((r,o)=>n(r,o,i)):ri,wt(1),e?A_(t):Dw(()=>new ka))}function pm(n){return n<=0?()=>Wt:Te((t,e)=>{let i=[];t.subscribe(Le(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function hm(){return Te((n,t)=>{let e,i=!1;n.subscribe(Le(t,r=>{let o=e;e=r,i&&t.next([o,r]),i=!0}))})}function gl(n={}){let{connector:t=()=>new P,resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let a,s,d,p=0,h=!1,_=!1,b=()=>{s?.unsubscribe(),s=void 0},y=()=>{b(),a=d=void 0,h=_=!1},M=()=>{let A=a;y(),A?.unsubscribe()};return Te((A,B)=>{p++,!_&&!h&&b();let z=d=d??t();B.add(()=>{p--,p===0&&!_&&!h&&(s=R_(M,r))}),z.subscribe(B),!a&&p>0&&(a=new Kr({next:de=>z.next(de),error:de=>{_=!0,b(),s=R_(y,e,de),z.error(de)},complete:()=>{h=!0,b(),s=R_(y,i),z.complete()}}),mt(A).subscribe(a))})(o)}}function R_(n,t,...e){if(t===!0){n();return}if(t===!1)return;let i=new Kr({next:()=>{i.unsubscribe(),n()}});return mt(t(...e)).subscribe(i)}function fm(n,t,e){let i,r=!1;return n&&typeof n=="object"?{bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n:i=n??1/0,gl({connector:()=>new mr(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function _l(n){return be((t,e)=>n<=e)}function Mt(...n){let t=pr(n);return Te((e,i)=>{(t?Ao(n,e,t):Ao(n,e)).subscribe(i)})}function un(n,t){return Te((e,i)=>{let r=null,o=0,a=!1,s=()=>a&&!r&&i.complete();e.subscribe(Le(i,d=>{r?.unsubscribe();let p=0,h=o++;mt(n(d,h)).subscribe(r=Le(i,_=>i.next(t?t(d,_,h,p++):_),()=>{r=null,s()}))},()=>{a=!0,s()}))})}function L(n){return Te((t,e)=>{mt(n).subscribe(Le(e,()=>e.complete(),cl)),!e.closed&&t.subscribe(e)})}function N_(n,t=!1){return Te((e,i)=>{let r=0;e.subscribe(Le(i,o=>{let a=n(o,r++);(a||t)&&i.next(o),!a&&i.complete()}))})}function Ht(n,t,e){let i=ve(n)||t||e?{next:n,error:t,complete:e}:n;return i?Te((r,o)=>{var a;(a=i.subscribe)===null||a===void 0||a.call(i);let s=!0;r.subscribe(Le(o,d=>{var p;(p=i.next)===null||p===void 0||p.call(i,d),o.next(d)},()=>{var d;s=!1,(d=i.complete)===null||d===void 0||d.call(i),o.complete()},d=>{var p;s=!1,(p=i.error)===null||p===void 0||p.call(i,d),o.error(d)},()=>{var d,p;s&&((d=i.unsubscribe)===null||d===void 0||d.call(i)),(p=i.finalize)===null||p===void 0||p.call(i)}))}):ri}var F_;function gm(){return F_}function hr(n){let t=F_;return F_=n,t}var Tw=Symbol("NotFound");function js(n){return n===Tw||n?.name==="\u0275NotFound"}var wm="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(t,e){super(Lo(t,e)),this.code=t}};function OR(n){return`NG0${Math.abs(n)}`}function Lo(n,t){return`${OR(n)}${t?": "+t:""}`}var gr=globalThis;function st(n){for(let t in n)if(n[t]===st)return t;throw Error("")}function Lw(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Jr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Jr).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i>=0?e.slice(0,i):e}function Mm(n,t){return n?t?`${n} ${t}`:n:t||""}var PR=st({__forward_ref__:st});function yn(n){return n.__forward_ref__=yn,n.toString=function(){return Jr(this())},n}function Xt(n){return K_(n)?n():n}function K_(n){return typeof n=="function"&&n.hasOwnProperty(PR)&&n.__forward_ref__===yn}function N(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function K(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ml(n){return kR(n,Em)}function Q_(n){return Ml(n)!==null}function kR(n,t){return n.hasOwnProperty(t)&&n[t]||null}function IR(n){let t=n?.[Em]??null;return t||null}function V_(n){return n&&n.hasOwnProperty(vm)?n[vm]:null}var Em=st({\u0275prov:st}),vm=st({\u0275inj:st}),I=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=N({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Z_(n){return n&&!!n.\u0275providers}var X_=st({\u0275cmp:st}),J_=st({\u0275dir:st}),ev=st({\u0275pipe:st}),tv=st({\u0275mod:st}),yl=st({\u0275fac:st}),Na=st({__NG_ELEMENT_ID__:st}),Aw=st({__NG_ENV_ID__:st});function nv(n){return Om(n,"@NgModule"),n[tv]||null}function eo(n){return Om(n,"@Component"),n[X_]||null}function Sm(n){return Om(n,"@Directive"),n[J_]||null}function Vw(n){return Om(n,"@Pipe"),n[ev]||null}function Om(n,t){if(n==null)throw new V(-919,!1)}function _r(n){return typeof n=="string"?n:n==null?"":String(n)}function Bw(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():_r(n)}var jw=st({ngErrorCode:st}),DR=st({ngErrorMessage:st}),TR=st({ngTokenPath:st});function iv(n,t){return zw("",-200,t)}function Pm(n,t){throw new V(-201,!1)}function zw(n,t,e){let i=new V(t,n);return i[jw]=t,i[DR]=n,e&&(i[TR]=e),i}function AR(n){return n[jw]}var B_;function Uw(){return B_}function Nn(n){let t=B_;return B_=n,t}function rv(n,t,e){let i=Ml(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&8)return null;if(t!==void 0)return t;Pm(n,"")}var RR={},Da=RR,NR="__NG_DI_FLAG__",j_=class{injector;constructor(t){this.injector=t}retrieve(t,e){let i=Ta(e)||0;try{return this.injector.get(t,i&8?null:Da,i)}catch(r){if(js(r))return r;throw r}}};function FR(n,t=0){let e=gm();if(e===void 0)throw new V(-203,!1);if(e===null)return rv(n,void 0,t);{let i=LR(t),r=e.retrieve(n,i);if(js(r)){if(i.optional)return null;throw r}return r}}function ne(n,t=0){return(Uw()||FR)(Xt(n),t)}function f(n,t){return ne(n,Ta(t))}function Ta(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function LR(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function z_(n){let t=[];for(let e=0;e<n.length;e++){let i=Xt(n[e]);if(Array.isArray(i)){if(i.length===0)throw new V(900,!1);let r,o=0;for(let a=0;a<i.length;a++){let s=i[a],d=VR(s);typeof d=="number"?d===-1?r=s.token:o|=d:r=s}t.push(ne(r,o))}else t.push(ne(i))}return t}function VR(n){return n[NR]}function Ro(n,t){let e=n.hasOwnProperty(yl);return e?n[yl]:null}function Hw(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}function qw(n){return n.flat(Number.POSITIVE_INFINITY)}function km(n,t){n.forEach(e=>Array.isArray(e)?km(e,t):t(e))}function ov(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function El(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function $w(n,t){let e=[];for(let i=0;i<n;i++)e.push(t);return e}function Gw(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(r===1)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;){let o=r-2;n[r]=n[o],r--}n[t]=e,n[t+1]=i}}function Im(n,t,e){let i=Us(n,t);return i>=0?n[i|1]=e:(i=~i,Gw(n,i,t,e)),i}function Dm(n,t){let e=Us(n,t);if(e>=0)return n[e|1]}function Us(n,t){return BR(n,t,1)}function BR(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){let o=i+(r-i>>1),a=n[o<<e];if(t===a)return o<<e;a>t?r=o:i=o+1}return~(r<<e)}var Vi={},Pn=[],Vo=new I(""),av=new I("",-1),sv=new I(""),bl=class{get(t,e=Da){if(e===Da){let r=zw("",-201);throw r.name="\u0275NotFound",r}return e}};function vr(n){return{\u0275providers:n}}function Ww(n){return vr([{provide:Vo,multi:!0,useValue:n}])}function Yw(...n){return{\u0275providers:cv(!0,n),\u0275fromNgModule:!0}}function cv(n,...t){let e=[],i=new Set,r,o=a=>{e.push(a)};return km(t,a=>{let s=a;ym(s,o,[],i)&&(r||=[],r.push(s))}),r!==void 0&&Kw(r,o),e}function Kw(n,t){for(let e=0;e<n.length;e++){let{ngModule:i,providers:r}=n[e];lv(r,o=>{t(o,i)})}}function ym(n,t,e,i){if(n=Xt(n),!n)return!1;let r=null,o=V_(n),a=!o&&eo(n);if(!o&&!a){let d=n.ngModule;if(o=V_(d),o)r=d;else return!1}else{if(a&&!a.standalone)return!1;r=n}let s=i.has(r);if(a){if(s)return!1;if(i.add(r),a.dependencies){let d=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let p of d)ym(p,t,e,i)}}else if(o){if(o.imports!=null&&!s){i.add(r);let p;try{km(o.imports,h=>{ym(h,t,e,i)&&(p||=[],p.push(h))})}finally{}p!==void 0&&Kw(p,t)}if(!s){let p=Ro(r)||(()=>new r);t({provide:r,useFactory:p,deps:Pn},r),t({provide:sv,useValue:r,multi:!0},r),t({provide:Vo,useValue:()=>ne(r),multi:!0},r)}let d=o.providers;if(d!=null&&!s){let p=n;lv(d,h=>{t(h,p)})}}else return!1;return r!==n&&n.providers!==void 0}function lv(n,t){for(let e of n)Z_(e)&&(e=e.\u0275providers),Array.isArray(e)?lv(e,t):t(e)}var jR=st({provide:String,useValue:st});function Qw(n){return n!==null&&typeof n=="object"&&jR in n}function zR(n){return!!(n&&n.useExisting)}function UR(n){return!!(n&&n.useFactory)}function Aa(n){return typeof n=="function"}function Zw(n){return!!n.useClass}var Sl=new I(""),_m={},Rw={},L_;function Hs(){return L_===void 0&&(L_=new bl),L_}var vt=class{},Ra=class extends vt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,H_(t,a=>this.processProvider(a)),this.records.set(av,zs(void 0,this)),r.has("environment")&&this.records.set(vt,zs(void 0,this));let o=this.records.get(Sl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(sv,Pn,{self:!0}))}retrieve(t,e){let i=Ta(e)||0;try{return this.get(t,Da,i)}catch(r){if(js(r))return r;throw r}}destroy(){vl(this),this._destroyed=!0;let t=_e(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(t)}}onDestroy(t){return vl(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){vl(this);let e=hr(this),i=Nn(void 0),r;try{return t()}finally{hr(e),Nn(i)}}get(t,e=Da,i){if(vl(this),t.hasOwnProperty(Aw))return t[Aw](this);let r=Ta(i),o,a=hr(this),s=Nn(void 0);try{if(!(r&4)){let p=this.records.get(t);if(p===void 0){let h=WR(t)&&Ml(t);h&&this.injectableDefInScope(h)?p=zs(U_(t),_m):p=null,this.records.set(t,p)}if(p!=null)return this.hydrate(t,p,r)}let d=r&2?Hs():this.parent;return e=r&8&&e===Da?null:e,d.get(t,e)}catch(d){let p=AR(d);throw p===-200||p===-201?new V(p,null):d}finally{Nn(s),hr(a)}}resolveInjectorInitializers(){let t=_e(null),e=hr(this),i=Nn(void 0),r;try{let o=this.get(Vo,Pn,{self:!0});for(let a of o)a()}finally{hr(e),Nn(i),_e(t)}}toString(){let t=[],e=this.records;for(let i of e.keys())t.push(Jr(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Xt(t);let e=Aa(t)?t:Xt(t&&t.provide),i=qR(t);if(!Aa(t)&&t.multi===!0){let r=this.records.get(e);r||(r=zs(void 0,_m,!0),r.factory=()=>z_(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e,i){let r=_e(null);try{if(e.value===Rw)throw iv(Jr(t));return e.value===_m&&(e.value=Rw,e.value=e.factory(void 0,i)),typeof e.value=="object"&&e.value&&GR(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{_e(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=Xt(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function U_(n){let t=Ml(n),e=t!==null?t.factory:Ro(n);if(e!==null)return e;if(n instanceof I)throw new V(204,!1);if(n instanceof Function)return HR(n);throw new V(204,!1)}function HR(n){if(n.length>0)throw new V(204,!1);let e=IR(n);return e!==null?()=>e.factory(n):()=>new n}function qR(n){if(Qw(n))return zs(void 0,n.useValue);{let t=dv(n);return zs(t,_m)}}function dv(n,t,e){let i;if(Aa(n)){let r=Xt(n);return Ro(r)||U_(r)}else if(Qw(n))i=()=>Xt(n.useValue);else if(UR(n))i=()=>n.useFactory(...z_(n.deps||[]));else if(zR(n))i=(r,o)=>ne(Xt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let r=Xt(n&&(n.useClass||n.provide));if($R(n))i=()=>new r(...z_(n.deps));else return Ro(r)||U_(r)}return i}function vl(n){if(n.destroyed)throw new V(205,!1)}function zs(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function $R(n){return!!n.deps}function GR(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function WR(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function H_(n,t){for(let e of n)Array.isArray(e)?H_(e,t):e&&Z_(e)?H_(e.\u0275providers,t):t(e)}function bn(n,t){let e;n instanceof Ra?(vl(n),e=n):e=new j_(n);let i,r=hr(e),o=Nn(void 0);try{return t()}finally{hr(r),Nn(o)}}function Xw(){return Uw()!==void 0||gm()!=null}var Bi=0,pe=1,Me=2,Jt=3,bi=4,Fn=5,Fa=6,qs=7,qt=8,to=9,yr=10,pt=11,$s=12,uv=13,La=14,Ln=15,Bo=16,Va=17,br=18,Ol=19,mv=20,Xr=21,Tm=22,No=23,oi=24,Ba=25,ja=26,Et=27,Jw=1,pv=6,jo=7,Pl=8,za=9,At=10;function Cr(n){return Array.isArray(n)&&typeof n[Jw]=="object"}function ji(n){return Array.isArray(n)&&n[Jw]===!0}function hv(n){return(n.flags&4)!==0}function no(n){return n.componentOffset>-1}function Gs(n){return(n.flags&1)===1}function zi(n){return!!n.template}function Ws(n){return(n[Me]&512)!==0}function Ua(n){return(n[Me]&256)===256}var fv="svg",eM="math";function Ci(n){for(;Array.isArray(n);)n=n[Bi];return n}function gv(n,t){return Ci(t[n])}function xi(n,t){return Ci(t[n.index])}function kl(n,t){return n.data[t]}function Am(n,t){return n[t]}function _v(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}function wi(n,t){let e=t[n];return Cr(e)?e:e[Bi]}function tM(n){return(n[Me]&4)===4}function Rm(n){return(n[Me]&128)===128}function nM(n){return ji(n[Jt])}function Mi(n,t){return t==null?null:n[t]}function vv(n){n[Va]=0}function yv(n){n[Me]&1024||(n[Me]|=1024,Rm(n)&&Ha(n))}function iM(n,t){for(;n>0;)t=t[La],n--;return t}function Il(n){return!!(n[Me]&9216||n[oi]?.dirty)}function Nm(n){n[yr].changeDetectionScheduler?.notify(8),n[Me]&64&&(n[Me]|=1024),Il(n)&&Ha(n)}function Ha(n){n[yr].changeDetectionScheduler?.notify(0);let t=Fo(n);for(;t!==null&&!(t[Me]&8192||(t[Me]|=8192,!Rm(t)));)t=Fo(t)}function bv(n,t){if(Ua(n))throw new V(911,!1);n[Xr]===null&&(n[Xr]=[]),n[Xr].push(t)}function rM(n,t){if(n[Xr]===null)return;let e=n[Xr].indexOf(t);e!==-1&&n[Xr].splice(e,1)}function Fo(n){let t=n[Jt];return ji(t)?t[Jt]:t}function Cv(n){return n[qs]??=[]}function xv(n){return n.cleanup??=[]}function oM(n,t,e,i){let r=Cv(t);r.push(e),n.firstCreatePass&&xv(n).push(i,r.length-1)}var Ae={lFrame:gM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var q_=!1;function aM(){return Ae.lFrame.elementDepthCount}function sM(){Ae.lFrame.elementDepthCount++}function wv(){Ae.lFrame.elementDepthCount--}function Fm(){return Ae.bindingsEnabled}function Mv(){return Ae.skipHydrationRootTNode!==null}function Ev(n){return Ae.skipHydrationRootTNode===n}function Sv(){Ae.skipHydrationRootTNode=null}function he(){return Ae.lFrame.lView}function yt(){return Ae.lFrame.tView}function E(n){return Ae.lFrame.contextLView=n,n[qt]}function S(n){return Ae.lFrame.contextLView=null,n}function Yt(){let n=Ov();for(;n!==null&&n.type===64;)n=n.parent;return n}function Ov(){return Ae.lFrame.currentTNode}function cM(){let n=Ae.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Ys(n,t){let e=Ae.lFrame;e.currentTNode=n,e.isParent=t}function Pv(){return Ae.lFrame.isParent}function kv(){Ae.lFrame.isParent=!1}function lM(){return Ae.lFrame.contextLView}function Iv(){return q_}function Cl(n){let t=q_;return q_=n,t}function Lm(){let n=Ae.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Dv(){return Ae.lFrame.bindingIndex}function dM(n){return Ae.lFrame.bindingIndex=n}function io(){return Ae.lFrame.bindingIndex++}function Dl(n){let t=Ae.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function uM(){return Ae.lFrame.inI18n}function mM(n,t){let e=Ae.lFrame;e.bindingIndex=e.bindingRootIndex=n,Vm(t)}function pM(){return Ae.lFrame.currentDirectiveIndex}function Vm(n){Ae.lFrame.currentDirectiveIndex=n}function hM(n){let t=Ae.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function Bm(){return Ae.lFrame.currentQueryIndex}function Tl(n){Ae.lFrame.currentQueryIndex=n}function YR(n){let t=n[pe];return t.type===2?t.declTNode:t.type===1?n[Fn]:null}function Tv(n,t,e){if(e&4){let r=t,o=n;for(;r=r.parent,r===null&&!(e&1);)if(r=YR(o),r===null||(o=o[La],r.type&10))break;if(r===null)return!1;t=r,n=o}let i=Ae.lFrame=fM();return i.currentTNode=t,i.lView=n,!0}function jm(n){let t=fM(),e=n[pe];Ae.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function fM(){let n=Ae.lFrame,t=n===null?null:n.child;return t===null?gM(n):t}function gM(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function _M(){let n=Ae.lFrame;return Ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Av=_M;function zm(){let n=_M();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function vM(n){return(Ae.lFrame.contextLView=iM(n,Ae.lFrame.contextLView))[qt]}function Ui(){return Ae.lFrame.selectedIndex}function zo(n){Ae.lFrame.selectedIndex=n}function Ks(){let n=Ae.lFrame;return kl(n.tView,n.selectedIndex)}function Cn(){Ae.lFrame.currentNamespace=fv}function Uo(){KR()}function KR(){Ae.lFrame.currentNamespace=null}function yM(){return Ae.lFrame.currentNamespace}var bM=!0;function Um(){return bM}function Al(n){bM=n}function $_(n,t=null,e=null,i){let r=Rv(n,t,e,i);return r.resolveInjectorInitializers(),r}function Rv(n,t=null,e=null,i,r=new Set){let o=[e||Pn,Yw(n)];return i=i||(typeof n=="object"?void 0:Jr(n)),new Ra(o,t||Hs(),i||null,r)}var ae=class n{static THROW_IF_NOT_FOUND=Da;static NULL=new bl;static create(t,e){if(Array.isArray(t))return $_({name:""},e,t,"");{let i=t.name??"";return $_({name:i},t.parent,t.providers,i)}}static \u0275prov=N({token:n,providedIn:"any",factory:()=>ne(av)});static __NG_ELEMENT_ID__=-1},ee=new I(""),ai=(()=>{class n{static __NG_ELEMENT_ID__=QR;static __NG_ENV_ID__=e=>e}return n})(),bm=class extends ai{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Ua(this._lView)}onDestroy(t){let e=this._lView;return bv(e,t),()=>rM(e,t)}};function QR(){return new bm(he())}var CM=!1,ro=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ut(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new we(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=N({token:n,providedIn:"root",factory:()=>new n})}return n})(),G_=class extends P{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Xw()&&(this.destroyRef=f(ai,{optional:!0})??void 0,this.pendingTasks=f(ro,{optional:!0})??void 0)}emit(t){let e=_e(null);try{super.next(t)}finally{_e(e)}}subscribe(t,e,i){let r=t,o=e||(()=>null),a=i;if(t&&typeof t=="object"){let d=t;r=d.next?.bind(d),o=d.error?.bind(d),a=d.complete?.bind(d)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:r,error:o,complete:a});return t instanceof je&&t.add(s),s}wrapInTimeout(t){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},U=G_;function Cm(...n){}function Nv(n){let t,e;function i(){n=Cm;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),i()})),()=>i()}function Fv(n){return queueMicrotask(()=>n()),()=>{n=Cm}}var Lv="isAngularZone",xl=Lv+"_ID",ZR=0,$=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new U(!1);onMicrotaskEmpty=new U(!1);onStable=new U(!1);onError=new U(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=CM}=t;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&i,a.shouldCoalesceRunChangeDetection=r,a.callbackScheduled=!1,a.scheduleInRootZone=o,e2(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Lv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new V(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,t,XR,Cm,Cm);try{return o.runTask(a,e,i)}finally{o.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}},XR={};function Vv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function JR(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){Nv(()=>{n.callbackScheduled=!1,W_(n),n.isCheckStableRunning=!0,Vv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),W_(n)}function e2(n){let t=()=>{JR(n)},e=ZR++;n._inner=n._inner.fork({name:"angular",properties:{[Lv]:!0,[xl]:e,[xl+e]:!0},onInvokeTask:(i,r,o,a,s,d)=>{if(t2(d))return i.invokeTask(o,a,s,d);try{return Nw(n),i.invokeTask(o,a,s,d)}finally{(n.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),Fw(n)}},onInvoke:(i,r,o,a,s,d,p)=>{try{return Nw(n),i.invoke(o,a,s,d,p)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!n2(d)&&t(),Fw(n)}},onHasTask:(i,r,o,a)=>{i.hasTask(o,a),r===o&&(a.change=="microTask"?(n._hasPendingMicrotasks=a.microTask,W_(n),Vv(n)):a.change=="macroTask"&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(i,r,o,a)=>(i.handleError(o,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}function W_(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Nw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Fw(n){n._nesting--,Vv(n)}var wl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new U;onMicrotaskEmpty=new U;onStable=new U;onError=new U;run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}};function t2(n){return xM(n,"__ignore_ng_zone__")}function n2(n){return xM(n,"__scheduler_tick__")}function xM(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var Gn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},si=new I("",{factory:()=>{let n=f($),t=f(vt),e;return i=>{n.runOutsideAngular(()=>{t.destroyed&&!e?setTimeout(()=>{throw i}):(e??=t.get(Gn),e.handleError(i))})}}}),wM={provide:Vo,useValue:()=>{let n=f(Gn,{optional:!0})},multi:!0},i2=new I("",{factory:()=>{let n=f(ee).defaultView;if(!n)return;let t=f(si),e=o=>{t(o.reason),o.preventDefault()},i=o=>{o.error?t(o.error):t(new Error(o.message,{cause:o})),o.preventDefault()},r=()=>{n.addEventListener("unhandledrejection",e),n.addEventListener("error",i)};typeof Zone<"u"?Zone.root.run(r):r(),f(ai).onDestroy(()=>{n.removeEventListener("error",i),n.removeEventListener("unhandledrejection",e)})}});function Bv(){return vr([Ww(()=>void f(i2))])}function $e(n,t){let[e,i,r]=b_(n,t?.equal),o=e,a=o[ln];return o.set=i,o.update=r,o.asReadonly=MM.bind(o),o}function MM(){let n=this[ln];if(n.readonlyFn===void 0){let t=()=>this();t[ln]=n,n.readonlyFn=t}return n.readonlyFn}var Qs=(()=>{class n{view;node;constructor(e,i){this.view=e,this.node=i}static __NG_ELEMENT_ID__=r2}return n})();function r2(){return new Qs(he(),Yt())}var fr=class{},Rl=new I("",{factory:()=>!0});var jv=new I(""),Hm=(()=>{class n{internalPendingTasks=f(ro);scheduler=f(fr);errorHandler=f(si);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){let i=this.add();e().catch(this.errorHandler).finally(i)}static \u0275prov=N({token:n,providedIn:"root",factory:()=>new n})}return n})(),qm=(()=>{class n{static \u0275prov=N({token:n,providedIn:"root",factory:()=>new Y_})}return n})(),Y_=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let e=t.zone,i=this.queues.get(e);i.has(t)&&(i.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let i=this.queues.get(e);i.has(t)||i.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[e,i]of this.queues)e===null?t||=this.flushQueue(i):t||=e.run(()=>this.flushQueue(i));t||(this.dirtyEffectCount=0)}}flushQueue(t){let e=!1;for(let i of t)i.dirty&&(this.dirtyEffectCount--,e=!0,i.run());return e}},xm=class{[ln];constructor(t){this[ln]=t}destroy(){this[ln].destroy()}};function Ho(n,t){let e=t?.injector??f(ae),i=t?.manualCleanup!==!0?e.get(ai):null,r,o=e.get(Qs,null,{optional:!0}),a=e.get(fr);return o!==null?(r=s2(o.view,a,n),i instanceof bm&&i._lView===o.view&&(i=null)):r=c2(n,e.get(qm),a),r.injector=e,i!==null&&(r.onDestroyFns=[i.onDestroy(()=>r.destroy())]),new xm(r)}var EM=xe(R({},x_),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let n=Cl(!1);try{w_(this)}finally{Cl(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=_e(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],_e(n)}}}),o2=xe(R({},EM),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(To(this),this.onDestroyFns!==null)for(let n of this.onDestroyFns)n();this.cleanup(),this.scheduler.remove(this)}}),a2=xe(R({},EM),{consumerMarkedDirty(){this.view[Me]|=8192,Ha(this.view),this.notifier.notify(13)},destroy(){if(To(this),this.onDestroyFns!==null)for(let n of this.onDestroyFns)n();this.cleanup(),this.view[No]?.delete(this)}});function s2(n,t,e){let i=Object.create(a2);return i.view=n,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=t,i.fn=SM(i,e),n[No]??=new Set,n[No].add(i),i.consumerMarkedDirty(i),i}function c2(n,t,e){let i=Object.create(o2);return i.fn=SM(i,n),i.scheduler=t,i.notifier=e,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}function SM(n,t){return()=>{t(e=>(n.cleanupFns??=[]).push(e))}}function Rt(n){return C_(n)}function $l(n){return{toString:n}.toString()}function h2(n){return typeof n=="function"}function aE(n,t,e,i){t!==null?t.applyValueToInputSignal(t,i):n[e]=i}var Jm=class{previousValue;currentValue;firstChange;constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}},it=(()=>{let n=()=>sE;return n.ngInherit=!0,n})();function sE(n){return n.type.prototype.ngOnChanges&&(n.setInput=g2),f2}function f2(){let n=lE(this),t=n?.current;if(t){let e=n.previous;if(e===Vi)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function g2(n,t,e,i,r){let o=this.declaredInputs[i],a=lE(n)||_2(n,{previous:Vi,current:null}),s=a.current||(a.current={}),d=a.previous,p=d[o];s[o]=new Jm(p&&p.currentValue,e,d===Vi),aE(n,t,r,e)}var cE="__ngSimpleChanges__";function lE(n){return n[cE]||null}function _2(n,t){return n[cE]=t}var OM=[];var ct=function(n,t=null,e){for(let i=0;i<OM.length;i++){let r=OM[i];r(n,t,e)}},Ze=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(Ze||{});function v2(n,t,e){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let a=sE(t);(e.preOrderHooks??=[]).push(n,a),(e.preOrderCheckHooks??=[]).push(n,a)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function dE(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:d,ngAfterViewChecked:p,ngOnDestroy:h}=o;a&&(n.contentHooks??=[]).push(-e,a),s&&((n.contentHooks??=[]).push(e,s),(n.contentCheckHooks??=[]).push(e,s)),d&&(n.viewHooks??=[]).push(-e,d),p&&((n.viewHooks??=[]).push(e,p),(n.viewCheckHooks??=[]).push(e,p)),h!=null&&(n.destroyHooks??=[]).push(e,h)}}function Ym(n,t,e){uE(n,t,3,e)}function Km(n,t,e,i){(n[Me]&3)===e&&uE(n,t,e,i)}function zv(n,t){let e=n[Me];(e&3)===t&&(e&=16383,e+=1,n[Me]=e)}function uE(n,t,e,i){let r=i!==void 0?n[Va]&65535:0,o=i??-1,a=t.length-1,s=0;for(let d=r;d<a;d++)if(typeof t[d+1]=="number"){if(s=t[d],i!=null&&s>=i)break}else t[d]<0&&(n[Va]+=65536),(s<o||o==-1)&&(y2(n,e,t,d),n[Va]=(n[Va]&4294901760)+d+2),d++}function PM(n,t){ct(Ze.LifecycleHookStart,n,t);let e=_e(null);try{t.call(n)}finally{_e(e),ct(Ze.LifecycleHookEnd,n,t)}}function y2(n,t,e,i){let r=e[i]<0,o=e[i+1],a=r?-e[i]:e[i],s=n[a];r?n[Me]>>14<n[Va]>>16&&(n[Me]&3)===t&&(n[Me]+=16384,PM(s,o)):PM(s,o)}var Xs=-1,$a=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,i,r){this.factory=t,this.name=r,this.canSeeViewProviders=e,this.injectImpl=i}};function b2(n){return(n.flags&8)!==0}function C2(n){return(n.flags&16)!==0}function x2(n,t,e){let i=0;for(;i<e.length;){let r=e[i];if(typeof r=="number"){if(r!==0)break;i++;let o=e[i++],a=e[i++],s=e[i++];n.setAttribute(t,a,s,o)}else{let o=r,a=e[++i];w2(o)?n.setProperty(t,o,a):n.setAttribute(t,o,a),i++}}return i}function mE(n){return n===3||n===4||n===6}function w2(n){return n.charCodeAt(0)===64}function Js(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?e=r:e===0||(e===-1||e===2?kM(n,e,r,null,t[++i]):kM(n,e,r,null,null))}}return n}function kM(n,t,e,i,r){let o=0,a=n.length;if(t===-1)a=-1;else for(;o<n.length;){let s=n[o++];if(typeof s=="number"){if(s===t){a=-1;break}else if(s>t){a=o-1;break}}}for(;o<n.length;){let s=n[o];if(typeof s=="number")break;if(s===e){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}a!==-1&&(n.splice(a,0,t),o=a+1),n.splice(o++,0,e),r!==null&&n.splice(o++,0,r)}function pE(n){return n!==Xs}function ep(n){return n&32767}function M2(n){return n>>16}function tp(n,t){let e=M2(n),i=t;for(;e>0;)i=i[La],e--;return i}var Xv=!0;function np(n){let t=Xv;return Xv=n,t}var E2=256,hE=E2-1,fE=5,S2=0,xr={};function O2(n,t,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(Na)&&(i=e[Na]),i==null&&(i=e[Na]=S2++);let r=i&hE,o=1<<r;t.data[n+(r>>fE)]|=o}function ip(n,t){let e=gE(n,t);if(e!==-1)return e;let i=t[pe];i.firstCreatePass&&(n.injectorIndex=t.length,Uv(i.data,n),Uv(t,null),Uv(i.blueprint,null));let r=Ay(n,t),o=n.injectorIndex;if(pE(r)){let a=ep(r),s=tp(r,t),d=s[pe].data;for(let p=0;p<8;p++)t[o+p]=s[a+p]|d[a+p]}return t[o+8]=r,o}function Uv(n,t){n.push(0,0,0,0,0,0,0,0,t)}function gE(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function Ay(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;r!==null;){if(i=CE(r),i===null)return Xs;if(e++,r=r[La],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return Xs}function Jv(n,t,e){O2(n,t,e)}function P2(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let i=e.length,r=0;for(;r<i;){let o=e[r];if(mE(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof e[r]=="string";)r++;else{if(o===t)return e[r+1];r=r+2}}}return null}function _E(n,t,e){if(e&8||n!==void 0)return n;Pm(t,"NodeInjector")}function vE(n,t,e,i){if(e&8&&i===void 0&&(i=null),(e&3)===0){let r=n[to],o=Nn(void 0);try{return r?r.get(t,i,e&8):rv(t,i,e&8)}finally{Nn(o)}}return _E(i,t,e)}function yE(n,t,e,i=0,r){if(n!==null){if(t[Me]&2048&&!(i&2)){let a=T2(n,t,e,i,xr);if(a!==xr)return a}let o=bE(n,t,e,i,xr);if(o!==xr)return o}return vE(t,e,i,r)}function bE(n,t,e,i,r){let o=I2(e);if(typeof o=="function"){if(!Tv(t,n,i))return i&1?_E(r,e,i):vE(t,e,i,r);try{let a;if(a=o(i),a==null&&!(i&8))Pm(e);else return a}finally{Av()}}else if(typeof o=="number"){let a=null,s=gE(n,t),d=Xs,p=i&1?t[Ln][Fn]:null;for((s===-1||i&4)&&(d=s===-1?Ay(n,t):t[s+8],d===Xs||!DM(i,!1)?s=-1:(a=t[pe],s=ep(d),t=tp(d,t)));s!==-1;){let h=t[pe];if(IM(o,s,h.data)){let _=k2(s,t,e,a,i,p);if(_!==xr)return _}d=t[s+8],d!==Xs&&DM(i,t[pe].data[s+8]===p)&&IM(o,s,t)?(a=h,s=ep(d),t=tp(d,t)):s=-1}}return r}function k2(n,t,e,i,r,o){let a=t[pe],s=a.data[n+8],d=i==null?no(s)&&Xv:i!=a&&(s.type&3)!==0,p=r&1&&o===s,h=Qm(s,a,e,d,p);return h!==null?Vl(t,a,h,s,r):xr}function Qm(n,t,e,i,r){let o=n.providerIndexes,a=t.data,s=o&1048575,d=n.directiveStart,p=n.directiveEnd,h=o>>20,_=i?s:s+h,b=r?s+h:p;for(let y=_;y<b;y++){let M=a[y];if(y<d&&e===M||y>=d&&M.type===e)return y}if(r){let y=a[d];if(y&&zi(y)&&y.type===e)return d}return null}function Vl(n,t,e,i,r){let o=n[e],a=t.data;if(o instanceof $a){let s=o;if(s.resolving){let y=Bw(a[e]);throw iv(y)}let d=np(s.canSeeViewProviders);s.resolving=!0;let p=a[e].type||a[e],h,_=s.injectImpl?Nn(s.injectImpl):null,b=Tv(n,i,0);try{o=n[e]=s.factory(void 0,r,a,n,i),t.firstCreatePass&&e>=i.directiveStart&&v2(e,a[e],t)}finally{_!==null&&Nn(_),np(d),s.resolving=!1,Av()}}return o}function I2(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(Na)?n[Na]:void 0;return typeof t=="number"?t>=0?t&hE:D2:t}function IM(n,t,e){let i=1<<n;return!!(e[t+(n>>fE)]&i)}function DM(n,t){return!(n&2)&&!(n&1&&t)}var qa=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return yE(this._tNode,this._lView,t,Ta(i),e)}};function D2(){return new qa(Yt(),he())}function Xe(n){return $l(()=>{let t=n.prototype.constructor,e=t[yl]||ey(t),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[yl]||ey(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function ey(n){return K_(n)?()=>{let t=ey(Xt(n));return t&&t()}:Ro(n)}function T2(n,t,e,i,r){let o=n,a=t;for(;o!==null&&a!==null&&a[Me]&2048&&!Ws(a);){let s=bE(o,a,e,i|2,xr);if(s!==xr)return s;let d=o.parent;if(!d){let p=a[mv];if(p){let h=p.get(e,xr,i);if(h!==xr)return h}d=CE(a),a=a[La]}o=d}return r}function CE(n){let t=n[pe],e=t.type;return e===2?t.declTNode:e===1?n[Fn]:null}function Ry(n){return P2(Yt(),n)}function A2(){return ic(Yt(),he())}function ic(n,t){return new G(xi(n,t))}var G=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=A2}return n})();function xE(n){return n instanceof G?n.nativeElement:n}function R2(){return this._results[Symbol.iterator]()}var ci=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new P}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let i=qw(t);(this._changesDetected=!Hw(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=R2};function wE(n){return(n.flags&128)===128}var Ny=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Ny||{}),ME=new Map,N2=0;function F2(){return N2++}function L2(n){ME.set(n[Ol],n)}function ty(n){ME.delete(n[Ol])}var TM="__ngContext__";function ec(n,t){Cr(t)?(n[TM]=t[Ol],L2(t)):n[TM]=t}function EE(n){return OE(n[$s])}function SE(n){return OE(n[bi])}function OE(n){for(;n!==null&&!ji(n);)n=n[bi];return n}var V2;function Fy(n){V2=n}var $o=new I("",{factory:()=>B2}),B2="ng";var gp=new I(""),Ka=new I("",{providedIn:"platform",factory:()=>"unknown"}),Go=new I(""),rc=new I("",{factory:()=>f(ee).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var PE="r";var kE="di";var IE=!1,DE=new I("",{factory:()=>IE});var j2=(n,t,e,i)=>{};function z2(n,t,e,i){j2(n,t,e,i)}function _p(n){return(n.flags&32)===32}var U2=()=>null;function TE(n,t,e=!1){return U2(n,t,e)}function AE(n,t){let e=n.contentQueries;if(e!==null){let i=_e(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],a=e[r+1];if(a!==-1){let s=n.data[a];Tl(o),s.contentQueries(2,t[a],a)}}}finally{_e(i)}}}function ny(n,t,e){Tl(0);let i=_e(null);try{t(n,e)}finally{_e(i)}}function Ly(n,t,e){if(hv(t)){let i=_e(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let a=r;a<o;a++){let s=n.data[a];if(s.contentQueries){let d=e[a];s.contentQueries(1,d,a)}}}finally{_e(i)}}}var $i=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})($i||{});var $m;function H2(){if($m===void 0&&($m=null,gr.trustedTypes))try{$m=gr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return $m}function vp(n){return H2()?.createHTML(n)||n}var oo=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wm})`}},iy=class extends oo{getTypeName(){return"HTML"}},ry=class extends oo{getTypeName(){return"Style"}},oy=class extends oo{getTypeName(){return"Script"}},ay=class extends oo{getTypeName(){return"URL"}},sy=class extends oo{getTypeName(){return"ResourceURL"}};function Er(n){return n instanceof oo?n.changingThisBreaksApplicationSecurity:n}function Wo(n,t){let e=RE(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${wm})`)}return e===t}function RE(n){return n instanceof oo&&n.getTypeName()||null}function Vy(n){return new iy(n)}function By(n){return new ry(n)}function jy(n){return new oy(n)}function zy(n){return new ay(n)}function Uy(n){return new sy(n)}function q2(n){let t=new ly(n);return $2()?new cy(t):t}var cy=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(vp(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}},ly=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=vp(t),e}};function $2(){try{return!!new window.DOMParser().parseFromString(vp(""),"text/html")}catch{return!1}}var G2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Gl(n){return n=String(n),n.match(G2)?n:"unsafe:"+n}function ao(n){let t={};for(let e of n.split(","))t[e]=!0;return t}function Wl(...n){let t={};for(let e of n)for(let i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}var NE=ao("area,br,col,hr,img,wbr"),FE=ao("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),LE=ao("rp,rt"),W2=Wl(LE,FE),Y2=Wl(FE,ao("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),K2=Wl(LE,ao("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),AM=Wl(NE,Y2,K2,W2),VE=ao("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Q2=ao("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Z2=ao("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),X2=Wl(VE,Q2,Z2),J2=ao("script,style,template"),dy=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let e=t.firstChild,i=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild){r.push(e),e=nN(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=tN(e);if(o){e=o;break}e=r.pop()}}return this.buf.join("")}startElement(t){let e=RM(t).toLowerCase();if(!AM.hasOwnProperty(e))return this.sanitizedSomething=!0,!J2.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let i=t.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),a=o.name,s=a.toLowerCase();if(!X2.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let d=o.value;VE[s]&&(d=Gl(d)),this.buf.push(" ",a,'="',NM(d),'"')}return this.buf.push(">"),!0}endElement(t){let e=RM(t).toLowerCase();AM.hasOwnProperty(e)&&!NE.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(NM(t))}};function eN(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function tN(n){let t=n.nextSibling;if(t&&n!==t.previousSibling)throw BE(t);return t}function nN(n){let t=n.firstChild;if(t&&eN(n,t))throw BE(t);return t}function RM(n){let t=n.nodeName;return typeof t=="string"?t:"FORM"}function BE(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var iN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rN=/([^\#-~ |!])/g;function NM(n){return n.replace(/&/g,"&amp;").replace(iN,function(t){let e=t.charCodeAt(0),i=t.charCodeAt(1);return"&#"+((e-55296)*1024+(i-56320)+65536)+";"}).replace(rN,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Gm;function Hy(n,t){let e=null;try{Gm=Gm||q2(n);let i=t?String(t):"";e=Gm.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=Gm.getInertBodyElement(i)}while(i!==o);let s=new dy().sanitizeChildren(FM(e)||e);return vp(s)}finally{if(e){let i=FM(e)||e;for(;i.firstChild;)i.firstChild.remove()}}}function FM(n){return"content"in n&&oN(n)?n.content:null}function oN(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var aN=/^>|^->|<!--|-->|--!>|<!-$/g,sN=/(<|>)/g,cN="\u200B$1\u200B";function lN(n){return n.replace(aN,t=>t.replace(sN,cN))}function dN(n,t){return n.createText(t)}function uN(n,t,e){n.setValue(t,e)}function mN(n,t){return n.createComment(lN(t))}function jE(n,t,e){return n.createElement(t,e)}function rp(n,t,e,i,r){n.insertBefore(t,e,i,r)}function zE(n,t,e){n.appendChild(t,e)}function LM(n,t,e,i,r){i!==null?rp(n,t,e,i,r):zE(n,t,e)}function UE(n,t,e,i){n.removeChild(null,t,e,i)}function pN(n,t,e){n.setAttribute(t,"style",e)}function hN(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function HE(n,t,e){let{mergedAttrs:i,classes:r,styles:o}=e;i!==null&&x2(n,t,i),r!==null&&hN(n,t,r),o!==null&&pN(n,t,o)}var kn=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(kn||{});function Gi(n){let t=fN();return t?t.sanitize(kn.URL,n)||"":Wo(n,"URL")?Er(n):Gl(_r(n))}function fN(){let n=he();return n&&n[yr].sanitizer}function yp(n){return n.ownerDocument.defaultView}function qE(n){return n instanceof Function?n():n}function gN(n,t,e){let i=n.length;for(;;){let r=n.indexOf(t,e);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}var $E="ng-template";function _N(n,t,e,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&gN(t[r+1].toLowerCase(),e,0)!==-1)return!0}else if(qy(n))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function qy(n){return n.type===4&&n.value!==$E}function vN(n,t,e){let i=n.type===4&&!e?$E:n.value;return t===i}function yN(n,t,e){let i=4,r=n.attrs,o=r!==null?xN(r):0,a=!1;for(let s=0;s<t.length;s++){let d=t[s];if(typeof d=="number"){if(!a&&!Hi(i)&&!Hi(d))return!1;if(a&&Hi(d))continue;a=!1,i=d|i&1;continue}if(!a)if(i&4){if(i=2|i&1,d!==""&&!vN(n,d,e)||d===""&&t.length===1){if(Hi(i))return!1;a=!0}}else if(i&8){if(r===null||!_N(n,r,d,e)){if(Hi(i))return!1;a=!0}}else{let p=t[++s],h=bN(d,r,qy(n),e);if(h===-1){if(Hi(i))return!1;a=!0;continue}if(p!==""){let _;if(h>o?_="":_=r[h+1].toLowerCase(),i&2&&p!==_){if(Hi(i))return!1;a=!0}}}}return Hi(i)||a}function Hi(n){return(n&1)===0}function bN(n,t,e,i){if(t===null)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){let a=t[r];if(a===n)return r;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=t[++r];for(;typeof s=="string";)s=t[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=o?1:2}return-1}else return wN(t,n)}function GE(n,t,e=!1){for(let i=0;i<t.length;i++)if(yN(n,t[i],e))return!0;return!1}function CN(n){let t=n.attrs;if(t!=null){let e=t.indexOf(5);if((e&1)===0)return t[e+1]}return null}function xN(n){for(let t=0;t<n.length;t++){let e=n[t];if(mE(e))return t}return n.length}function wN(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let i=n[e];if(typeof i=="number")return-1;if(i===t)return e;e++}return-1}function MN(n,t){e:for(let e=0;e<t.length;e++){let i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function VM(n,t){return n?":not("+t.trim()+")":t}function EN(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let a=n[e];if(typeof a=="string")if(i&2){let s=n[++e];r+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else i&8?r+="."+a:i&4&&(r+=" "+a);else r!==""&&!Hi(a)&&(t+=VM(o,r),r=""),i=a,o=o||!Hi(i);e++}return r!==""&&(t+=VM(o,r)),t}function SN(n){return n.map(EN).join(",")}function ON(n){let t=[],e=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&t.push(o,n[++i]):r===8&&e.push(o);else{if(!Hi(r))break;r=o}i++}return e.length&&t.push(1,...e),t}var xn={};function $y(n,t,e,i,r,o,a,s,d,p,h){let _=Et+i,b=_+r,y=PN(_,b),M=typeof p=="function"?p():p;return y[pe]={type:n,blueprint:y,template:e,queries:null,viewQuery:s,declTNode:t,data:y.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:d,consts:M,incompleteFirstPass:!1,ssrId:h}}function PN(n,t){let e=[];for(let i=0;i<t;i++)e.push(i<n?null:xn);return e}function kN(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=$y(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Gy(n,t,e,i,r,o,a,s,d,p,h){let _=t.blueprint.slice();return _[Bi]=r,_[Me]=i|4|128|8|64|1024,(p!==null||n&&n[Me]&2048)&&(_[Me]|=2048),vv(_),_[Jt]=_[La]=n,_[qt]=e,_[yr]=a||n&&n[yr],_[pt]=s||n&&n[pt],_[to]=d||n&&n[to]||null,_[Fn]=o,_[Ol]=F2(),_[Fa]=h,_[mv]=p,_[Ln]=t.type==2?n[Ln]:_,_}function IN(n,t,e){let i=xi(t,n),r=kN(e),o=n[yr].rendererFactory,a=Wy(n,Gy(n,r,null,WE(e),i,t,null,o.createRenderer(i,e),null,null,null));return n[t.index]=a}function WE(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function YE(n,t,e,i){if(e===0)return-1;let r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Wy(n,t){return n[$s]?n[uv][bi]=t:n[$s]=t,n[uv]=t,t}function m(n=1){KE(yt(),he(),Ui()+n,!1)}function KE(n,t,e,i){if(!i)if((t[Me]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Ym(t,o,e)}else{let o=n.preOrderHooks;o!==null&&Km(t,o,0,e)}zo(e)}var bp=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(bp||{});function uy(n,t,e,i){let r=_e(null);try{let[o,a,s]=n.inputs[e],d=null;(a&bp.SignalBased)!==0&&(d=t[o][ln]),d!==null&&d.transformFn!==void 0?i=d.transformFn(i):s!==null&&(i=s.call(t,i)),n.setInput!==null?n.setInput(t,d,i,e,o):aE(t,d,o,i)}finally{_e(r)}}var wr=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(wr||{}),DN;function Yy(n,t){return DN(n,t)}var Ga=new Set,Cp=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Cp||{}),Sr=new I(""),BM=new Set;function Or(n){BM.has(n)||(BM.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var xp=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=N({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ky=[0,1,2,3],Qy=(()=>{class n{ngZone=f($);scheduler=f(fr);errorHandler=f(Gn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){f(Sr,{optional:!0})}execute(){let e=this.sequences.size>0;e&&ct(Ze.AfterRenderHooksStart),this.executing=!0;for(let i of Ky)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&ct(Ze.AfterRenderHooksEnd)}register(e){let{view:i}=e;i!==void 0?((i[Ba]??=[]).push(e),Ha(i),i[Me]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,i){return i?i.run(Cp.AFTER_NEXT_RENDER,e):e()}static \u0275prov=N({token:n,providedIn:"root",factory:()=>new n})}return n})(),Bl=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,i,r,o,a=null){this.impl=t,this.hooks=e,this.view=i,this.once=r,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Ba];t&&(this.view[Ba]=t.filter(e=>e!==this))}};function $t(n,t){let e=t?.injector??f(ae);return Or("NgAfterNextRender"),AN(n,e,t,!0)}function TN(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function AN(n,t,e,i){let r=t.get(xp);r.impl??=t.get(Qy);let o=t.get(Sr,null,{optional:!0}),a=e?.manualCleanup!==!0?t.get(ai):null,s=t.get(Qs,null,{optional:!0}),d=new Bl(r.impl,TN(n),s?.view,i,a,o?.snapshot(null));return r.impl.register(d),d}var QE=new I("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:f(vt)})});function ZE(n,t,e){let i=n.get(QE);if(Array.isArray(t))for(let r of t)i.queue.add(r),e?.detachedLeaveAnimationFns?.push(r);else i.queue.add(t),e?.detachedLeaveAnimationFns?.push(t);i.scheduler&&i.scheduler(n)}function RN(n,t){let e=n.get(QE);if(t.detachedLeaveAnimationFns){for(let i of t.detachedLeaveAnimationFns)e.queue.delete(i);t.detachedLeaveAnimationFns=void 0}}function NN(n,t){for(let[e,i]of t)ZE(n,i.animateFns)}function jM(n,t,e,i){let r=n?.[ja]?.enter;t!==null&&r&&r.has(e.index)&&NN(i,r)}function Zs(n,t,e,i,r,o,a,s){if(r!=null){let d,p=!1;ji(r)?d=r:Cr(r)&&(p=!0,r=r[Bi]);let h=Ci(r);n===0&&i!==null?(jM(s,i,o,e),a==null?zE(t,i,h):rp(t,i,h,a||null,!0)):n===1&&i!==null?(jM(s,i,o,e),rp(t,i,h,a||null,!0)):n===2?zM(s,o,e,_=>{UE(t,h,p,_)}):n===3&&zM(s,o,e,()=>{t.destroyNode(h)}),d!=null&&GN(t,n,e,d,o,i,a)}}function FN(n,t){XE(n,t),t[Bi]=null,t[Fn]=null}function LN(n,t,e,i,r,o){i[Bi]=r,i[Fn]=t,Mp(n,i,e,1,r,o)}function XE(n,t){t[yr].changeDetectionScheduler?.notify(9),Mp(n,t,t[pt],2,null,null)}function VN(n){let t=n[$s];if(!t)return Hv(n[pe],n);for(;t;){let e=null;if(Cr(t))e=t[$s];else{let i=t[At];i&&(e=i)}if(!e){for(;t&&!t[bi]&&t!==n;)Cr(t)&&Hv(t[pe],t),t=t[Jt];t===null&&(t=n),Cr(t)&&Hv(t[pe],t),e=t&&t[bi]}t=e}}function Zy(n,t){let e=n[za],i=e.indexOf(t);e.splice(i,1)}function wp(n,t){if(Ua(t))return;let e=t[pt];e.destroyNode&&Mp(n,t,e,3,null,null),VN(t)}function Hv(n,t){if(Ua(t))return;let e=_e(null);try{t[Me]&=-129,t[Me]|=256,t[oi]&&To(t[oi]),zN(n,t),jN(n,t),t[pe].type===1&&t[pt].destroy();let i=t[Bo];if(i!==null&&ji(t[Jt])){i!==t[Jt]&&Zy(i,t);let r=t[br];r!==null&&r.detachView(n)}ty(t)}finally{_e(e)}}function zM(n,t,e,i){let r=n?.[ja];if(r==null||r.leave==null||!r.leave.has(t.index))return i(!1);n&&Ga.add(n),ZE(e,()=>{if(r.leave&&r.leave.has(t.index)){let a=r.leave.get(t.index),s=[];if(a){for(let d=0;d<a.animateFns.length;d++){let p=a.animateFns[d],{promise:h}=p();s.push(h)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(s),BN(n,i)}else n&&Ga.delete(n),i(!1)},r)}function BN(n,t){let e=n[ja]?.running;if(e){e.then(()=>{n[ja].running=void 0,Ga.delete(n),t(!0)});return}t(!1)}function jN(n,t){let e=n.cleanup,i=t[qs];if(e!==null)for(let a=0;a<e.length-1;a+=2)if(typeof e[a]=="string"){let s=e[a+3];s>=0?i[s]():i[-s].unsubscribe(),a+=2}else{let s=i[e[a+1]];e[a].call(s)}i!==null&&(t[qs]=null);let r=t[Xr];if(r!==null){t[Xr]=null;for(let a=0;a<r.length;a++){let s=r[a];s()}}let o=t[No];if(o!==null){t[No]=null;for(let a of o)a.destroy()}}function zN(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let r=t[e[i]];if(!(r instanceof $a)){let o=e[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=r[o[a]],d=o[a+1];ct(Ze.LifecycleHookStart,s,d);try{d.call(s)}finally{ct(Ze.LifecycleHookEnd,s,d)}}else{ct(Ze.LifecycleHookStart,r,o);try{o.call(r)}finally{ct(Ze.LifecycleHookEnd,r,o)}}}}}function JE(n,t,e){return UN(n,t.parent,e)}function UN(n,t,e){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return e[Bi];if(no(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===$i.None||r===$i.Emulated)return null}return xi(i,e)}function eS(n,t,e){return qN(n,t,e)}function HN(n,t,e){return n.type&40?xi(n,e):null}var qN=HN,UM;function Xy(n,t,e,i){let r=JE(n,i,t),o=t[pt],a=i.parent||t[Fn],s=eS(a,i,t);if(r!=null)if(Array.isArray(e))for(let d=0;d<e.length;d++)LM(o,r,e[d],s,!1);else LM(o,r,e,s,!1);UM!==void 0&&UM(o,i,t,e,r)}function Fl(n,t){if(t!==null){let e=t.type;if(e&3)return xi(t,n);if(e&4)return my(-1,n[t.index]);if(e&8){let i=t.child;if(i!==null)return Fl(n,i);{let r=n[t.index];return ji(r)?my(-1,r):Ci(r)}}else{if(e&128)return Fl(n,t.next);if(e&32)return Yy(t,n)()||Ci(n[t.index]);{let i=tS(n,t);if(i!==null){if(Array.isArray(i))return i[0];let r=Fo(n[Ln]);return Fl(r,i)}else return Fl(n,t.next)}}}return null}function tS(n,t){if(t!==null){let i=n[Ln][Fn],r=t.projection;return i.projection[r]}return null}function my(n,t){let e=At+n+1;if(e<t.length){let i=t[e],r=i[pe].firstChild;if(r!==null)return Fl(i,r)}return t[jo]}function Jy(n,t,e,i,r,o,a){for(;e!=null;){let s=i[to];if(e.type===128){e=e.next;continue}let d=i[e.index],p=e.type;if(a&&t===0&&(d&&ec(Ci(d),i),e.flags|=2),!_p(e))if(p&8)Jy(n,t,e.child,i,r,o,!1),Zs(t,n,s,r,d,e,o,i);else if(p&32){let h=Yy(e,i),_;for(;_=h();)Zs(t,n,s,r,_,e,o,i);Zs(t,n,s,r,d,e,o,i)}else p&16?nS(n,t,i,e,r,o):Zs(t,n,s,r,d,e,o,i);e=a?e.projectionNext:e.next}}function Mp(n,t,e,i,r,o){Jy(e,i,n.firstChild,t,r,o,!1)}function $N(n,t,e){let i=t[pt],r=JE(n,e,t),o=e.parent||t[Fn],a=eS(o,e,t);nS(i,0,t,e,r,a)}function nS(n,t,e,i,r,o){let a=e[Ln],d=a[Fn].projection[i.projection];if(Array.isArray(d))for(let p=0;p<d.length;p++){let h=d[p];Zs(t,n,e[to],r,h,i,o,e)}else{let p=d,h=a[Jt];wE(i)&&(p.flags|=128),Jy(n,t,p,h,r,o,!0)}}function GN(n,t,e,i,r,o,a){let s=i[jo],d=Ci(i);s!==d&&Zs(t,n,e,o,s,r,a);for(let p=At;p<i.length;p++){let h=i[p];Mp(h[pe],h,n,t,o,s)}}function WN(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=i.indexOf("-")===-1?void 0:wr.DashCase;r==null?n.removeStyle(e,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=wr.Important),n.setStyle(e,i,r,o))}}function iS(n,t,e,i,r){let o=Ui(),a=i&2;try{zo(-1),a&&t.length>Et&&KE(n,t,Et,!1);let s=a?Ze.TemplateUpdateStart:Ze.TemplateCreateStart;ct(s,r,e),e(i,r)}finally{zo(o);let s=a?Ze.TemplateUpdateEnd:Ze.TemplateCreateEnd;ct(s,r,e)}}function Ep(n,t,e){XN(n,t,e),(e.flags&64)===64&&JN(n,t,e)}function Yl(n,t,e=xi){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let a=i[o+1],s=a===-1?e(t,n):n[a];n[r++]=s}}}function YN(n,t,e,i){let o=i.get(DE,IE)||e===$i.ShadowDom||e===$i.ExperimentalIsolatedShadowDom,a=n.selectRootElement(t,o);return KN(a),a}function KN(n){QN(n)}var QN=()=>null;function ZN(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function rS(n,t,e,i,r,o){let a=t[pe];if(Sp(n,a,t,e,i)){no(n)&&aS(t,n.index);return}n.type&3&&(e=ZN(e)),oS(n,t,e,i,r,o)}function oS(n,t,e,i,r,o){if(n.type&3){let a=xi(n,t);i=o!=null?o(i,n.value||"",e):i,r.setProperty(a,e,i)}else n.type&12}function aS(n,t){let e=wi(t,n);e[Me]&16||(e[Me]|=64)}function XN(n,t,e){let i=e.directiveStart,r=e.directiveEnd;no(e)&&IN(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||ip(e,t);let o=e.initialInputs;for(let a=i;a<r;a++){let s=n.data[a],d=Vl(t,n,a,e);if(ec(d,t),o!==null&&nF(t,a-i,d,s,e,o),zi(s)){let p=wi(e.index,t);p[qt]=Vl(t,n,a,e)}}}function JN(n,t,e){let i=e.directiveStart,r=e.directiveEnd,o=e.index,a=pM();try{zo(o);for(let s=i;s<r;s++){let d=n.data[s],p=t[s];Vm(s),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&eF(d,p)}}finally{zo(-1),Vm(a)}}function eF(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function eb(n,t){let e=n.directiveRegistry,i=null;if(e)for(let r=0;r<e.length;r++){let o=e[r];GE(t,o.selectors,!1)&&(i??=[],zi(o)?i.unshift(o):i.push(o))}return i}function tF(n,t,e,i,r,o){let a=xi(n,t);sS(t[pt],a,o,n.value,e,i,r)}function sS(n,t,e,i,r,o,a){if(o==null)n.removeAttribute(t,r,e);else{let s=a==null?_r(o):a(o,i||"",r);n.setAttribute(t,r,s,e)}}function nF(n,t,e,i,r,o){let a=o[t];if(a!==null)for(let s=0;s<a.length;s+=2){let d=a[s],p=a[s+1];uy(i,e,d,p)}}function tb(n,t,e,i,r){let o=Et+e,a=t[pe],s=r(a,t,n,i,e);t[o]=s,Ys(n,!0);let d=n.type===2;return d?(HE(t[pt],s,n),(aM()===0||Gs(n))&&ec(s,t),sM()):ec(s,t),Um()&&(!d||!_p(n))&&Xy(a,t,s,n),n}function nb(n){let t=n;return Pv()?kv():(t=t.parent,Ys(t,!1)),t}function iF(n,t){let e=n[to];if(!e)return;let i;try{i=e.get(si,null)}catch{i=null}i?.(t)}function Sp(n,t,e,i,r){let o=n.inputs?.[i],a=n.hostDirectiveInputs?.[i],s=!1;if(a)for(let d=0;d<a.length;d+=2){let p=a[d],h=a[d+1],_=t.data[p];uy(_,e[p],h,r),s=!0}if(o)for(let d of o){let p=e[d],h=t.data[d];uy(h,p,i,r),s=!0}return s}function rF(n,t){let e=wi(t,n),i=e[pe];oF(i,e);let r=e[Bi];r!==null&&e[Fa]===null&&(e[Fa]=TE(r,e[to])),ct(Ze.ComponentStart);try{ib(i,e,e[qt])}finally{ct(Ze.ComponentEnd,e[qt])}}function oF(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function ib(n,t,e){jm(t);try{let i=n.viewQuery;i!==null&&ny(1,i,e);let r=n.template;r!==null&&iS(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[br]?.finishViewCreation(n),n.staticContentQueries&&AE(n,t),n.staticViewQueries&&ny(2,n.viewQuery,e);let o=n.components;o!==null&&aF(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Me]&=-5,zm()}}function aF(n,t){for(let e=0;e<t.length;e++)rF(n,t[e])}function Kl(n,t,e,i){let r=_e(null);try{let o=t.tView,s=n[Me]&4096?4096:16,d=Gy(n,o,e,s,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),p=n[t.index];d[Bo]=p;let h=n[br];return h!==null&&(d[br]=h.createEmbeddedView(o)),ib(o,d,e),d}finally{_e(r)}}function tc(n,t){return!t||t.firstChild===null||wE(n)}function jl(n,t,e,i,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&i.push(Ci(o)),ji(o)&&cS(o,i);let a=e.type;if(a&8)jl(n,t,e.child,i);else if(a&32){let s=Yy(e,t),d;for(;d=s();)i.push(d)}else if(a&16){let s=tS(t,e);if(Array.isArray(s))i.push(...s);else{let d=Fo(t[Ln]);jl(d[pe],d,s,i,!0)}}e=r?e.projectionNext:e.next}return i}function cS(n,t){for(let e=At;e<n.length;e++){let i=n[e],r=i[pe].firstChild;r!==null&&jl(i[pe],i,r,t)}n[jo]!==n[Bi]&&t.push(n[jo])}function lS(n){if(n[Ba]!==null){for(let t of n[Ba])t.impl.addSequence(t);n[Ba].length=0}}var dS=[];function sF(n){return n[oi]??cF(n)}function cF(n){let t=dS.pop()??Object.create(dF);return t.lView=n,t}function lF(n){n.lView[oi]!==n&&(n.lView=null,dS.push(n))}var dF=xe(R({},Os),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ha(n.lView)},consumerOnSignalRead(){this.lView[oi]=this}});function uF(n){let t=n[oi]??Object.create(mF);return t.lView=n,t}var mF=xe(R({},Os),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=Fo(n.lView);for(;t&&!uS(t[pe]);)t=Fo(t);t&&yv(t)},consumerOnSignalRead(){this.lView[oi]=this}});function uS(n){return n.type!==2}function mS(n){if(n[No]===null)return;let t=!0;for(;t;){let e=!1;for(let i of n[No])i.dirty&&(e=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=e&&!!(n[Me]&8192)}}var pF=100;function pS(n,t=0){let i=n[yr].rendererFactory,r=!1;r||i.begin?.();try{hF(n,t)}finally{r||i.end?.()}}function hF(n,t){let e=Iv();try{Cl(!0),py(n,t);let i=0;for(;Il(n);){if(i===pF)throw new V(103,!1);i++,py(n,1)}}finally{Cl(e)}}function fF(n,t,e,i){if(Ua(t))return;let r=t[Me],o=!1,a=!1;jm(t);let s=!0,d=null,p=null;o||(uS(n)?(p=sF(t),d=Ma(p)):Bu()===null?(s=!1,p=uF(t),d=Ma(p)):t[oi]&&(To(t[oi]),t[oi]=null));try{vv(t),dM(n.bindingStartIndex),e!==null&&iS(n,t,e,2,i);let h=(r&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&Ym(t,y,null)}else{let y=n.preOrderHooks;y!==null&&Km(t,y,0,null),zv(t,0)}if(a||gF(t),mS(t),hS(t,0),n.contentQueries!==null&&AE(n,t),!o)if(h){let y=n.contentCheckHooks;y!==null&&Ym(t,y)}else{let y=n.contentHooks;y!==null&&Km(t,y,1),zv(t,1)}vF(n,t);let _=n.components;_!==null&&gS(t,_,0);let b=n.viewQuery;if(b!==null&&ny(2,b,i),!o)if(h){let y=n.viewCheckHooks;y!==null&&Ym(t,y)}else{let y=n.viewHooks;y!==null&&Km(t,y,2),zv(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[Tm]){for(let y of t[Tm])y();t[Tm]=null}o||(lS(t),t[Me]&=-73)}catch(h){throw o||Ha(t),h}finally{p!==null&&(ks(p,d),s&&lF(p)),zm()}}function hS(n,t){for(let e=EE(n);e!==null;e=SE(e))for(let i=At;i<e.length;i++){let r=e[i];fS(r,t)}}function gF(n){for(let t=EE(n);t!==null;t=SE(t)){if(!(t[Me]&2))continue;let e=t[za];for(let i=0;i<e.length;i++){let r=e[i];yv(r)}}}function _F(n,t,e){ct(Ze.ComponentStart);let i=wi(t,n);try{fS(i,e)}finally{ct(Ze.ComponentEnd,i[qt])}}function fS(n,t){Rm(n)&&py(n,t)}function py(n,t){let i=n[pe],r=n[Me],o=n[oi],a=!!(t===0&&r&16);if(a||=!!(r&64&&t===0),a||=!!(r&1024),a||=!!(o?.dirty&&Is(o)),a||=!1,o&&(o.dirty=!1),n[Me]&=-9217,a)fF(i,n,i.template,n[qt]);else if(r&8192){let s=_e(null);try{mS(n),hS(n,1);let d=i.components;d!==null&&gS(n,d,1),lS(n)}finally{_e(s)}}}function gS(n,t,e){for(let i=0;i<t.length;i++)_F(n,t[i],e)}function vF(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let r=e[i];if(r<0)zo(~r);else{let o=r,a=e[++i],s=e[++i];mM(a,o);let d=t[o];ct(Ze.HostBindingsUpdateStart,d);try{s(2,d)}finally{ct(Ze.HostBindingsUpdateEnd,d)}}}}finally{zo(-1)}}function rb(n,t){let e=Iv()?64:1088;for(n[yr].changeDetectionScheduler?.notify(t);n;){n[Me]|=e;let i=Fo(n);if(Ws(n)&&!i)return n;n=i}return null}function _S(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function vS(n,t){let e=At+t;if(e<n.length)return n[e]}function Ql(n,t,e,i=!0){let r=t[pe];if(yF(r,t,n,e),i){let a=my(e,n),s=t[pt],d=s.parentNode(n[jo]);d!==null&&LN(r,n[Fn],s,t,d,a)}let o=t[Fa];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function yS(n,t){let e=zl(n,t);return e!==void 0&&wp(e[pe],e),e}function zl(n,t){if(n.length<=At)return;let e=At+t,i=n[e];if(i){let r=i[Bo];r!==null&&r!==n&&Zy(r,i),t>0&&(n[e-1][bi]=i[bi]);let o=El(n,At+t);FN(i[pe],i);let a=o[br];a!==null&&a.detachView(o[pe]),i[Jt]=null,i[bi]=null,i[Me]&=-129}return i}function yF(n,t,e,i){let r=At+i,o=e.length;i>0&&(e[r-1][bi]=t),i<o-At?(t[bi]=e[r],ov(e,At+i,t)):(e.push(t),t[bi]=null),t[Jt]=e;let a=t[Bo];a!==null&&e!==a&&bS(a,t);let s=t[br];s!==null&&s.insertView(n),Nm(t),t[Me]|=128}function bS(n,t){let e=n[za],i=t[Jt];if(Cr(i))n[Me]|=2;else{let r=i[Jt][Ln];t[Ln]!==r&&(n[Me]|=2)}e===null?n[za]=[t]:e.push(t)}var qo=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,e=t[pe];return jl(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e}get context(){return this._lView[qt]}set context(t){this._lView[qt]=t}get destroyed(){return Ua(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Jt];if(ji(t)){let e=t[Pl],i=e?e.indexOf(this):-1;i>-1&&(zl(t,i),El(e,i))}this._attachedToViewContainer=!1}wp(this._lView[pe],this._lView)}onDestroy(t){bv(this._lView,t)}markForCheck(){rb(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Me]&=-129}reattach(){Nm(this._lView),this._lView[Me]|=128}detectChanges(){this._lView[Me]|=1024,pS(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Ws(this._lView),e=this._lView[Bo];e!==null&&!t&&Zy(e,this._lView),XE(this._lView[pe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=t;let e=Ws(this._lView),i=this._lView[Bo];i!==null&&!e&&bS(i,this._lView),Nm(this._lView)}};var mn=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=bF;constructor(e,i,r){this._declarationLView=e,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,r){let o=Kl(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:r});return new qo(o)}}return n})();function bF(){return Op(Yt(),he())}function Op(n,t){return n.type&4?new mn(t,n,ic(n,t)):null}function oc(n,t,e,i,r){let o=n.data[t];if(o===null)o=CF(n,t,e,i,r),uM()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=i,o.attrs=r;let a=cM();o.injectorIndex=a===null?-1:a.injectorIndex}return Ys(o,!0),o}function CF(n,t,e,i,r){let o=Ov(),a=Pv(),s=a?o:o&&o.parent,d=n.data[t]=wF(n,s,e,t,i,r);return xF(n,d,o,a),d}function xF(n,t,e,i){n.firstChild===null&&(n.firstChild=t),e!==null&&(i?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function wF(n,t,e,i,r,o){let a=t?t.injectorIndex:-1,s=0;return Mv()&&(s|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:s,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function MF(n){let t=n[pv]??[],i=n[Jt][pt],r=[];for(let o of t)o.data[kE]!==void 0?r.push(o):EF(o,i);n[pv]=r}function EF(n,t){let e=0,i=n.firstChild;if(i){let r=n.data[PE];for(;e<r;){let o=i.nextSibling;UE(t,i,!1),i=o,e++}}}var SF=()=>null,OF=()=>null;function op(n,t){return SF(n,t)}function CS(n,t,e){return OF(n,t,e)}var xS=class{},Pp=class{},hy=class{resolveComponentFactory(t){throw new V(917,!1)}},Zl=class{static NULL=new hy},Nt=class{},rt=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>PF()}return n})();function PF(){let n=he(),t=Yt(),e=wi(t.index,n);return(Cr(e)?e:n)[pt]}var wS=(()=>{class n{static \u0275prov=N({token:n,providedIn:"root",factory:()=>null})}return n})();var Zm={},fy=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){let r=this.injector.get(t,Zm,i);return r!==Zm||e===Zm?r:this.parentInjector.get(t,e,i)}};function ap(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(t!==null)for(let a=0;a<t.length;a++){let s=t[a];if(typeof s=="number")o=s;else if(o==1)r=Mm(r,s);else if(o==2){let d=s,p=t[++a];i=Mm(i,d+": "+p+";")}}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function k(n,t=0){let e=he();if(e===null)return ne(n,t);let i=Yt();return yE(i,e,Xt(n),t)}function MS(n,t,e,i,r){let o=i===null?null:{"":-1},a=r(n,e);if(a!==null){let s=a,d=null,p=null;for(let h of a)if(h.resolveHostDirectives!==null){[s,d,p]=h.resolveHostDirectives(a);break}DF(n,t,e,s,o,d,p)}o!==null&&i!==null&&kF(e,i,o)}function kF(n,t,e){let i=n.localNames=[];for(let r=0;r<t.length;r+=2){let o=e[t[r+1]];if(o==null)throw new V(-301,!1);i.push(t[r],o)}}function IF(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function DF(n,t,e,i,r,o,a){let s=i.length,d=null;for(let b=0;b<s;b++){let y=i[b];d===null&&zi(y)&&(d=y,IF(n,e,b)),Jv(ip(e,t),n,y.type)}LF(e,n.data.length,s),d?.viewProvidersResolver&&d.viewProvidersResolver(d);for(let b=0;b<s;b++){let y=i[b];y.providersResolver&&y.providersResolver(y)}let p=!1,h=!1,_=YE(n,t,s,null);s>0&&(e.directiveToIndex=new Map);for(let b=0;b<s;b++){let y=i[b];if(e.mergedAttrs=Js(e.mergedAttrs,y.hostAttrs),AF(n,e,t,_,y),FF(_,y,r),a!==null&&a.has(y)){let[A,B]=a.get(y);e.directiveToIndex.set(y.type,[_,A+e.directiveStart,B+e.directiveStart])}else(o===null||!o.has(y))&&e.directiveToIndex.set(y.type,_);y.contentQueries!==null&&(e.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(e.flags|=64);let M=y.type.prototype;!p&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),p=!0),!h&&(M.ngOnChanges||M.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),h=!0),_++}TF(n,e,o)}function TF(n,t,e){for(let i=t.directiveStart;i<t.directiveEnd;i++){let r=n.data[i];if(e===null||!e.has(r))HM(0,t,r,i),HM(1,t,r,i),$M(t,i,!1);else{let o=e.get(r);qM(0,t,o,i),qM(1,t,o,i),$M(t,i,!0)}}}function HM(n,t,e,i){let r=n===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let a;n===0?a=t.inputs??={}:a=t.outputs??={},a[o]??=[],a[o].push(i),ES(t,o)}}function qM(n,t,e,i){let r=n===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let a=r[o],s;n===0?s=t.hostDirectiveInputs??={}:s=t.hostDirectiveOutputs??={},s[a]??=[],s[a].push(i,o),ES(t,a)}}function ES(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function $M(n,t,e){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!e&&r===null||e&&o===null||qy(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let a=null,s=0;for(;s<i.length;){let d=i[s];if(d===0){s+=4;continue}else if(d===5){s+=2;continue}else if(typeof d=="number")break;if(!e&&r.hasOwnProperty(d)){let p=r[d];for(let h of p)if(h===t){a??=[],a.push(d,i[s+1]);break}}else if(e&&o.hasOwnProperty(d)){let p=o[d];for(let h=0;h<p.length;h+=2)if(p[h]===t){a??=[],a.push(p[h+1],i[s+1]);break}}s+=2}n.initialInputs??=[],n.initialInputs.push(a)}function AF(n,t,e,i,r){n.data[i]=r;let o=r.factory||(r.factory=Ro(r.type,!0)),a=new $a(o,zi(r),k,null);n.blueprint[i]=a,e[i]=a,RF(n,t,i,YE(n,e,r.hostVars,xn),r)}function RF(n,t,e,i,r){let o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;a===null&&(a=n.hostBindingOpCodes=[]);let s=~t.index;NF(a)!=s&&a.push(s),a.push(e,i,o)}}function NF(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function FF(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;zi(t)&&(e[""]=n)}}function LF(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function ob(n,t,e,i,r,o,a,s){let d=t[pe],p=d.consts,h=Mi(p,a),_=oc(d,n,e,i,h);return o&&MS(d,t,_,Mi(p,s),r),_.mergedAttrs=Js(_.mergedAttrs,_.attrs),_.attrs!==null&&ap(_,_.attrs,!1),_.mergedAttrs!==null&&ap(_,_.mergedAttrs,!0),d.queries!==null&&d.queries.elementStart(d,_),_}function ab(n,t){dE(n,t),hv(t)&&n.queries.elementEnd(t)}function VF(n,t,e,i,r,o){let a=t.consts,s=Mi(a,r),d=oc(t,n,e,i,s);if(d.mergedAttrs=Js(d.mergedAttrs,d.attrs),o!=null){let p=Mi(a,o);d.localNames=[];for(let h=0;h<p.length;h+=2)d.localNames.push(p[h],-1)}return d.attrs!==null&&ap(d,d.attrs,!1),d.mergedAttrs!==null&&ap(d,d.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,d),d}function sb(n){return OS(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function SS(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),i;for(;!(i=e.next()).done;)t(i.value)}}function OS(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function cb(n,t,e){return n[t]=e}function BF(n,t){return n[t]}function Wn(n,t,e){if(e===xn)return!1;let i=n[t];return Object.is(i,e)?!1:(n[t]=e,!0)}function lb(n,t,e,i){let r=Wn(n,t,e);return Wn(n,t+1,i)||r}function jF(n,t,e,i,r){let o=lb(n,t,e,i);return Wn(n,t+2,r)||o}function Xm(n,t,e){return function i(r){let o=no(n)?wi(n.index,t):t;rb(o,5);let a=t[qt],s=GM(t,a,e,r),d=i.__ngNextListenerFn__;for(;d;)s=GM(t,a,d,r)&&s,d=d.__ngNextListenerFn__;return s}}function GM(n,t,e,i){let r=_e(null);try{return ct(Ze.OutputStart,t,e),e(i)!==!1}catch(o){return iF(n,o),!1}finally{ct(Ze.OutputEnd,t,e),_e(r)}}function PS(n,t,e,i,r,o,a,s){let d=Gs(n),p=!1,h=null;if(!i&&d&&(h=UF(t,e,o,n.index)),h!==null){let _=h.__ngLastListenerFn__||h;_.__ngNextListenerFn__=a,h.__ngLastListenerFn__=a,p=!0}else{let _=xi(n,e),b=i?i(_):_;z2(e,b,o,s);let y=r.listen(b,o,s);if(!zF(o)){let M=i?A=>i(Ci(A[n.index])):n.index;kS(M,t,e,o,s,y,!1)}}return p}function zF(n){return n.startsWith("animation")||n.startsWith("transition")}function UF(n,t,e,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let a=r[o];if(a===e&&r[o+1]===i){let s=t[qs],d=r[o+2];return s&&s.length>d?s[d]:null}typeof a=="string"&&(o+=2)}return null}function kS(n,t,e,i,r,o,a){let s=t.firstCreatePass?xv(t):null,d=Cv(e),p=d.length;d.push(r,o),s&&s.push(i,n,p,(p+1)*(a?-1:1))}function WM(n,t,e,i,r,o){let a=t[e],s=t[pe],p=s.data[e].outputs[i],_=a[p].subscribe(o);kS(n.index,s,t,r,o,_,!0)}var gy=Symbol("BINDING");var sp=class extends Zl{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=eo(t);return new Wa(e,this.ngModule)}};function HF(n){return Object.keys(n).map(t=>{let[e,i,r]=n[t],o={propName:e,templateName:t,isSignal:(i&bp.SignalBased)!==0};return r&&(o.transform=r),o})}function qF(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function $F(n,t,e){let i=t instanceof vt?t:t?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new fy(e,i):e}function GF(n){let t=n.get(Nt,null);if(t===null)throw new V(407,!1);let e=n.get(wS,null),i=n.get(fr,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:i,ngReflect:!1}}function WF(n,t){let e=IS(n);return jE(t,e,e==="svg"?fv:e==="math"?eM:null)}function IS(n){return(n.selectors[0][0]||"div").toLowerCase()}var Wa=class extends Pp{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=HF(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=qF(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=SN(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,i,r,o,a){ct(Ze.DynamicComponentStart);let s=_e(null);try{let d=this.componentDef,p=YF(i,d,a,o),h=$F(d,r||this.ngModule,t),_=GF(h),b=_.rendererFactory.createRenderer(null,d),y=i?YN(b,i,d.encapsulation,h):WF(d,b),M=a?.some(YM)||o?.some(z=>typeof z!="function"&&z.bindings.some(YM)),A=Gy(null,p,null,512|WE(d),null,null,_,b,h,null,TE(y,h,!0));A[Et]=y,jm(A);let B=null;try{let z=ob(Et,A,2,"#host",()=>p.directiveRegistry,!0,0);HE(b,y,z),ec(y,A),Ep(p,A,z),Ly(p,z,A),ab(p,z),e!==void 0&&QF(z,this.ngContentSelectors,e),B=wi(z.index,A),A[qt]=B[qt],ib(p,A,null)}catch(z){throw B!==null&&ty(B),ty(A),z}finally{ct(Ze.DynamicComponentEnd),zm()}return new cp(this.componentType,A,!!M)}finally{_e(s)}}};function YF(n,t,e,i){let r=n?["ng-version","21.0.6"]:ON(t.selectors[0]),o=null,a=null,s=0;if(e)for(let h of e)s+=h[gy].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(a??=[]).push(h));if(i)for(let h=0;h<i.length;h++){let _=i[h];if(typeof _!="function")for(let b of _.bindings){s+=b[gy].requiredVars;let y=h+1;b.create&&(b.targetIdx=y,(o??=[]).push(b)),b.update&&(b.targetIdx=y,(a??=[]).push(b))}}let d=[t];if(i)for(let h of i){let _=typeof h=="function"?h:h.type,b=Sm(_);d.push(b)}return $y(0,null,KF(o,a),1,s,d,null,null,null,[r],null)}function KF(n,t){return!n&&!t?null:e=>{if(e&1&&n)for(let i of n)i.create();if(e&2&&t)for(let i of t)i.update()}}function YM(n){let t=n[gy].kind;return t==="input"||t==="twoWay"}var cp=class extends xS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e,i){super(),this._rootLView=e,this._hasInputBindings=i,this._tNode=kl(e[pe],Et),this.location=ic(this._tNode,e),this.instance=wi(this._tNode.index,e)[qt],this.hostView=this.changeDetectorRef=new qo(e,void 0),this.componentType=t}setInput(t,e){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let r=this._rootLView,o=Sp(i,r[pe],r,t,e);this.previousInputValues.set(t,e);let a=wi(i.index,r);rb(a,1)}get injector(){return new qa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function QF(n,t,e){let i=n.projection=[];for(let r=0;r<t.length;r++){let o=e[r];i.push(o!=null&&o.length?Array.from(o):null)}}var en=(()=>{class n{static __NG_ELEMENT_ID__=ZF}return n})();function ZF(){let n=Yt();return TS(n,he())}var XF=en,DS=class extends XF{_lContainer;_hostTNode;_hostLView;constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return ic(this._hostTNode,this._hostLView)}get injector(){return new qa(this._hostTNode,this._hostLView)}get parentInjector(){let t=Ay(this._hostTNode,this._hostLView);if(pE(t)){let e=tp(t,this._hostLView),i=ep(t),r=e[pe].data[i+8];return new qa(r,e)}else return new qa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=KM(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-At}createEmbeddedView(t,e,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let a=op(this._lContainer,t.ssrId),s=t.createEmbeddedViewImpl(e||{},o,a);return this.insertImpl(s,r,tc(this._hostTNode,a)),s}createComponent(t,e,i,r,o,a,s){let d=t&&!h2(t),p;if(d)p=e;else{let B=e||{};p=B.index,i=B.injector,r=B.projectableNodes,o=B.environmentInjector||B.ngModuleRef,a=B.directives,s=B.bindings}let h=d?t:new Wa(eo(t)),_=i||this.parentInjector;if(!o&&h.ngModule==null){let z=(d?_:this.parentInjector).get(vt,null);z&&(o=z)}let b=eo(h.componentType??{}),y=op(this._lContainer,b?.id??null),M=y?.firstChild??null,A=h.create(_,r,M,o,a,s);return this.insertImpl(A.hostView,p,tc(this._hostTNode,y)),A}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){let r=t._lView;if(nM(r)){let s=this.indexOf(t);if(s!==-1)this.detach(s);else{let d=r[Jt],p=new DS(d,d[Fn],d[Jt]);p.detach(p.indexOf(t))}}let o=this._adjustIndex(e),a=this._lContainer;return Ql(a,r,o,i),t.attachToViewContainerRef(),ov(qv(a),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=KM(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),i=zl(this._lContainer,e);i&&(El(qv(this._lContainer),e),wp(i[pe],i))}detach(t){let e=this._adjustIndex(t,-1),i=zl(this._lContainer,e);return i&&El(qv(this._lContainer),e)!=null?new qo(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function KM(n){return n[Pl]}function qv(n){return n[Pl]||(n[Pl]=[])}function TS(n,t){let e,i=t[n.index];return ji(i)?e=i:(e=_S(i,t,null,n),t[n.index]=e,Wy(t,e)),eL(e,t,n,i),new DS(e,n,t)}function JF(n,t){let e=n[pt],i=e.createComment(""),r=xi(t,n),o=e.parentNode(r);return rp(e,o,i,e.nextSibling(r),!1),i}var eL=iL,tL=()=>!1;function nL(n,t,e){return tL(n,t,e)}function iL(n,t,e,i){if(n[jo])return;let r;e.type&8?r=Ci(i):r=JF(t,e),n[jo]=r}var _y=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},vy=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let i=t.contentQueries!==null?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){let a=e.getByIndex(o),s=this.queries[a.indexInDeclarationView];r.push(s.clone())}return new n(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)ub(t,e).matches!==null&&this.queries[e].setDirty()}},lp=class{flags;read;predicate;constructor(t,e,i=null){this.flags=e,this.read=i,typeof t=="string"?this.predicate=cL(t):this.predicate=t}},yy=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){let r=e!==null?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,e!==null?e.push(o):e=[o])}return e!==null?new n(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},by=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,e,rL(e,o)),this.matchTNodeWithReadOption(t,e,Qm(e,t,o,!1,!1))}else i===mn?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Qm(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===G||r===en||r===mn&&e.type&4)this.addMatch(e.index,-2);else{let o=Qm(e,t,r,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function rL(n,t){let e=n.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1]}return null}function oL(n,t){return n.type&11?ic(n,t):n.type&4?Op(n,t):null}function aL(n,t,e,i){return e===-1?oL(t,n):e===-2?sL(n,t,i):Vl(n,n[pe],e,t)}function sL(n,t,e){if(e===G)return ic(t,n);if(e===mn)return Op(t,n);if(e===en)return TS(t,n)}function AS(n,t,e,i){let r=t[br].queries[i];if(r.matches===null){let o=n.data,a=e.matches,s=[];for(let d=0;a!==null&&d<a.length;d+=2){let p=a[d];if(p<0)s.push(null);else{let h=o[p];s.push(aL(t,h,a[d+1],e.metadata.read))}}r.matches=s}return r.matches}function Cy(n,t,e,i){let r=n.queries.getByIndex(e),o=r.matches;if(o!==null){let a=AS(n,t,r,e);for(let s=0;s<o.length;s+=2){let d=o[s];if(d>0)i.push(a[s/2]);else{let p=o[s+1],h=t[-d];for(let _=At;_<h.length;_++){let b=h[_];b[Bo]===b[Jt]&&Cy(b[pe],b,p,i)}if(h[za]!==null){let _=h[za];for(let b=0;b<_.length;b++){let y=_[b];Cy(y[pe],y,p,i)}}}}}return i}function db(n,t){return n[br].queries[t].queryList}function RS(n,t,e){let i=new ci((e&4)===4);return oM(n,t,i,i.destroy),(t[br]??=new vy).queries.push(new _y(i))-1}function NS(n,t,e){let i=yt();return i.firstCreatePass&&(LS(i,new lp(n,t,e),-1),(t&2)===2&&(i.staticViewQueries=!0)),RS(i,he(),t)}function FS(n,t,e,i){let r=yt();if(r.firstCreatePass){let o=Yt();LS(r,new lp(t,e,i),o.index),lL(r,n),(e&2)===2&&(r.staticContentQueries=!0)}return RS(r,he(),e)}function cL(n){return n.split(",").map(t=>t.trim())}function LS(n,t,e){n.queries===null&&(n.queries=new yy),n.queries.track(new by(t,e))}function lL(n,t){let e=n.contentQueries||(n.contentQueries=[]),i=e.length?e[e.length-1]:-1;t!==i&&e.push(n.queries.length-1,t)}function ub(n,t){return n.queries.getByIndex(t)}function VS(n,t){let e=n[pe],i=ub(e,t);return i.crossesNgTemplate?Cy(e,n,t,[]):AS(e,n,i,t)}function BS(n,t,e){let i,r=ol(()=>{i._dirtyCounter();let o=dL(i,n);if(t&&o===void 0)throw new V(-951,!1);return o});return i=r[ln],i._dirtyCounter=$e(0),i._flatValue=void 0,r}function mb(n){return BS(!0,!1,n)}function pb(n){return BS(!0,!0,n)}function jS(n,t){let e=n[ln];e._lView=he(),e._queryIndex=t,e._queryList=db(e._lView,t),e._queryList.onDirty(()=>e._dirtyCounter.update(i=>i+1))}function dL(n,t){let e=n._lView,i=n._queryIndex;if(e===void 0||i===void 0||e[Me]&4)return t?void 0:Pn;let r=db(e,i),o=VS(e,i);return r.reset(o,xE),t?r.first:r._changesDetected||n._flatValue===void 0?n._flatValue=r.toArray():n._flatValue}var Mr=class{},kp=class{};var dp=class extends Mr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new sp(this);constructor(t,e,i,r=!0){super(),this.ngModuleType=t,this._parent=e;let o=nv(t);this._bootstrapComponents=qE(o.bootstrap),this._r3Injector=Rv(t,e,[{provide:Mr,useValue:this},{provide:Zl,useValue:this.componentFactoryResolver},...i],Jr(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},up=class extends kp{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new dp(this.moduleType,t,[])}};var Ul=class extends Mr{injector;componentFactoryResolver=new sp(this);instance=null;constructor(t){super();let e=new Ra([...t.providers,{provide:Mr,useValue:this},{provide:Zl,useValue:this.componentFactoryResolver}],t.parent||Hs(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Xl(n,t,e=null){return new Ul({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var uL=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=cv(!1,e.type),r=i.length>0?Xl([i],this._injector,""):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=N({token:n,providedIn:"environment",factory:()=>new n(ne(vt))})}return n})();function D(n){return $l(()=>{let t=zS(n),e=xe(R({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ny.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?r=>r.get(uL).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||$i.Emulated,styles:n.styles||Pn,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&Or("NgStandalone"),US(e);let i=n.dependencies;return e.directiveDefs=QM(i,mL),e.pipeDefs=QM(i,Vw),e.id=fL(e),e})}function mL(n){return eo(n)||Sm(n)}function Z(n){return $l(()=>({type:n.type,bootstrap:n.bootstrap||Pn,declarations:n.declarations||Pn,imports:n.imports||Pn,exports:n.exports||Pn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function pL(n,t){if(n==null)return Vi;let e={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,a,s,d;Array.isArray(r)?(s=r[0],o=r[1],a=r[2]??o,d=r[3]||null):(o=r,a=r,s=bp.None,d=null),e[o]=[i,s,d],t[o]=a}return e}function hL(n){if(n==null)return Vi;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function H(n){return $l(()=>{let t=zS(n);return US(t),t})}function Jl(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function zS(n){let t={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||Vi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Pn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:pL(n.inputs,t),outputs:hL(n.outputs),debugInfo:null}}function US(n){n.features?.forEach(t=>t(n))}function QM(n,t){return n?()=>{let e=typeof n=="function"?n():n,i=[];for(let r of e){let o=t(r);o!==null&&i.push(o)}return i}:null}function fL(n){let t=0,e=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function hb(n){let t=e=>{let i=Array.isArray(n);e.hostDirectives===null?(e.resolveHostDirectives=gL,e.hostDirectives=i?n.map(xy):[n]):i?e.hostDirectives.unshift(...n.map(xy)):e.hostDirectives.unshift(n)};return t.ngInherit=!0,t}function gL(n){let t=[],e=!1,i=null,r=null;for(let o=0;o<n.length;o++){let a=n[o];if(a.hostDirectives!==null){let s=t.length;i??=new Map,r??=new Map,HS(a,t,i),r.set(a,[s,t.length-1])}o===0&&zi(a)&&(e=!0,t.push(a))}for(let o=e?1:0;o<n.length;o++)t.push(n[o]);return[t,i,r]}function HS(n,t,e){if(n.hostDirectives!==null)for(let i of n.hostDirectives)if(typeof i=="function"){let r=i();for(let o of r)ZM(xy(o),t,e)}else ZM(i,t,e)}function ZM(n,t,e){let i=Sm(n.directive);_L(i.declaredInputs,n.inputs),HS(i,t,e),e.set(i,n),t.push(i)}function xy(n){return typeof n=="function"?{directive:Xt(n),inputs:Vi,outputs:Vi}:{directive:Xt(n.directive),inputs:XM(n.inputs),outputs:XM(n.outputs)}}function XM(n){if(n===void 0||n.length===0)return Vi;let t={};for(let e=0;e<n.length;e+=2)t[n[e]]=n[e+1];return t}function _L(n,t){for(let e in t)if(t.hasOwnProperty(e)){let i=t[e],r=n[e];n[i]=r}}function vL(n){return Object.getPrototypeOf(n.prototype).constructor}function ye(n){let t=vL(n.type),e=!0,i=[n];for(;t;){let r;if(zi(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new V(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);let a=n;a.inputs=$v(n.inputs),a.declaredInputs=$v(n.declaredInputs),a.outputs=$v(n.outputs);let s=r.hostBindings;s&&wL(n,s);let d=r.viewQuery,p=r.contentQueries;if(d&&CL(n,d),p&&xL(n,p),yL(n,r),Lw(n.outputs,r.outputs),zi(r)&&r.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let a=0;a<o.length;a++){let s=o[a];s&&s.ngInherit&&s(n),s===ye&&(e=!1)}}t=Object.getPrototypeOf(t)}bL(i)}function yL(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let i=t.inputs[e];i!==void 0&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e])}}function bL(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Js(r.hostAttrs,e=Js(e,r.hostAttrs))}}function $v(n){return n===Vi?{}:n===Pn?[]:n}function CL(n,t){let e=n.viewQuery;e?n.viewQuery=(i,r)=>{t(i,r),e(i,r)}:n.viewQuery=t}function xL(n,t){let e=n.contentQueries;e?n.contentQueries=(i,r,o)=>{t(i,r,o),e(i,r,o)}:n.contentQueries=t}function wL(n,t){let e=n.hostBindings;e?n.hostBindings=(i,r)=>{t(i,r),e(i,r)}:n.hostBindings=t}function qS(n,t,e,i,r,o,a,s){if(e.firstCreatePass){n.mergedAttrs=Js(n.mergedAttrs,n.attrs);let h=n.tView=$y(2,n,r,o,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,n),h.queries=e.queries.embeddedTView(n))}s&&(n.flags|=s),Ys(n,!1);let d=EL(e,t,n,i);Um()&&Xy(e,t,d,n),ec(d,t);let p=_S(d,t,d,n);t[i+Et]=p,Wy(t,p),nL(p,n,t)}function ML(n,t,e,i,r,o,a,s,d,p,h){let _=e+Et,b;return t.firstCreatePass?(b=oc(t,_,4,a||null,s||null),Fm()&&MS(t,n,b,Mi(t.consts,p),eb),dE(t,b)):b=t.data[_],qS(b,n,t,e,i,r,o,d),Gs(b)&&Ep(t,n,b),p!=null&&Yl(n,b,h),b}function Hl(n,t,e,i,r,o,a,s,d,p,h){let _=e+Et,b;if(t.firstCreatePass){if(b=oc(t,_,4,a||null,s||null),p!=null){let y=Mi(t.consts,p);b.localNames=[];for(let M=0;M<y.length;M+=2)b.localNames.push(y[M],-1)}}else b=t.data[_];return qS(b,n,t,e,i,r,o,d),p!=null&&Yl(n,b,h),b}function x(n,t,e,i,r,o,a,s){let d=he(),p=yt(),h=Mi(p.consts,o);return ML(d,p,n,t,e,i,r,h,void 0,a,s),x}var EL=SL;function SL(n,t,e,i){return Al(!0),t[pt].createComment("")}var Ip=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function so(n){return typeof n=="function"&&n[ln]!==void 0}function fb(n){return so(n)&&typeof n.set=="function"}var gb=new I("");function co(n){return!!n&&typeof n.then=="function"}function Dp(n){return!!n&&typeof n.subscribe=="function"}var $S=new I("");var _b=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i});appInits=f($S,{optional:!0})??[];injector=f(ae);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=bn(this.injector,r);if(co(o))e.push(o);else if(Dp(o)){let a=new Promise((s,d)=>{o.subscribe({complete:s,error:d})});e.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),e.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tp=new I("");function GS(){y_(()=>{let n="";throw new V(600,n)})}function WS(n){return n.isBoundToModule}var OL=10;var li=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=f(si);afterRenderManager=f(xp);zonelessEnabled=f(Rl);rootEffectScheduler=f(qm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new P;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=f(ro);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(se(e=>!e))}constructor(){f(Sr,{optional:!0})}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{e.unsubscribe()})}_injector=f(vt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,i){return this.bootstrapImpl(e,i)}bootstrapImpl(e,i,r=ae.NULL){return this._injector.get($).run(()=>{ct(Ze.BootstrapComponentStart);let a=e instanceof Pp;if(!this._injector.get(_b).done){let M="";throw new V(405,M)}let d;a?d=e:d=this._injector.get(Zl).resolveComponentFactory(e),this.componentTypes.push(d.componentType);let p=WS(d)?void 0:this._injector.get(Mr),h=i||d.selector,_=d.create(r,[],h,p),b=_.location.nativeElement,y=_.injector.get(gb,null);return y?.registerApplication(b),_.onDestroy(()=>{this.detachView(_.hostView),Ll(this.components,_),y?.unregisterApplication(b)}),this._loadComponent(_),ct(Ze.BootstrapComponentEnd,_),_})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ct(Ze.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Cp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw ct(Ze.ChangeDetectionEnd),new V(101,!1);let e=_e(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,_e(e),this.afterTick.next(),ct(Ze.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Nt,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<OL;){ct(Ze.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{ct(Ze.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!Il(r))continue;let o=i&&!this.zonelessEnabled?0:1;pS(r,o),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Il(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;Ll(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(e),this._injector.get(Tp,[]).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Ll(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new V(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ll(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Ap(n,t){let e=he(),i=io();if(Wn(e,i,t)){let r=yt(),o=Ks();if(Sp(o,r,e,n,t))no(o)&&aS(e,o.index);else{let s=xi(o,e);sS(e[pt],s,null,o.value,n,t,null)}}return Ap}function X(n,t,e,i){let r=he(),o=io();if(Wn(r,o,t)){let a=yt(),s=Ks();tF(s,r,n,t,e,i)}return X}var qJ=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var wy=class{destroy(t){}updateValue(t,e){}swap(t,e){let i=Math.min(t,e),r=Math.max(t,e),o=this.detach(r);if(r-i>1){let a=this.detach(i);this.attach(i,o),this.attach(r,a)}else this.attach(i,o)}move(t,e){this.attach(e,this.detach(t))}};function Gv(n,t,e,i,r){return n===e&&Object.is(t,i)?1:Object.is(r(n,t),r(e,i))?-1:0}function PL(n,t,e,i){let r,o,a=0,s=n.length-1,d=void 0;if(Array.isArray(t)){_e(i);let p=t.length-1;for(_e(null);a<=s&&a<=p;){let h=n.at(a),_=t[a],b=Gv(a,h,a,_,e);if(b!==0){b<0&&n.updateValue(a,_),a++;continue}let y=n.at(s),M=t[p],A=Gv(s,y,p,M,e);if(A!==0){A<0&&n.updateValue(s,M),s--,p--;continue}let B=e(a,h),z=e(s,y),de=e(a,_);if(Object.is(de,z)){let We=e(p,M);Object.is(We,B)?(n.swap(a,s),n.updateValue(s,M),p--,s--):n.move(s,a),n.updateValue(a,_),a++;continue}if(r??=new mp,o??=eE(n,a,s,e),My(n,r,a,de))n.updateValue(a,_),a++,s++;else if(o.has(de))r.set(B,n.detach(a)),s--;else{let We=n.create(a,t[a]);n.attach(a,We),a++,s++}}for(;a<=p;)JM(n,r,e,a,t[a]),a++}else if(t!=null){_e(i);let p=t[Symbol.iterator]();_e(null);let h=p.next();for(;!h.done&&a<=s;){let _=n.at(a),b=h.value,y=Gv(a,_,a,b,e);if(y!==0)y<0&&n.updateValue(a,b),a++,h=p.next();else{r??=new mp,o??=eE(n,a,s,e);let M=e(a,b);if(My(n,r,a,M))n.updateValue(a,b),a++,s++,h=p.next();else if(!o.has(M))n.attach(a,n.create(a,b)),a++,s++,h=p.next();else{let A=e(a,_);r.set(A,n.detach(a)),s--}}}for(;!h.done;)JM(n,r,e,n.length,h.value),h=p.next()}for(;a<=s;)n.destroy(n.detach(s--));r?.forEach(p=>{n.destroy(p)})}function My(n,t,e,i){return t!==void 0&&t.has(i)?(n.attach(e,t.get(i)),t.delete(i),!0):!1}function JM(n,t,e,i,r){if(My(n,t,i,e(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function eE(n,t,e,i){let r=new Set;for(let o=t;o<=e;o++)r.add(i(o,n.at(o)));return r}var mp=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let e=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let i=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,i]of this.kvMap)if(t(i,e),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),t(i,e)}}};function Ee(n,t,e,i,r,o,a,s){Or("NgControlFlow");let d=he(),p=yt(),h=Mi(p.consts,o);return Hl(d,p,n,t,e,i,r,h,256,a,s),vb}function vb(n,t,e,i,r,o,a,s){Or("NgControlFlow");let d=he(),p=yt(),h=Mi(p.consts,o);return Hl(d,p,n,t,e,i,r,h,512,a,s),vb}function Se(n,t){Or("NgControlFlow");let e=he(),i=io(),r=e[i]!==xn?e[i]:-1,o=r!==-1?pp(e,Et+r):void 0,a=0;if(Wn(e,i,n)){let s=_e(null);try{if(o!==void 0&&yS(o,a),n!==-1){let d=Et+n,p=pp(e,d),h=Py(e[pe],d),_=CS(p,h,e),b=Kl(e,h,t,{dehydratedView:_});Ql(p,b,a,tc(h,_))}}finally{_e(s)}}else if(o!==void 0){let s=vS(o,a);s!==void 0&&(s[qt]=t)}}var Ey=class{lContainer;$implicit;$index;constructor(t,e,i){this.lContainer=t,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-At}};function yb(n,t){return t}var Sy=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,e,i){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=i}};function bb(n,t,e,i,r,o,a,s,d,p,h,_,b){Or("NgControlFlow");let y=he(),M=yt(),A=d!==void 0,B=he(),z=s?a.bind(B[Ln][qt]):a,de=new Sy(A,z);B[Et+n]=de,Hl(y,M,n+1,t,e,i,r,Mi(M.consts,o),256),A&&Hl(y,M,n+2,d,p,h,_,Mi(M.consts,b),512)}var Oy=class extends wy{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,e,i){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=i}get length(){return this.lContainer.length-At}at(t){return this.getLView(t)[qt].$implicit}attach(t,e){let i=e[Fa];this.needsIndexUpdate||=t!==this.length,Ql(this.lContainer,e,t,tc(this.templateTNode,i)),kL(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,IL(this.lContainer,t),DL(this.lContainer,t)}create(t,e){let i=op(this.lContainer,this.templateTNode.tView.ssrId);return Kl(this.hostLView,this.templateTNode,new Ey(this.lContainer,e,t),{dehydratedView:i})}destroy(t){wp(t[pe],t)}updateValue(t,e){this.getLView(t)[qt].$implicit=e}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[qt].$index=t}getLView(t){return TL(this.lContainer,t)}};function Cb(n){let t=_e(null),e=Ui();try{let i=he(),r=i[pe],o=i[e],a=e+1,s=pp(i,a);if(o.liveCollection===void 0){let p=Py(r,a);o.liveCollection=new Oy(s,i,p)}else o.liveCollection.reset();let d=o.liveCollection;if(PL(d,n,o.trackByFn,t),d.updateIndexes(),o.hasEmptyBlock){let p=io(),h=d.length===0;if(Wn(i,p,h)){let _=e+2,b=pp(i,_);if(h){let y=Py(r,_),M=CS(b,y,i),A=Kl(i,y,void 0,{dehydratedView:M});Ql(b,A,0,tc(y,M))}else r.firstUpdatePass&&MF(b),yS(b,0)}}}finally{_e(t)}}function pp(n,t){return n[t]}function kL(n,t){if(n.length<=At)return;let e=At+t,i=n[e],r=i?i[ja]:void 0;if(i&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0){let o=i[to];RN(o,r),Ga.delete(i),r.detachedLeaveAnimationFns=void 0}}function IL(n,t){if(n.length<=At)return;let e=At+t,i=n[e],r=i?i[ja]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}function DL(n,t){return zl(n,t)}function TL(n,t){return vS(n,t)}function Py(n,t){return kl(n,t)}function g(n,t,e){let i=he(),r=io();if(Wn(i,r,t)){let o=yt(),a=Ks();rS(a,i,n,t,i[pt],e)}return g}function ky(n,t,e,i,r){Sp(t,n,e,r?"class":"style",i)}function l(n,t,e,i){let r=he(),o=r[pe],a=n+Et,s=o.firstCreatePass?ob(a,r,2,t,eb,Fm(),e,i):o.data[a];if(tb(s,r,n,t,YS),Gs(s)){let d=r[pe];Ep(d,r,s),Ly(d,s,r)}return i!=null&&Yl(r,s),l}function c(){let n=yt(),t=Yt(),e=nb(t);return n.firstCreatePass&&ab(n,e),Ev(e)&&Sv(),wv(),e.classesWithoutHost!=null&&b2(e)&&ky(n,e,he(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&C2(e)&&ky(n,e,he(),e.stylesWithoutHost,!1),c}function q(n,t,e,i){return l(n,t,e,i),c(),q}function Je(n,t,e,i){let r=he(),o=r[pe],a=n+Et,s=o.firstCreatePass?VF(a,o,2,t,e,i):o.data[a];return tb(s,r,n,t,YS),i!=null&&Yl(r,s),Je}function et(){let n=Yt(),t=nb(n);return Ev(t)&&Sv(),wv(),et}function tn(n,t,e,i){return Je(n,t,e,i),et(),tn}var YS=(n,t,e,i,r)=>(Al(!0),jE(t[pt],i,yM()));function xb(n,t,e){let i=he(),r=i[pe],o=n+Et,a=r.firstCreatePass?ob(o,i,8,"ng-container",eb,Fm(),t,e):r.data[o];if(tb(a,i,n,"ng-container",AL),Gs(a)){let s=i[pe];Ep(s,i,a),Ly(s,a,i)}return e!=null&&Yl(i,a),xb}function wb(){let n=yt(),t=Yt(),e=nb(t);return n.firstCreatePass&&ab(n,e),wb}function ac(n,t,e){return xb(n,t,e),wb(),ac}var AL=(n,t,e,i,r)=>(Al(!0),mN(t[pt],""));function F(){return he()}function In(n,t,e){let i=he(),r=io();if(Wn(i,r,t)){let o=yt(),a=Ks();oS(a,i,n,t,i[pt],e)}return In}var Nl=void 0;function RL(n){let t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&e===0?1:5}var NL=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Nl,Nl,Nl],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",RL],Wv={};function Yn(n){let t=FL(n),e=tE(t);if(e)return e;let i=t.split("-")[0];if(e=tE(i),e)return e;if(i==="en")return NL;throw new V(701,!1)}function tE(n){return n in Wv||(Wv[n]=gr.ng&&gr.ng.common&&gr.ng.common.locales&&gr.ng.common.locales[n]),Wv[n]}var Ft=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(Ft||{});function FL(n){return n.toLowerCase().replace(/_/g,"-")}var ed="en-US";var LL=ed;function KS(n){typeof n=="string"&&(LL=n.toLowerCase().replace(/_/g,"-"))}function C(n,t,e){let i=he(),r=yt(),o=Yt();return QS(r,i,i[pt],o,n,t,e),C}function td(n,t,e){let i=he(),r=yt(),o=Yt();return(o.type&3||e)&&PS(o,r,i,e,i[pt],n,t,Xm(o,i,t)),td}function QS(n,t,e,i,r,o,a){let s=!0,d=null;if((i.type&3||a)&&(d??=Xm(i,t,o),PS(i,n,t,a,e,r,o,d)&&(s=!1)),s){let p=i.outputs?.[r],h=i.hostDirectiveOutputs?.[r];if(h&&h.length)for(let _=0;_<h.length;_+=2){let b=h[_],y=h[_+1];d??=Xm(i,t,o),WM(i,t,b,y,r,d)}if(p&&p.length)for(let _ of p)d??=Xm(i,t,o),WM(i,t,_,r,r,d)}}function v(n=1){return vM(n)}function VL(n,t){let e=null,i=CN(n);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){e=r;continue}if(i===null?GE(n,o,!0):MN(i,o))return r}return e}function Ue(n){let t=he()[Ln][Fn];if(!t.projection){let e=n?n.length:1,i=t.projection=$w(e,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let a=n?VL(o,n):0;a!==null&&(r[a]?r[a].projectionNext=o:i[a]=o,r[a]=o)}o=o.next}}}function J(n,t=0,e,i,r,o){let a=he(),s=yt(),d=i?n+1:null;d!==null&&Hl(a,s,d,i,r,o,null,e);let p=oc(s,Et+n,16,null,e||null);p.projection===null&&(p.projection=t),kv();let _=!a[Fa]||Mv();a[Ln][Fn].projection[p.projection]===null&&d!==null?BL(a,s,d):_&&!_p(p)&&$N(s,a,p)}function BL(n,t,e){let i=Et+e,r=t.data[i],o=n[i],a=op(o,r.tView.ssrId),s=Kl(n,r,void 0,{dehydratedView:a});Ql(o,s,0,tc(r,a))}function Lt(n,t,e,i){return FS(n,t,e,i),Lt}function tt(n,t,e){return NS(n,t,e),tt}function W(n){let t=he(),e=yt(),i=Bm();Tl(i+1);let r=ub(e,i);if(n.dirty&&tM(t)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=VS(t,i);n.reset(o,xE),n.notifyOnChanges()}return!0}return!1}function Y(){return db(he(),Bm())}function Rp(n,t,e,i,r){return jS(t,FS(n,e,i,r)),Rp}function Np(n,t,e,i){return jS(n,NS(t,e,i)),Np}function Fp(n=1){Tl(Bm()+n)}function St(n){let t=lM();return Am(t,Et+n)}function Wm(n,t){return n<<17|t<<2}function Ya(n){return n>>17&32767}function jL(n){return(n&2)==2}function zL(n,t){return n&131071|t<<17}function Iy(n){return n|2}function nc(n){return(n&131068)>>2}function Yv(n,t){return n&-131069|t<<2}function UL(n){return(n&1)===1}function Dy(n){return n|1}function HL(n,t,e,i,r,o){let a=o?t.classBindings:t.styleBindings,s=Ya(a),d=nc(a);n[i]=e;let p=!1,h;if(Array.isArray(e)){let _=e;h=_[1],(h===null||Us(_,h)>0)&&(p=!0)}else h=e;if(r)if(d!==0){let b=Ya(n[s+1]);n[i+1]=Wm(b,s),b!==0&&(n[b+1]=Yv(n[b+1],i)),n[s+1]=zL(n[s+1],i)}else n[i+1]=Wm(s,0),s!==0&&(n[s+1]=Yv(n[s+1],i)),s=i;else n[i+1]=Wm(d,0),s===0?s=i:n[d+1]=Yv(n[d+1],i),d=i;p&&(n[i+1]=Iy(n[i+1])),nE(n,h,i,!0),nE(n,h,i,!1),qL(t,h,n,i,o),a=Wm(s,d),o?t.classBindings=a:t.styleBindings=a}function qL(n,t,e,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&Us(o,t)>=0&&(e[i+1]=Dy(e[i+1]))}function nE(n,t,e,i){let r=n[e+1],o=t===null,a=i?Ya(r):nc(r),s=!1;for(;a!==0&&(s===!1||o);){let d=n[a],p=n[a+1];$L(d,t)&&(s=!0,n[a+1]=i?Dy(p):Iy(p)),a=i?Ya(p):nc(p)}s&&(n[e+1]=i?Iy(r):Dy(r))}function $L(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Us(n,t)>=0:!1}var qi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function GL(n){return n.substring(qi.key,qi.keyEnd)}function WL(n){return YL(n),ZS(n,XS(n,0,qi.textEnd))}function ZS(n,t){let e=qi.textEnd;return e===t?-1:(t=qi.keyEnd=KL(n,qi.key=t,e),XS(n,t,e))}function YL(n){qi.key=0,qi.keyEnd=0,qi.value=0,qi.valueEnd=0,qi.textEnd=n.length}function XS(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function KL(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function bt(n,t,e){return JS(n,t,e,!1),bt}function T(n,t){return JS(n,t,null,!0),T}function Ie(n){ZL(iV,QL,n,!0)}function QL(n,t){for(let e=WL(t);e>=0;e=ZS(t,e))Im(n,GL(t),!0)}function JS(n,t,e,i){let r=he(),o=yt(),a=Dl(2);if(o.firstUpdatePass&&tO(o,n,a,i),t!==xn&&Wn(r,a,t)){let s=o.data[Ui()];nO(o,s,r,r[pt],n,r[a+1]=oV(t,e),i,a)}}function ZL(n,t,e,i){let r=yt(),o=Dl(2);r.firstUpdatePass&&tO(r,null,o,i);let a=he();if(e!==xn&&Wn(a,o,e)){let s=r.data[Ui()];if(iO(s,i)&&!eO(r,o)){let d=i?s.classesWithoutHost:s.stylesWithoutHost;d!==null&&(e=Mm(d,e||"")),ky(r,s,a,e,i)}else rV(r,s,a,a[pt],a[o+1],a[o+1]=nV(n,t,e),i,o)}}function eO(n,t){return t>=n.expandoStartIndex}function tO(n,t,e,i){let r=n.data;if(r[e+1]===null){let o=r[Ui()],a=eO(n,e);iO(o,i)&&t===null&&!a&&(t=!1),t=XL(r,o,t,i),HL(r,o,t,e,a,i)}}function XL(n,t,e,i){let r=hM(n),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(e=Kv(null,n,t,e,i),e=ql(e,t.attrs,i),o=null);else{let a=t.directiveStylingLast;if(a===-1||n[a]!==r)if(e=Kv(r,n,t,e,i),o===null){let d=JL(n,t,i);d!==void 0&&Array.isArray(d)&&(d=Kv(null,n,t,d[1],i),d=ql(d,t.attrs,i),eV(n,t,i,d))}else o=tV(n,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),e}function JL(n,t,e){let i=e?t.classBindings:t.styleBindings;if(nc(i)!==0)return n[Ya(i)]}function eV(n,t,e,i){let r=e?t.classBindings:t.styleBindings;n[Ya(r)]=i}function tV(n,t,e){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let a=n[o].hostAttrs;i=ql(i,a,e)}return ql(i,t.attrs,e)}function Kv(n,t,e,i,r){let o=null,a=e.directiveEnd,s=e.directiveStylingLast;for(s===-1?s=e.directiveStart:s++;s<a&&(o=t[s],i=ql(i,o.hostAttrs,r),o!==n);)s++;return n!==null&&(e.directiveStylingLast=s),i}function ql(n,t,e){let i=e?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];typeof a=="number"?r=a:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Im(n,a,e?!0:t[++o]))}return n===void 0?null:n}function nV(n,t,e){if(e==null||e==="")return Pn;let i=[],r=Er(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function iV(n,t,e){let i=String(t);i!==""&&!i.includes(" ")&&Im(n,i,e)}function rV(n,t,e,i,r,o,a,s){r===xn&&(r=Pn);let d=0,p=0,h=0<r.length?r[0]:null,_=0<o.length?o[0]:null;for(;h!==null||_!==null;){let b=d<r.length?r[d+1]:void 0,y=p<o.length?o[p+1]:void 0,M=null,A;h===_?(d+=2,p+=2,b!==y&&(M=_,A=y)):_===null||h!==null&&h<_?(d+=2,M=h):(p+=2,M=_,A=y),M!==null&&nO(n,t,e,i,M,A,a,s),h=d<r.length?r[d]:null,_=p<o.length?o[p]:null}}function nO(n,t,e,i,r,o,a,s){if(!(t.type&3))return;let d=n.data,p=d[s+1],h=UL(p)?iE(d,t,e,r,nc(p),a):void 0;if(!hp(h)){hp(o)||jL(p)&&(o=iE(d,null,e,r,s,a));let _=gv(Ui(),e);WN(i,a,_,r,o)}}function iE(n,t,e,i,r,o){let a=t===null,s;for(;r>0;){let d=n[r],p=Array.isArray(d),h=p?d[1]:d,_=h===null,b=e[r+1];b===xn&&(b=_?Pn:void 0);let y=_?Dm(b,i):h===i?b:void 0;if(p&&!hp(y)&&(y=Dm(d,i)),hp(y)&&(s=y,a))return s;let M=n[r+1];r=a?Ya(M):nc(M)}if(t!==null){let d=o?t.residualClasses:t.residualStyles;d!=null&&(s=Dm(d,i))}return s}function hp(n){return n!==void 0}function oV(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=Jr(Er(n)))),n}function iO(n,t){return(n.flags&(t?8:16))!==0}function u(n,t=""){let e=he(),i=yt(),r=n+Et,o=i.firstCreatePass?oc(i,r,1,t,null):i.data[r],a=aV(i,e,o,t,n);e[r]=a,Um()&&Xy(i,e,a,o),Ys(o,!1)}var aV=(n,t,e,i,r)=>(Al(!0),dN(t[pt],i));function rO(n,t,e,i=""){return Wn(n,io(),e)?t+_r(e)+i:xn}function sV(n,t,e,i,r,o=""){let a=Dv(),s=lb(n,a,e,r);return Dl(2),s?t+_r(e)+i+_r(r)+o:xn}function cV(n,t,e,i,r,o,a,s=""){let d=Dv(),p=jF(n,d,e,r,a);return Dl(3),p?t+_r(e)+i+_r(r)+o+_r(a)+s:xn}function w(n){return O("",n),w}function O(n,t,e){let i=he(),r=rO(i,n,t,e);return r!==xn&&Mb(i,Ui(),r),O}function ft(n,t,e,i,r){let o=he(),a=sV(o,n,t,e,i,r);return a!==xn&&Mb(o,Ui(),a),ft}function Yo(n,t,e,i,r,o,a){let s=he(),d=cV(s,n,t,e,i,r,o,a);return d!==xn&&Mb(s,Ui(),d),Yo}function Mb(n,t,e){let i=gv(t,n);uN(n[pt],i,e)}function nn(n,t,e){fb(t)&&(t=t());let i=he(),r=io();if(Wn(i,r,t)){let o=yt(),a=Ks();rS(a,i,n,t,i[pt],e)}return nn}function pn(n,t){let e=fb(n);return e&&n.set(t),e}function rn(n,t){let e=he(),i=yt(),r=Yt();return QS(i,e,e[pt],r,n,t),rn}function Pr(n,t,e=""){return rO(he(),n,t,e)}function rE(n,t,e){let i=yt();i.firstCreatePass&&oO(t,i.data,i.blueprint,zi(n),e)}function oO(n,t,e,i,r){if(n=Xt(n),Array.isArray(n))for(let o=0;o<n.length;o++)oO(n[o],t,e,i,r);else{let o=yt(),a=he(),s=Yt(),d=Aa(n)?n:Xt(n.provide),p=dv(n),h=s.providerIndexes&1048575,_=s.directiveStart,b=s.providerIndexes>>20;if(Aa(n)||!n.multi){let y=new $a(p,r,k,null),M=Zv(d,t,r?h:h+b,_);M===-1?(Jv(ip(s,a),o,d),Qv(o,n,t.length),t.push(d),s.directiveStart++,s.directiveEnd++,r&&(s.providerIndexes+=1048576),e.push(y),a.push(y)):(e[M]=y,a[M]=y)}else{let y=Zv(d,t,h+b,_),M=Zv(d,t,h,h+b),A=y>=0&&e[y],B=M>=0&&e[M];if(r&&!B||!r&&!A){Jv(ip(s,a),o,d);let z=uV(r?dV:lV,e.length,r,i,p,n);!r&&B&&(e[M].providerFactory=z),Qv(o,n,t.length,0),t.push(d),s.directiveStart++,s.directiveEnd++,r&&(s.providerIndexes+=1048576),e.push(z),a.push(z)}else{let z=aO(e[r?M:y],p,!r&&i);Qv(o,n,y>-1?y:M,z)}!r&&i&&B&&e[M].componentProviders++}}}function Qv(n,t,e,i){let r=Aa(t),o=Zw(t);if(r||o){let d=(o?Xt(t.useClass):t).prototype.ngOnDestroy;if(d){let p=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){let h=p.indexOf(e);h===-1?p.push(e,[i,d]):p[h+1].push(i,d)}else p.push(e,d)}}}function aO(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Zv(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function lV(n,t,e,i,r){return Ty(this.multi,[])}function dV(n,t,e,i,r){let o=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,d=Vl(i,i[pe],this.providerFactory.index,r);a=d.slice(0,s),Ty(o,a);for(let p=s;p<d.length;p++)a.push(d[p])}else a=[],Ty(o,a);return a}function Ty(n,t){for(let e=0;e<n.length;e++){let i=n[e];t.push(i())}return t}function uV(n,t,e,i,r,o){let a=new $a(n,e,k,null);return a.multi=[],a.index=t,a.componentProviders=0,aO(a,r,i&&!e),a}function De(n,t){return e=>{e.providersResolver=(i,r)=>rE(i,r?r(n):n,!1),t&&(e.viewProvidersResolver=(i,r)=>rE(i,r?r(t):t,!0))}}function Eb(n,t,e){let i=Lm()+n,r=he();return r[i]===xn?cb(r,i,e?t.call(e):t()):BF(r,i)}function sO(n,t){let e=n[t];return e===xn?void 0:e}function mV(n,t,e,i,r,o){let a=t+e;return Wn(n,a,r)?cb(n,a+1,o?i.call(o,r):i(r)):sO(n,a+1)}function pV(n,t,e,i,r,o,a){let s=t+e;return lb(n,s,r,o)?cb(n,s+2,a?i.call(a,r,o):i(r,o)):sO(n,s+2)}function Wi(n,t){let e=yt(),i,r=n+Et;e.firstCreatePass?(i=hV(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];let o=i.factory||(i.factory=Ro(i.type,!0)),a,s=Nn(k);try{let d=np(!1),p=o();return np(d),_v(e,he(),r,p),p}finally{Nn(s)}}function hV(n,t){if(t)for(let e=t.length-1;e>=0;e--){let i=t[e];if(n===i.name)return i}}function Sb(n,t,e){let i=n+Et,r=he(),o=Am(r,i);return cO(r,i)?mV(r,Lm(),t,o.transform,e,o):o.transform(e)}function lo(n,t,e,i){let r=n+Et,o=he(),a=Am(o,r);return cO(o,r)?pV(o,Lm(),t,a.transform,e,i,a):a.transform(e,i)}function cO(n,t){return n[pe].data[t].pure}function di(n,t){return Op(n,t)}var fp=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},Ob=(()=>{class n{compileModuleSync(e){return new up(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),r=nv(e),o=qE(r.declarations).reduce((a,s)=>{let d=eo(s);return d&&a.push(new Wa(d)),a},[]);return new fp(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var lO=(()=>{class n{applicationErrorHandler=f(si);appRef=f(li);taskService=f(ro);ngZone=f($);zonelessEnabled=f(Rl);tracing=f(Sr,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new je;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(xl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(f(jv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(e){if(!this.zonelessEnabled&&e===5)return;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Fv:Nv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(xl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(e),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Fv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dO(){return[{provide:fr,useExisting:lO},{provide:$,useClass:wl},{provide:Rl,useValue:!0}]}function fV(){return typeof $localize<"u"&&$localize.locale||ed}var sc=new I("",{factory:()=>f(sc,{optional:!0,skipSelf:!0})||fV()});function Yi(n,t){return ol(n,t?.equal)}var vO=Symbol("InputSignalNode#UNSET"),OV=xe(R({},sl),{transformFn:void 0,applyValueToInputSignal(n,t){al(n,t)}});function yO(n,t){let e=Object.create(OV);e.value=n,e.transformFn=t?.transform;function i(){if(Ps(e),e.value===vO){let r=null;throw new V(-950,r)}return e.value}return i[ln]=e,i}var uo=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Ry(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},bO=(()=>{let n=new I("");return n.__NG_ELEMENT_ID__=t=>{let e=Yt();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new V(204,!1)},n})();function uO(n,t){return yO(n,t)}function PV(n){return yO(vO,n)}var CO=(uO.required=PV,uO);function mO(n,t){return mb(t)}function kV(n,t){return pb(t)}var id=(mO.required=kV,mO);function pO(n,t){return mb(t)}function IV(n,t){return pb(t)}var xO=(pO.required=IV,pO);var kb=new I(""),DV=new I("");function nd(n){return!n.moduleRef}function TV(n){let t=nd(n)?n.r3Injector:n.moduleRef.injector,e=t.get($);return e.run(()=>{nd(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=t.get(si),r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:i})}),nd(n)){let o=()=>t.destroy(),a=n.platformInjector.get(kb);a.add(o),t.onDestroy(()=>{r.unsubscribe(),a.delete(o)})}else{let o=()=>n.moduleRef.destroy(),a=n.platformInjector.get(kb);a.add(o),n.moduleRef.onDestroy(()=>{Ll(n.allPlatformModules,n.moduleRef),r.unsubscribe(),a.delete(o)})}return RV(i,e,()=>{let o=t.get(ro),a=o.add(),s=t.get(_b);return s.runInitializers(),s.donePromise.then(()=>{let d=t.get(sc,ed);if(KS(d||ed),!t.get(DV,!0))return nd(n)?t.get(li):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(nd(n)){let h=t.get(li);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return AV?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(a))})})}var AV;function RV(n,t,e){try{let i=e();return co(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n(i)),i}}var Lp=null;function NV(n=[],t){return ae.create({name:t,providers:[{provide:Sl,useValue:"platform"},{provide:kb,useValue:new Set([()=>Lp=null])},...n]})}function FV(n=[]){if(Lp)return Lp;let t=NV(n);return Lp=t,GS(),LV(t),t}function LV(n){let t=n.get(gp,null);bn(n,()=>{t?.forEach(e=>e())})}var fe=(()=>{class n{static __NG_ELEMENT_ID__=VV}return n})();function VV(n){return BV(Yt(),he(),(n&16)===16)}function BV(n,t,e){if(no(n)&&!e){let i=wi(n.index,t);return new qo(i,i)}else if(n.type&175){let i=t[Ln];return new qo(i,t)}return null}var Ib=class{constructor(){}supports(t){return sb(t)}create(t){return new Db(t)}},jV=(n,t)=>t,Db=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||jV}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){let a=!i||e&&e.currentIndex<hO(i,r,o)?e:i,s=hO(a,r,o),d=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(e=e._next,a.previousIndex==null)r++;else{o||(o=[]);let p=s-r,h=d-r;if(p!=h){for(let b=0;b<p;b++){let y=b<o.length?o[b]:o[b]=0,M=y+b;h<=M&&M<p&&(o[b]=y+1)}let _=a.previousIndex;o[_]=h-p}}s!==d&&t(a,s,d)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!sb(t))throw new V(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,i=!1,r,o,a;if(Array.isArray(t)){this.length=t.length;for(let s=0;s<this.length;s++)o=t[s],a=this._trackByFn(s,o),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,o,a,s),i=!0):(i&&(e=this._verifyReinsertion(e,o,a,s)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else r=0,SS(t,s=>{a=this._trackByFn(r,s),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,s,a,r),i=!0):(i&&(e=this._verifyReinsertion(e,s,a,r)),Object.is(e.item,s)||this._addIdentityChange(e,s)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new Tb(e,i),o,r)),t}_verifyReinsertion(t,e,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){let r=e===null?this._itHead:e._next;return t._next=r,t._prev=e,r===null?this._itTail=t:r._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Vp),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,i=t._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Vp),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Tb=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},Ab=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let e=t._prevDup,i=t._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},Vp=class{map=new Map;put(t){let e=t.trackById,i=this.map.get(e);i||(i=new Ab,this.map.set(e,i)),i.add(t)}get(t,e){let i=t,r=this.map.get(i);return r?r.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function hO(n,t,e){let i=n.previousIndex;if(i===null)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}function fO(){return new Bp([new Ib])}var Bp=(()=>{class n{factories;static \u0275prov=N({token:n,providedIn:"root",factory:fO});constructor(e){this.factories=e}static create(e,i){if(i!=null){let r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{let i=f(n,{optional:!0,skipSelf:!0});return n.create(e,i||fO())}}}find(e){let i=this.factories.find(r=>r.supports(e));if(i!=null)return i;throw new V(901,!1)}}return n})();function wO(n){let{rootComponent:t,appProviders:e,platformProviders:i,platformRef:r}=n;ct(Ze.BootstrapApplicationStart);try{let o=r?.injector??FV(i),a=[dO(),wM,...e||[]],s=new Ul({providers:a,parent:o,debugName:"",runEnvironmentInitializers:!1});return TV({r3Injector:s.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{ct(Ze.BootstrapApplicationEnd)}}function ce(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Vt(n,t=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):t}var Pb=Symbol("NOT_SET"),MO=new Set,zV=xe(R({},sl),{kind:"afterRenderEffectPhase",consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:Pb,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(n){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==Pb&&!Is(this))return this.signal;try{for(let r of this.cleanup??MO)r()}finally{this.cleanup?.clear()}let t=[];n!==void 0&&t.push(n),t.push(this.registerCleanupFn);let e=Ma(this),i;try{i=this.userFn.apply(null,t)}finally{ks(this,e)}return(this.value===Pb||!this.equal(this.value,i))&&(this.value=i,this.version++),this.signal}}),Rb=class extends Bl{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];onDestroyFns=null;constructor(t,e,i,r,o,a=null){super(t,[void 0,void 0,void 0,void 0],i,!1,o.get(ai),a),this.scheduler=r;for(let s of Ky){let d=e[s];if(d===void 0)continue;let p=Object.create(zV);p.sequence=this,p.phase=s,p.userFn=d,p.dirty=!0,p.signal=()=>(Ps(p),p.value),p.signal[ln]=p,p.registerCleanupFn=h=>(p.cleanup??=new Set).add(h),this.nodes[s]=p,this.hooks[s]=h=>p.phaseFn(h)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){if(this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();super.destroy();for(let t of this.nodes)if(t)try{for(let e of t.cleanup??MO)e()}finally{To(t)}}};function EO(n,t){let e=t?.injector??f(ae),i=e.get(fr),r=e.get(xp),o=e.get(Sr,null,{optional:!0});r.impl??=e.get(Qy);let a=n;typeof a=="function"&&(a={mixedReadWrite:n});let s=e.get(Qs,null,{optional:!0}),d=new Rb(r.impl,[a.earlyRead,a.write,a.mixedReadWrite,a.read],s?.view,i,e,o?.snapshot(null));return r.impl.register(d),d}function jp(n,t){let e=eo(n),i=t.elementInjector||Hs();return new Wa(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector,t.directives,t.bindings)}var SO=null;function Ei(){return SO}function Nb(n){SO??=n}var rd=class{},cc=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>f(OO),providedIn:"platform"})}return n})();var OO=(()=>{class n extends cc{_location;_history;_doc=f(ee);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ei().getBaseHref(this._doc)}onPopState(e){let i=Ei().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=Ei().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function IO(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function PO(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function Ko(n){return n&&n[0]!=="?"?`?${n}`:n}var zp=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>f(HV),providedIn:"root"})}return n})(),UV=new I(""),HV=(()=>{class n extends zp{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??f(ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return IO(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+Ko(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+Ko(o));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+Ko(o));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(ne(cc),ne(UV,8))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qo=(()=>{class n{_subject=new P;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=GV(PO(kO(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ko(i))}normalize(e){return n.stripTrailingSlash($V(this._basePath,kO(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ko(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ko(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=Ko;static joinWithSlash=IO;static stripTrailingSlash=PO;static \u0275fac=function(i){return new(i||n)(ne(zp))};static \u0275prov=N({token:n,factory:()=>qV(),providedIn:"root"})}return n})();function qV(){return new Qo(ne(zp))}function $V(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function kO(n){return n.replace(/\/index.html$/,"")}function GV(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var qb=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(qb||{});var Dn=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(Dn||{}),gt=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(gt||{}),Kn=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(Kn||{}),Qn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function FO(n){return Yn(n)[Ft.LocaleId]}function LO(n,t,e){let i=Yn(n),r=[i[Ft.DayPeriodsFormat],i[Ft.DayPeriodsStandalone]],o=Si(r,t);return Si(o,e)}function VO(n,t,e){let i=Yn(n),r=[i[Ft.DaysFormat],i[Ft.DaysStandalone]],o=Si(r,t);return Si(o,e)}function BO(n,t,e){let i=Yn(n),r=[i[Ft.MonthsFormat],i[Ft.MonthsStandalone]],o=Si(r,t);return Si(o,e)}function jO(n,t){let i=Yn(n)[Ft.Eras];return Si(i,t)}function od(n,t){let e=Yn(n);return Si(e[Ft.DateFormat],t)}function ad(n,t){let e=Yn(n);return Si(e[Ft.TimeFormat],t)}function sd(n,t){let i=Yn(n)[Ft.DateTimeFormat];return Si(i,t)}function kr(n,t){let e=Yn(n),i=e[Ft.NumberSymbols][t];if(typeof i>"u"){if(t===Qn.CurrencyDecimal)return e[Ft.NumberSymbols][Qn.Decimal];if(t===Qn.CurrencyGroup)return e[Ft.NumberSymbols][Qn.Group]}return i}function zO(n,t){return Yn(n)[Ft.NumberFormats][t]}function UO(n){if(!n[Ft.ExtraData])throw new V(2303,!1)}function HO(n){let t=Yn(n);return UO(t),(t[Ft.ExtraData][2]||[]).map(i=>typeof i=="string"?Fb(i):[Fb(i[0]),Fb(i[1])])}function qO(n,t,e){let i=Yn(n);UO(i);let r=[i[Ft.ExtraData][0],i[Ft.ExtraData][1]],o=Si(r,t)||[];return Si(o,e)||[]}function Si(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new V(2304,!1)}function Fb(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var WV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Up={},YV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function $O(n,t,e,i){let r=i3(n);t=mo(e,t)||t;let a=[],s;for(;t;)if(s=YV.exec(t),s){a=a.concat(s.slice(1));let h=a.pop();if(!h)break;t=h}else{a.push(t);break}let d=r.getTimezoneOffset();i&&(d=WO(i,d),r=n3(r,i));let p="";return a.forEach(h=>{let _=e3(h);p+=_?_(r,e,d):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),p}function Wp(n,t,e){let i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function mo(n,t){let e=FO(n);if(Up[e]??={},Up[e][t])return Up[e][t];let i="";switch(t){case"shortDate":i=od(n,Kn.Short);break;case"mediumDate":i=od(n,Kn.Medium);break;case"longDate":i=od(n,Kn.Long);break;case"fullDate":i=od(n,Kn.Full);break;case"shortTime":i=ad(n,Kn.Short);break;case"mediumTime":i=ad(n,Kn.Medium);break;case"longTime":i=ad(n,Kn.Long);break;case"fullTime":i=ad(n,Kn.Full);break;case"short":let r=mo(n,"shortTime"),o=mo(n,"shortDate");i=Hp(sd(n,Kn.Short),[r,o]);break;case"medium":let a=mo(n,"mediumTime"),s=mo(n,"mediumDate");i=Hp(sd(n,Kn.Medium),[a,s]);break;case"long":let d=mo(n,"longTime"),p=mo(n,"longDate");i=Hp(sd(n,Kn.Long),[d,p]);break;case"full":let h=mo(n,"fullTime"),_=mo(n,"fullDate");i=Hp(sd(n,Kn.Full),[h,_]);break}return i&&(Up[e][t]=i),i}function Hp(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return t!=null&&i in t?t[i]:e})),n}function Ki(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=e));let a=String(n);for(;a.length<t;)a="0"+a;return i&&(a=a.slice(a.length-t)),o+a}function KV(n,t){return Ki(n,3).substring(0,t)}function Kt(n,t,e=0,i=!1,r=!1){return function(o,a){let s=QV(n,o);if((e>0||s>-e)&&(s+=e),n===3)s===0&&e===-12&&(s=12);else if(n===6)return KV(s,t);let d=kr(a,Qn.MinusSign);return Ki(s,t,d,i,r)}}function QV(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new V(2301,!1)}}function Ct(n,t,e=Dn.Format,i=!1){return function(r,o){return ZV(r,o,n,t,e,i)}}function ZV(n,t,e,i,r,o){switch(e){case 2:return BO(t,r,i)[n.getMonth()];case 1:return VO(t,r,i)[n.getDay()];case 0:let a=n.getHours(),s=n.getMinutes();if(o){let p=HO(t),h=qO(t,r,i),_=p.findIndex(b=>{if(Array.isArray(b)){let[y,M]=b,A=a>=y.hours&&s>=y.minutes,B=a<M.hours||a===M.hours&&s<M.minutes;if(y.hours<M.hours){if(A&&B)return!0}else if(A||B)return!0}else if(b.hours===a&&b.minutes===s)return!0;return!1});if(_!==-1)return h[_]}return LO(t,r,i)[a<12?0:1];case 3:return jO(t,i)[n.getFullYear()<=0?0:1];default:let d=e;throw new V(2302,!1)}}function qp(n){return function(t,e,i){let r=-1*i,o=kr(e,Qn.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case 0:return(r>=0?"+":"")+Ki(a,2,o)+Ki(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+Ki(a,1,o);case 2:return"GMT"+(r>=0?"+":"")+Ki(a,2,o)+":"+Ki(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+Ki(a,2,o)+":"+Ki(Math.abs(r%60),2,o);default:throw new V(2310,!1)}}}var XV=0,Gp=4;function JV(n){let t=Wp(n,XV,1).getDay();return Wp(n,0,1+(t<=Gp?Gp:Gp+7)-t)}function GO(n){let t=n.getDay(),e=t===0?-3:Gp-t;return Wp(n.getFullYear(),n.getMonth(),n.getDate()+e)}function Lb(n,t=!1){return function(e,i){let r;if(t){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+o)/7)}else{let o=GO(e),a=JV(o.getFullYear()),s=o.getTime()-a.getTime();r=1+Math.round(s/6048e5)}return Ki(r,n,kr(i,Qn.MinusSign))}}function $p(n,t=!1){return function(e,i){let o=GO(e).getFullYear();return Ki(o,n,kr(i,Qn.MinusSign),t)}}var Vb={};function e3(n){if(Vb[n])return Vb[n];let t;switch(n){case"G":case"GG":case"GGG":t=Ct(3,gt.Abbreviated);break;case"GGGG":t=Ct(3,gt.Wide);break;case"GGGGG":t=Ct(3,gt.Narrow);break;case"y":t=Kt(0,1,0,!1,!0);break;case"yy":t=Kt(0,2,0,!0,!0);break;case"yyy":t=Kt(0,3,0,!1,!0);break;case"yyyy":t=Kt(0,4,0,!1,!0);break;case"Y":t=$p(1);break;case"YY":t=$p(2,!0);break;case"YYY":t=$p(3);break;case"YYYY":t=$p(4);break;case"M":case"L":t=Kt(1,1,1);break;case"MM":case"LL":t=Kt(1,2,1);break;case"MMM":t=Ct(2,gt.Abbreviated);break;case"MMMM":t=Ct(2,gt.Wide);break;case"MMMMM":t=Ct(2,gt.Narrow);break;case"LLL":t=Ct(2,gt.Abbreviated,Dn.Standalone);break;case"LLLL":t=Ct(2,gt.Wide,Dn.Standalone);break;case"LLLLL":t=Ct(2,gt.Narrow,Dn.Standalone);break;case"w":t=Lb(1);break;case"ww":t=Lb(2);break;case"W":t=Lb(1,!0);break;case"d":t=Kt(2,1);break;case"dd":t=Kt(2,2);break;case"c":case"cc":t=Kt(7,1);break;case"ccc":t=Ct(1,gt.Abbreviated,Dn.Standalone);break;case"cccc":t=Ct(1,gt.Wide,Dn.Standalone);break;case"ccccc":t=Ct(1,gt.Narrow,Dn.Standalone);break;case"cccccc":t=Ct(1,gt.Short,Dn.Standalone);break;case"E":case"EE":case"EEE":t=Ct(1,gt.Abbreviated);break;case"EEEE":t=Ct(1,gt.Wide);break;case"EEEEE":t=Ct(1,gt.Narrow);break;case"EEEEEE":t=Ct(1,gt.Short);break;case"a":case"aa":case"aaa":t=Ct(0,gt.Abbreviated);break;case"aaaa":t=Ct(0,gt.Wide);break;case"aaaaa":t=Ct(0,gt.Narrow);break;case"b":case"bb":case"bbb":t=Ct(0,gt.Abbreviated,Dn.Standalone,!0);break;case"bbbb":t=Ct(0,gt.Wide,Dn.Standalone,!0);break;case"bbbbb":t=Ct(0,gt.Narrow,Dn.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ct(0,gt.Abbreviated,Dn.Format,!0);break;case"BBBB":t=Ct(0,gt.Wide,Dn.Format,!0);break;case"BBBBB":t=Ct(0,gt.Narrow,Dn.Format,!0);break;case"h":t=Kt(3,1,-12);break;case"hh":t=Kt(3,2,-12);break;case"H":t=Kt(3,1);break;case"HH":t=Kt(3,2);break;case"m":t=Kt(4,1);break;case"mm":t=Kt(4,2);break;case"s":t=Kt(5,1);break;case"ss":t=Kt(5,2);break;case"S":t=Kt(6,1);break;case"SS":t=Kt(6,2);break;case"SSS":t=Kt(6,3);break;case"Z":case"ZZ":case"ZZZ":t=qp(0);break;case"ZZZZZ":t=qp(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=qp(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=qp(2);break;default:return null}return Vb[n]=t,t}function WO(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function t3(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function n3(n,t,e){let r=n.getTimezoneOffset(),o=WO(t,r);return t3(n,-1*(o-r))}function i3(n){if(DO(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,a=1]=n.split("-").map(s=>+s);return Wp(r,o-1,a)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(WV))return r3(i)}let t=new Date(n);if(!DO(t))throw new V(2311,!1);return t}function r3(n){let t=new Date(0),e=0,i=0,r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let a=Number(n[4]||0)-e,s=Number(n[5]||0)-i,d=Number(n[6]||0),p=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(t,a,s,d,p),t}function DO(n){return n instanceof Date&&!isNaN(n.valueOf())}var o3=/^(\d+)?\.((\d+)(-(\d+))?)?$/,TO=22,Yp=".",cd="0",a3=";",s3=",",Bb="#";function c3(n,t,e,i,r,o,a=!1){let s="",d=!1;if(!isFinite(n))s=kr(e,Qn.Infinity);else{let p=u3(n);a&&(p=d3(p));let h=t.minInt,_=t.minFrac,b=t.maxFrac;if(o){let de=o.match(o3);if(de===null)throw new V(2306,!1);let We=de[1],Ve=de[3],Rn=de[5];We!=null&&(h=jb(We)),Ve!=null&&(_=jb(Ve)),Rn!=null?b=jb(Rn):Ve!=null&&_>b&&(b=_)}m3(p,_,b);let y=p.digits,M=p.integerLen,A=p.exponent,B=[];for(d=y.every(de=>!de);M<h;M++)y.unshift(0);for(;M<0;M++)y.unshift(0);M>0?B=y.splice(M,y.length):(B=y,y=[0]);let z=[];for(y.length>=t.lgSize&&z.unshift(y.splice(-t.lgSize,y.length).join(""));y.length>t.gSize;)z.unshift(y.splice(-t.gSize,y.length).join(""));y.length&&z.unshift(y.join("")),s=z.join(kr(e,i)),B.length&&(s+=kr(e,r)+B.join("")),A&&(s+=kr(e,Qn.Exponential)+"+"+A)}return n<0&&!d?s=t.negPre+s+t.negSuf:s=t.posPre+s+t.posSuf,s}function YO(n,t,e){let i=zO(t,qb.Decimal),r=l3(i,kr(t,Qn.MinusSign));return c3(n,r,t,Qn.Group,Qn.Decimal,e)}function l3(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(a3),r=i[0],o=i[1],a=r.indexOf(Yp)!==-1?r.split(Yp):[r.substring(0,r.lastIndexOf(cd)+1),r.substring(r.lastIndexOf(cd)+1)],s=a[0],d=a[1]||"";e.posPre=s.substring(0,s.indexOf(Bb));for(let h=0;h<d.length;h++){let _=d.charAt(h);_===cd?e.minFrac=e.maxFrac=h+1:_===Bb?e.maxFrac=h+1:e.posSuf+=_}let p=s.split(s3);if(e.gSize=p[1]?p[1].length:0,e.lgSize=p[2]||p[1]?(p[2]||p[1]).length:0,o){let h=r.length-e.posPre.length-e.posSuf.length,_=o.indexOf(Bb);e.negPre=o.substring(0,_).replace(/'/g,""),e.negSuf=o.slice(_+h).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function d3(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function u3(n){let t=Math.abs(n)+"",e=0,i,r,o,a,s;for((r=t.indexOf(Yp))>-1&&(t=t.replace(Yp,"")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;t.charAt(o)===cd;o++);if(o===(s=t.length))i=[0],r=1;else{for(s--;t.charAt(s)===cd;)s--;for(r-=o,i=[],a=0;o<=s;o++,a++)i[a]=Number(t.charAt(o))}return r>TO&&(i=i.splice(0,TO-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}function m3(n,t,e){if(t>e)throw new V(2307,!1);let i=n.digits,r=i.length-n.integerLen,o=Math.min(Math.max(t,r),e),a=o+n.integerLen,s=i[a];if(a>0){i.splice(Math.max(n.integerLen,a));for(let _=a;_<i.length;_++)i[_]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,a=o+1),i[0]=0;for(let _=1;_<a;_++)i[_]=0}if(s>=5)if(a-1<0){for(let _=0;_>a;_--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[a-1]++;for(;r<Math.max(0,o);r++)i.push(0);let d=o!==0,p=t+n.integerLen,h=i.reduceRight(function(_,b,y,M){return b=b+_,M[y]=b<10?b:b-10,d&&(M[y]===0&&y>=p?M.pop():d=!1),b>=10?1:0},0);h&&(i.unshift(h),n.integerLen++)}function jb(n){let t=parseInt(n);if(isNaN(t))throw new V(2305,!1);return t}var zb=/\s+/,AO=[],Qa=(()=>{class n{_ngEl;_renderer;initialClasses=AO;rawClass;stateMap=new Map;constructor(e,i){this._ngEl=e,this._renderer=i}set klass(e){this.initialClasses=e!=null?e.trim().split(zb):AO}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(zb):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(zb).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(k(G),k(rt))};static \u0275dir=H({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Kp=class{$implicit;ngForOf;index;count;constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ue=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((r,o,a)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Kp(r.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let s=i.get(o);i.move(s,a),RO(s,r)}});for(let r=0,o=i.length;r<o;r++){let s=i.get(r).context;s.index=r,s.count=o,s.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);RO(o,r)})}static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(k(en),k(mn),k(Bp))};static \u0275dir=H({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function RO(n,t){n.context.$implicit=t.item}var ie=(()=>{class n{_viewContainer;_context=new Qp;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,i){this._viewContainer=e,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){NO(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){NO(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(k(en),k(mn))};static \u0275dir=H({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Qp=class{$implicit=null;ngIf=null};function NO(n,t){if(n&&!n.createEmbeddedView)throw new V(2020,!1)}var Za=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(e,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||n)(k(en))};static \u0275dir=H({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[it]})}return n})();function $b(n,t){return new V(2100,!1)}var Ub=class{createSubscription(t,e,i){return Rt(()=>t.subscribe({next:e,error:i}))}dispose(t){Rt(()=>t.unsubscribe())}},Hb=class{createSubscription(t,e,i){return t.then(r=>e?.(r),r=>i?.(r)),{unsubscribe:()=>{e=null,i=null}}}dispose(t){t.unsubscribe()}},p3=new Hb,h3=new Ub,Gb=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=f(si);constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i),i=>this.applicationErrorHandler(i))}_selectStrategy(e){if(co(e))return p3;if(Dp(e))return h3;throw $b(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(i){return new(i||n)(k(fe,16))};static \u0275pipe=Jl({name:"async",type:n,pure:!1})}return n})();var f3="mediumDate",KO=new I(""),QO=new I(""),ld=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(e==null||e===""||e!==e)return null;try{let a=i??this.defaultOptions?.dateFormat??f3,s=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return $O(e,a,o||this.locale,s)}catch(a){throw $b(n,a.message)}}static \u0275fac=function(i){return new(i||n)(k(sc,16),k(KO,24),k(QO,24))};static \u0275pipe=Jl({name:"date",type:n,pure:!0})}return n})();var Wb=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,i,r){if(!g3(e))return null;r||=this._locale;try{let o=_3(e);return YO(o,r,i)}catch(o){throw $b(n,o.message)}}static \u0275fac=function(i){return new(i||n)(k(sc,16))};static \u0275pipe=Jl({name:"number",type:n,pure:!0})}return n})();function g3(n){return!(n==null||n===""||n!==n)}function _3(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new V(2309,!1);return n}var Q=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({})}return n})();function dd(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var Xa=class{};var Yb="browser";function ZO(n){return n===Yb}var ud=class{_doc;constructor(t){this._doc=t}manager},Zp=(()=>{class n extends ud{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r,o){return e.addEventListener(i,r,o),()=>this.removeEventListener(e,i,r,o)}removeEventListener(e,i,r,o){return e.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(ne(ee))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),eh=new I(""),Xb=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(a=>{a.manager=this});let r=e.filter(a=>!(a instanceof Zp));this._plugins=r.slice().reverse();let o=e.find(a=>a instanceof Zp);o&&this._plugins.push(o)}addEventListener(e,i,r,o){return this._findPluginFor(i).addEventListener(e,i,r,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new V(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(ne(eh),ne($))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),Kb="ng-app-id";function XO(n){for(let t of n)t.remove()}function JO(n,t){let e=t.createElement("style");return e.textContent=n,e}function v3(n,t,e,i){let r=n.head?.querySelectorAll(`style[${Kb}="${t}"],link[${Kb}="${t}"]`);if(r)for(let o of r)o.removeAttribute(Kb),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Zb(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var Jb=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,v3(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let r of e)this.addUsage(r,this.inline,JO);i?.forEach(r=>this.addUsage(r,this.external,Zb))}removeStyles(e,i){for(let r of e)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,i,r){let o=i.get(e);o?o.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,r(e,this.doc)))})}removeUsage(e,i){let r=i.get(e);r&&(r.usage--,r.usage<=0&&(XO(r.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])XO(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(e,JO(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(e,Zb(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(ne(ee),ne($o),ne(rc,8),ne(Ka))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),Qb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},e0=/%COMP%/g;var tP="%COMP%",y3=`_nghost-${tP}`,b3=`_ngcontent-${tP}`,C3=!0,x3=new I("",{factory:()=>C3});function w3(n){return b3.replace(e0,n)}function M3(n){return y3.replace(e0,n)}function nP(n,t){return t.map(e=>e.replace(e0,n))}var hd=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(e,i,r,o,a,s,d=null,p=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=a,this.ngZone=s,this.nonce=d,this.tracingService=p,this.defaultRenderer=new md(e,a,s,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(e,i);return r instanceof Jp?r.applyToHost(e):r instanceof pd&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let a=this.doc,s=this.ngZone,d=this.eventManager,p=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,_=this.tracingService;switch(i.encapsulation){case $i.Emulated:o=new Jp(d,p,i,this.appId,h,a,s,_);break;case $i.ShadowDom:return new Xp(d,e,i,a,s,this.nonce,_,p);case $i.ExperimentalIsolatedShadowDom:return new Xp(d,e,i,a,s,this.nonce,_);default:o=new pd(d,p,i,h,a,s,_);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(ne(Xb),ne(Jb),ne($o),ne(x3),ne(ee),ne($),ne(rc),ne(Sr,8))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),md=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.tracingService=r}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Qb[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(eP(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(eP(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new V(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let o=Qb[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=Qb[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(wr.DashCase|wr.Important)?t.style.setProperty(e,i,r&wr.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&wr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,r){if(typeof t=="string"&&(t=Ei().getGlobalEventTarget(this.doc,t),!t))throw new V(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function eP(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Xp=class extends md{hostEl;sharedStylesHost;shadowRoot;constructor(t,e,i,r,o,a,s,d){super(t,r,o,s),this.hostEl=e,this.sharedStylesHost=d,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let p=i.styles;p=nP(i.id,p);for(let _ of p){let b=document.createElement("style");a&&b.setAttribute("nonce",a),b.textContent=_,this.shadowRoot.appendChild(b)}let h=i.getExternalStyles?.();if(h)for(let _ of h){let b=Zb(_,r);a&&b.setAttribute("nonce",a),this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},pd=class extends md{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,r,o,a,s,d){super(t,o,a,s),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let p=i.styles;this.styles=d?nP(d,p):p,this.styleUrls=i.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ga.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Jp=class extends pd{contentAttr;hostAttr;constructor(t,e,i,r,o,a,s,d){let p=r+"-"+i.id;super(t,e,i,o,a,s,d,p),this.contentAttr=w3(p),this.hostAttr=M3(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}};var th=class n extends rd{supportsDOMEvents=!0;static makeCurrent(){Nb(new n)}onAndCancel(t,e,i,r){return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=E3();return e==null?null:S3(e)}resetBaseElement(){fd=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return dd(document.cookie,t)}},fd=null;function E3(){return fd=fd||document.head.querySelector("base"),fd?fd.getAttribute("href"):null}function S3(n){return new URL(n,document.baseURI).pathname}var O3=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),iP=["alt","control","meta","shift"],P3={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},k3={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},rP=(()=>{class n extends ud{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r,o){let a=n.parseEventName(i),s=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ei().onAndCancel(e,a.domEventName,s,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),a="",s=i.indexOf("code");if(s>-1&&(i.splice(s,1),a="code."),iP.forEach(p=>{let h=i.indexOf(p);h>-1&&(i.splice(h,1),a+=p+".")}),a+=o,i.length!=0||o.length===0)return null;let d={};return d.domEventName=r,d.fullKey=a,d}static matchEventFullKeyCode(e,i){let r=P3[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),iP.forEach(a=>{if(a!==r){let s=k3[a];s(e)&&(o+=a+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(ne(ee))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function t0(n,t,e){let i=R({rootComponent:n,platformRef:e?.platformRef},I3(t));return wO(i)}function I3(n){return{appProviders:[...N3,...n?.providers??[]],platformProviders:R3}}function D3(){th.makeCurrent()}function T3(){return new Gn}function A3(){return Fy(document),document}var R3=[{provide:Ka,useValue:Yb},{provide:gp,useValue:D3,multi:!0},{provide:ee,useFactory:A3}];var N3=[{provide:Sl,useValue:"root"},{provide:Gn,useFactory:T3},{provide:eh,useClass:Zp,multi:!0},{provide:eh,useClass:rP,multi:!0},hd,Jb,Xb,{provide:Nt,useExisting:hd},{provide:Xa,useClass:O3},[]];var Zo=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=e.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let a=this.headers.get(e);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}break}}addHeaderEntry(t,e){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var ih=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}},rh=class{encodeKey(t){return oP(t)}encodeValue(t){return oP(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function F3(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,s]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],d=e.get(a)||[];d.push(s),e.set(a,d)}),e}var L3=/%(\d[a-f0-9])/gi,V3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function oP(n){return encodeURIComponent(n).replace(L3,(t,e)=>V3[e]??t)}function nh(n){return`${n}`}var po=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new rh,t.fromString){if(t.fromObject)throw new V(2805,!1);this.map=F3(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],r=Array.isArray(i)?i.map(nh):[nh(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(nh(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(nh(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};function B3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function aP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function sP(n){return typeof Blob<"u"&&n instanceof Blob}function cP(n){return typeof FormData<"u"&&n instanceof FormData}function j3(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var lP="Content-Type",dP="Accept",uP="text/plain",mP="application/json",z3=`${mP}, ${uP}, */*`,lc=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,i,r){this.url=e,this.method=t.toUpperCase();let o;if(B3(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new V(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new Zo,this.context??=new ih,!this.params)this.params=new po,this.urlWithParams=e;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=e;else{let s=e.indexOf("?"),d=s===-1?"?":s<e.length-1?"&":"";this.urlWithParams=e+d+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||aP(this.body)||sP(this.body)||cP(this.body)||j3(this.body)?this.body:this.body instanceof po?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||cP(this.body)?null:sP(this.body)?this.body.type||null:aP(this.body)?null:typeof this.body=="string"?uP:this.body instanceof po?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?mP:null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.keepalive??this.keepalive,a=t.priority||this.priority,s=t.cache||this.cache,d=t.mode||this.mode,p=t.redirect||this.redirect,h=t.credentials||this.credentials,_=t.referrer||this.referrer,b=t.integrity||this.integrity,y=t.referrerPolicy||this.referrerPolicy,M=t.transferCache??this.transferCache,A=t.timeout??this.timeout,B=t.body!==void 0?t.body:this.body,z=t.withCredentials??this.withCredentials,de=t.reportProgress??this.reportProgress,We=t.headers||this.headers,Ve=t.params||this.params,Rn=t.context??this.context;return t.setHeaders!==void 0&&(We=Object.keys(t.setHeaders).reduce((En,kt)=>En.set(kt,t.setHeaders[kt]),We)),t.setParams&&(Ve=Object.keys(t.setParams).reduce((En,kt)=>En.set(kt,t.setParams[kt]),Ve)),new n(e,i,B,{params:Ve,headers:We,context:Rn,reportProgress:de,responseType:r,withCredentials:z,transferCache:M,keepalive:o,cache:s,priority:a,timeout:A,mode:d,redirect:p,credentials:h,referrer:_,integrity:b,referrerPolicy:y})}},Ja=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Ja||{}),uc=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,e=200,i="OK"){this.headers=t.headers||new Zo,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}},oh=class n extends uc{constructor(t={}){super(t)}type=Ja.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},gd=class n extends uc{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Ja.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}},dc=class extends uc{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},U3=200,H3=204;var q3=new I("");var $3=/^\)\]\}',?\n/;var i0=(()=>{class n{xhrFactory;tracingService=f(Sr,{optional:!0});constructor(e){this.xhrFactory=e}maybePropagateTrace(e){return this.tracingService?.propagate?this.tracingService.propagate(e):e}handle(e){if(e.method==="JSONP")throw new V(-2800,!1);let i=this.xhrFactory;return te(null).pipe(un(()=>new we(o=>{let a=i.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((B,z)=>a.setRequestHeader(B,z.join(","))),e.headers.has(dP)||a.setRequestHeader(dP,z3),!e.headers.has(lP)){let B=e.detectContentTypeHeader();B!==null&&a.setRequestHeader(lP,B)}if(e.timeout&&(a.timeout=e.timeout),e.responseType){let B=e.responseType.toLowerCase();a.responseType=B!=="json"?B:"text"}let s=e.serializeBody(),d=null,p=()=>{if(d!==null)return d;let B=a.statusText||"OK",z=new Zo(a.getAllResponseHeaders()),de=a.responseURL||e.url;return d=new oh({headers:z,status:a.status,statusText:B,url:de}),d},h=this.maybePropagateTrace(()=>{let{headers:B,status:z,statusText:de,url:We}=p(),Ve=null;z!==H3&&(Ve=typeof a.response>"u"?a.responseText:a.response),z===0&&(z=Ve?U3:0);let Rn=z>=200&&z<300;if(e.responseType==="json"&&typeof Ve=="string"){let En=Ve;Ve=Ve.replace($3,"");try{Ve=Ve!==""?JSON.parse(Ve):null}catch(kt){Ve=En,Rn&&(Rn=!1,Ve={error:kt,text:Ve})}}Rn?(o.next(new gd({body:Ve,headers:B,status:z,statusText:de,url:We||void 0})),o.complete()):o.error(new dc({error:Ve,headers:B,status:z,statusText:de,url:We||void 0}))}),_=this.maybePropagateTrace(B=>{let{url:z}=p(),de=new dc({error:B,status:a.status||0,statusText:a.statusText||"Unknown Error",url:z||void 0});o.error(de)}),b=_;e.timeout&&(b=this.maybePropagateTrace(B=>{let{url:z}=p(),de=new dc({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:z||void 0});o.error(de)}));let y=!1,M=this.maybePropagateTrace(B=>{y||(o.next(p()),y=!0);let z={type:Ja.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(z.total=B.total),e.responseType==="text"&&a.responseText&&(z.partialText=a.responseText),o.next(z)}),A=this.maybePropagateTrace(B=>{let z={type:Ja.UploadProgress,loaded:B.loaded};B.lengthComputable&&(z.total=B.total),o.next(z)});return a.addEventListener("load",h),a.addEventListener("error",_),a.addEventListener("timeout",b),a.addEventListener("abort",_),e.reportProgress&&(a.addEventListener("progress",M),s!==null&&a.upload&&a.upload.addEventListener("progress",A)),a.send(s),o.next({type:Ja.Sent}),()=>{a.removeEventListener("error",_),a.removeEventListener("abort",_),a.removeEventListener("load",h),a.removeEventListener("timeout",b),e.reportProgress&&(a.removeEventListener("progress",M),s!==null&&a.upload&&a.upload.removeEventListener("progress",A)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(i){return new(i||n)(ne(Xa))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function G3(n,t){return t(n)}function W3(n,t,e){return(i,r)=>bn(e,()=>t(i,o=>n(o,r)))}var pP=new I("",{factory:()=>[]}),hP=new I(""),fP=new I("",{factory:()=>!0});var r0=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=ne(i0),r},providedIn:"root"})}return n})();var ah=(()=>{class n{backend;injector;chain=null;pendingTasks=f(Hm);contributeToStability=f(fP);constructor(e,i){this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(pP),...this.injector.get(hP,[])]));this.chain=i.reduceRight((r,o)=>W3(r,o,this.injector),G3)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Ia(i))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(ne(r0),ne(vt))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),o0=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=ne(ah),r},providedIn:"root"})}return n})();function n0(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer,referrerPolicy:n.referrerPolicy}}var Xo=(()=>{class n{handler;constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof lc)o=e;else{let d;r.headers instanceof Zo?d=r.headers:d=new Zo(r.headers);let p;r.params&&(r.params instanceof po?p=r.params:p=new po({fromObject:r.params})),o=new lc(e,i,r.body!==void 0?r.body:null,{headers:d,context:r.context,params:p,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,referrerPolicy:r.referrerPolicy,integrity:r.integrity,timeout:r.timeout})}let a=te(o).pipe(Bs(d=>this.handler.handle(d)));if(e instanceof lc||r.observe==="events")return a;let s=a.pipe(be(d=>d instanceof gd));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(se(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new V(2806,!1);return d.body}));case"blob":return s.pipe(se(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new V(2807,!1);return d.body}));case"text":return s.pipe(se(d=>{if(d.body!==null&&typeof d.body!="string")throw new V(2808,!1);return d.body}));case"json":default:return s.pipe(se(d=>d.body))}case"response":return s;default:throw new V(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new po().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,n0(r,i))}post(e,i,r={}){return this.request("POST",e,n0(r,i))}put(e,i,r={}){return this.request("PUT",e,n0(r,i))}static \u0275fac=function(i){return new(i||n)(ne(o0))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Y3=new I("",{factory:()=>!0}),K3="XSRF-TOKEN",Q3=new I("",{factory:()=>K3}),Z3="X-XSRF-TOKEN",X3=new I("",{providedIn:"root",factory:()=>Z3}),J3=(()=>{class n{cookieName=f(Q3);doc=f(ee);lastCookieString="";lastToken=null;parseCount=0;getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=dd(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gP=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=ne(J3),r},providedIn:"root"})}return n})();function eB(n,t){if(!f(Y3)||n.method==="GET"||n.method==="HEAD")return t(n);try{let r=f(cc).href,{origin:o}=new URL(r),{origin:a}=new URL(n.url,o);if(o!==a)return t(n)}catch{return t(n)}let e=f(gP).getToken(),i=f(X3);return e!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,e)})),t(n)}function a0(...n){let t=[Xo,ah,{provide:o0,useExisting:ah},{provide:r0,useFactory:()=>f(q3,{optional:!0})??f(i0)},{provide:pP,useValue:eB,multi:!0}];for(let e of n)t.push(...e.\u0275providers);return vr(t)}var _P=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(ne(ee))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var c0=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=ne(tB),r},providedIn:"root"})}return n})(),tB=(()=>{class n extends c0{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case kn.NONE:return i;case kn.HTML:return Wo(i,"HTML")?Er(i):Hy(this._doc,String(i)).toString();case kn.STYLE:return Wo(i,"Style")?Er(i):i;case kn.SCRIPT:if(Wo(i,"Script"))return Er(i);throw new V(5200,!1);case kn.URL:return Wo(i,"URL")?Er(i):Gl(String(i));case kn.RESOURCE_URL:if(Wo(i,"ResourceURL"))return Er(i);throw new V(5201,!1);default:throw new V(5202,!1)}}bypassSecurityTrustHtml(e){return Vy(e)}bypassSecurityTrustStyle(e){return By(e)}bypassSecurityTrustScript(e){return jy(e)}bypassSecurityTrustUrl(e){return zy(e)}bypassSecurityTrustResourceUrl(e){return Uy(e)}static \u0275fac=function(i){return new(i||n)(ne(ee))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ze=(function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n})(ze||{}),Qi="*";function yP(n,t=null){return{type:ze.Sequence,steps:n,options:t}}function l0(n){return{type:ze.Style,styles:n,offset:null}}var ho=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},mc=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,s)=>Math.max(a,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){let t=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},_d="!";function bP(n){return new V(3e3,!1)}function nB(){return new V(3100,!1)}function iB(){return new V(3101,!1)}function rB(n){return new V(3001,!1)}function oB(n){return new V(3003,!1)}function aB(n){return new V(3004,!1)}function xP(n,t){return new V(3005,!1)}function wP(){return new V(3006,!1)}function MP(){return new V(3007,!1)}function EP(n,t){return new V(3008,!1)}function SP(n){return new V(3002,!1)}function OP(n,t,e,i,r){return new V(3010,!1)}function PP(){return new V(3011,!1)}function kP(){return new V(3012,!1)}function IP(){return new V(3200,!1)}function DP(){return new V(3202,!1)}function TP(){return new V(3013,!1)}function AP(n){return new V(3014,!1)}function RP(n){return new V(3015,!1)}function NP(n){return new V(3016,!1)}function FP(n,t){return new V(3404,!1)}function sB(n){return new V(3502,!1)}function LP(n){return new V(3503,!1)}function VP(){return new V(3300,!1)}function BP(n){return new V(3504,!1)}function jP(n){return new V(3301,!1)}function zP(n,t){return new V(3302,!1)}function UP(n){return new V(3303,!1)}function HP(n,t){return new V(3400,!1)}function qP(n){return new V(3401,!1)}function $P(n){return new V(3402,!1)}function GP(n,t){return new V(3505,!1)}function fo(n){switch(n.length){case 0:return new ho;case 1:return n[0];default:return new mc(n)}}function p0(n,t,e=new Map,i=new Map){let r=[],o=[],a=-1,s=null;if(t.forEach(d=>{let p=d.get("offset"),h=p==a,_=h&&s||new Map;d.forEach((b,y)=>{let M=y,A=b;if(y!=="offset")switch(M=n.normalizePropertyName(M,r),A){case _d:A=e.get(y);break;case Qi:A=i.get(y);break;default:A=n.normalizeStyleValue(y,M,A,r);break}_.set(M,A)}),h||o.push(_),s=_,a=p}),r.length)throw sB(r);return o}function sh(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&d0(e,"start",n)));break;case"done":n.onDone(()=>i(e&&d0(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&d0(e,"destroy",n)));break}}function d0(n,t,e){let i=e.totalTime,r=!!e.disabled,o=ch(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,i??n.totalTime,r),a=n._data;return a!=null&&(o._data=a),o}function ch(n,t,e,i,r="",o=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function Zn(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function h0(n){let t=n.indexOf(":"),e=n.substring(1,t),i=n.slice(t+1);return[e,i]}var cB=typeof document>"u"?null:document.documentElement;function lh(n){let t=n.parentNode||n.host||null;return t===cB?null:t}function lB(n){return n.substring(1,6)=="ebkit"}var es=null,CP=!1;function WP(n){es||(es=dB()||{},CP=es.style?"WebkitAppearance"in es.style:!1);let t=!0;return es.style&&!lB(n)&&(t=n in es.style,!t&&CP&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in es.style)),t}function dB(){return typeof document<"u"?document.body:null}function f0(n,t){for(;t;){if(t===n)return!0;t=lh(t)}return!1}function g0(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let i=n.querySelector(t);return i?[i]:[]}var uB=1e3,_0="{{",mB="}}",v0="ng-enter",dh="ng-leave",vd="ng-trigger",yd=".ng-trigger",y0="ng-animating",uh=".ng-animating";function Ir(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:u0(parseFloat(t[1]),t[2])}function u0(n,t){switch(t){case"s":return n*uB;default:return n}}function bd(n,t,e){return n.hasOwnProperty("duration")?n:hB(n,t,e)}var pB=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function hB(n,t,e){let i,r=0,o="";if(typeof n=="string"){let a=n.match(pB);if(a===null)return t.push(bP(n)),{duration:0,delay:0,easing:""};i=u0(parseFloat(a[1]),a[2]);let s=a[3];s!=null&&(r=u0(parseFloat(s),a[4]));let d=a[5];d&&(o=d)}else i=n;if(!e){let a=!1,s=t.length;i<0&&(t.push(nB()),a=!0),r<0&&(t.push(iB()),a=!0),a&&t.splice(s,0,bP(n))}return{duration:i,delay:r,easing:o}}function YP(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function Zi(n,t,e){t.forEach((i,r)=>{let o=mh(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function Jo(n,t){t.forEach((e,i)=>{let r=mh(i);n.style[r]=""})}function pc(n){return Array.isArray(n)?n.length==1?n[0]:yP(n):n}function KP(n,t,e){let i=t.params||{},r=b0(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(rB(o))})}var m0=new RegExp(`${_0}\\s*(.+?)\\s*${mB}`,"g");function b0(n){let t=[];if(typeof n=="string"){let e;for(;e=m0.exec(n);)t.push(e[1]);m0.lastIndex=0}return t}function hc(n,t,e){let i=`${n}`,r=i.replace(m0,(o,a)=>{let s=t[a];return s==null&&(e.push(oB(a)),s=""),s.toString()});return r==i?n:r}var fB=/-+([a-z0-9])/g;function mh(n){return n.replace(fB,(...t)=>t[1].toUpperCase())}function QP(n,t){return n===0||t===0}function ZP(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<t.length;o++){let a=t[o];r.forEach(s=>a.set(s,ph(n,s)))}}return t}function Xn(n,t,e){switch(t.type){case ze.Trigger:return n.visitTrigger(t,e);case ze.State:return n.visitState(t,e);case ze.Transition:return n.visitTransition(t,e);case ze.Sequence:return n.visitSequence(t,e);case ze.Group:return n.visitGroup(t,e);case ze.Animate:return n.visitAnimate(t,e);case ze.Keyframes:return n.visitKeyframes(t,e);case ze.Style:return n.visitStyle(t,e);case ze.Reference:return n.visitReference(t,e);case ze.AnimateChild:return n.visitAnimateChild(t,e);case ze.AnimateRef:return n.visitAnimateRef(t,e);case ze.Query:return n.visitQuery(t,e);case ze.Stagger:return n.visitStagger(t,e);default:throw aB(t.type)}}function ph(n,t){return window.getComputedStyle(n)[t]}var L0=(()=>{class n{validateStyleProperty(e){return WP(e)}containsElement(e,i){return f0(e,i)}getParentElement(e){return lh(e)}query(e,i,r){return g0(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,a,s=[],d){return new ho(r,o)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),ns=class{static NOOP=new L0},is=class{};var gB=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),vh=class extends is{normalizePropertyName(t,e){return mh(t)}normalizeStyleValue(t,e,i,r){let o="",a=i.toString().trim();if(gB.has(e)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let s=i.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&r.push(xP(t,i))}return a+o}};var yh="*";function _B(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>vB(i,e,t)):e.push(n),e}function vB(n,t,e){if(n[0]==":"){let d=yB(n,e);if(typeof d=="function"){t.push(d);return}n=d}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(RP(n)),t;let r=i[1],o=i[2],a=i[3];t.push(XP(r,a));let s=r==yh&&a==yh;o[0]=="<"&&!s&&t.push(XP(a,r))}function yB(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(NP(n)),"* => *"}}var hh=new Set(["true","1"]),fh=new Set(["false","0"]);function XP(n,t){let e=hh.has(n)||fh.has(n),i=hh.has(t)||fh.has(t);return(r,o)=>{let a=n==yh||n==r,s=t==yh||t==o;return!a&&e&&typeof r=="boolean"&&(a=r?hh.has(n):fh.has(n)),!s&&i&&typeof o=="boolean"&&(s=o?hh.has(t):fh.has(t)),a&&s}}var c1=":self",bB=new RegExp(`s*${c1}s*,?`,"g");function l1(n,t,e,i){return new S0(n).build(t,e,i)}var JP="",S0=class{_driver;constructor(t){this._driver=t}build(t,e,i){let r=new O0(e);return this._resetContextStyleTimingState(r),Xn(this,pc(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=JP,t.collectedStyles=new Map,t.collectedStyles.set(JP,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0,o=[],a=[];return t.name.charAt(0)=="@"&&e.errors.push(wP()),t.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==ze.State){let d=s,p=d.name;p.toString().split(/\s*,\s*/).forEach(h=>{d.name=h,o.push(this.visitState(d,e))}),d.name=p}else if(s.type==ze.Transition){let d=this.visitTransition(s,e);i+=d.queryCount,r+=d.depCount,a.push(d)}else e.errors.push(MP())}),{type:ze.Trigger,name:t.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){let o=new Set,a=r||{};i.styles.forEach(s=>{s instanceof Map&&s.forEach(d=>{b0(d).forEach(p=>{a.hasOwnProperty(p)||o.add(p)})})}),o.size&&e.errors.push(EP(t.name,[...o.values()]))}return{type:ze.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=Xn(this,pc(t.animation),e),r=_B(t.expr,e.errors);return{type:ze.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:ts(t.options)}}visitSequence(t,e){return{type:ze.Sequence,steps:t.steps.map(i=>Xn(this,i,e)),options:ts(t.options)}}visitGroup(t,e){let i=e.currentTime,r=0,o=t.steps.map(a=>{e.currentTime=i;let s=Xn(this,a,e);return r=Math.max(r,e.currentTime),s});return e.currentTime=r,{type:ze.Group,steps:o,options:ts(t.options)}}visitAnimate(t,e){let i=MB(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:l0({});if(o.type==ze.Keyframes)r=this.visitKeyframes(o,e);else{let a=t.styles,s=!1;if(!a){s=!0;let p={};i.easing&&(p.easing=i.easing),a=l0(p)}e.currentTime+=i.duration+i.delay;let d=this.visitStyle(a,e);d.isEmptyStep=s,r=d}return e.currentAnimateTimings=null,{type:ze.Animate,timings:i,style:r,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let s of r)typeof s=="string"?s===Qi?i.push(s):e.errors.push(SP(s)):i.push(new Map(Object.entries(s)));let o=!1,a=null;return i.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!o)){for(let d of s.values())if(d.toString().indexOf(_0)>=0){o=!0;break}}}),{type:ze.Style,styles:i,easing:a,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(a=>{typeof a!="string"&&a.forEach((s,d)=>{let p=e.collectedStyles.get(e.currentQuerySelector),h=p.get(d),_=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(e.errors.push(OP(d,h.startTime,h.endTime,o,r)),_=!1),o=h.startTime),_&&p.set(d,{startTime:o,endTime:r}),e.options&&KP(s,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:ze.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(PP()),i;let r=1,o=0,a=[],s=!1,d=!1,p=0,h=t.steps.map(z=>{let de=this._makeStyleAst(z,e),We=de.offset!=null?de.offset:wB(de.styles),Ve=0;return We!=null&&(o++,Ve=de.offset=We),d=d||Ve<0||Ve>1,s=s||Ve<p,p=Ve,a.push(Ve),de});d&&e.errors.push(kP()),s&&e.errors.push(IP());let _=t.steps.length,b=0;o>0&&o<_?e.errors.push(DP()):o==0&&(b=r/(_-1));let y=_-1,M=e.currentTime,A=e.currentAnimateTimings,B=A.duration;return h.forEach((z,de)=>{let We=b>0?de==y?1:b*de:a[de],Ve=We*B;e.currentTime=M+A.delay+Ve,A.duration=Ve,this._validateStyleAst(z,e),z.offset=We,i.styles.push(z)}),i}visitReference(t,e){return{type:ze.Reference,animation:Xn(this,pc(t.animation),e),options:ts(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:ze.AnimateChild,options:ts(t.options)}}visitAnimateRef(t,e){return{type:ze.AnimateRef,animation:this.visitReference(t.animation,e),options:ts(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[o,a]=CB(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Zn(e.collectedStyles,e.currentQuerySelector,new Map);let s=Xn(this,pc(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:ze.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:ts(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(TP());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:bd(t.timings,e.errors,!0);return{type:ze.Stagger,animation:Xn(this,pc(t.animation),e),timings:i,options:null}}};function CB(n){let t=!!n.split(/\s*,\s*/).find(e=>e==c1);return t&&(n=n.replace(bB,"")),n=n.replace(/@\*/g,yd).replace(/@\w+/g,e=>yd+"-"+e.slice(1)).replace(/:animating/g,uh),[n,t]}function xB(n){return n?R({},n):null}var O0=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function wB(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function MB(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=bd(n,t).duration;return C0(o,0,"")}let e=n;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=C0(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=bd(e,t);return C0(r.duration,r.delay,r.easing)}function ts(n){return n?(n=R({},n),n.params&&(n.params=xB(n.params))):n={},n}function C0(n,t,e){return{duration:n,delay:t,easing:e}}function V0(n,t,e,i,r,o,a=null,s=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}var xd=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},EB=1,SB=":enter",OB=new RegExp(SB,"g"),PB=":leave",kB=new RegExp(PB,"g");function d1(n,t,e,i,r,o=new Map,a=new Map,s,d,p=[]){return new P0().buildKeyframes(n,t,e,i,r,o,a,s,d,p)}var P0=class{buildKeyframes(t,e,i,r,o,a,s,d,p,h=[]){p=p||new xd;let _=new k0(t,e,p,r,o,h,[]);_.options=d;let b=d.delay?Ir(d.delay):0;_.currentTimeline.delayNextStep(b),_.currentTimeline.setStyles([a],null,_.errors,d),Xn(this,i,_);let y=_.timelines.filter(M=>M.containsAnimation());if(y.length&&s.size){let M;for(let A=y.length-1;A>=0;A--){let B=y[A];if(B.element===e){M=B;break}}M&&!M.allowOnlyTimelineStyles()&&M.setStyles([s],null,_.errors,d)}return y.length?y.map(M=>M.buildKeyframes()):[V0(e,[],[],[],0,b,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let r of t){let o=r?.delay;if(o){let a=typeof o=="number"?o:Ir(hc(o,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime,a=i.duration!=null?Ir(i.duration):null,s=i.delay!=null?Ir(i.delay):null;return a!==0&&t.forEach(d=>{let p=e.appendInstructionToTimeline(d,a,s);o=Math.max(o,p.duration+p.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Xn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==ze.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=bh);let a=Ir(o.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Xn(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Ir(t.options.delay):0;t.steps.forEach(a=>{let s=e.createSubContext(t.options);o&&s.delayNextStep(o),Xn(this,a,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,r=e.params?hc(i,e.params,e.errors):i;return bd(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let o=t.style;o.type==ze.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,s=e.createSubContext().currentTimeline;s.easing=i.easing,t.styles.forEach(d=>{let p=d.offset||0;s.forwardTime(p*o),s.setStyles(d.styles,d.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Ir(r.delay):0;o&&(e.previousNode.type===ze.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=bh);let a=i,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let d=null;s.forEach((p,h)=>{e.currentQueryIndex=h;let _=e.createSubContext(t.options,p);o&&_.delayNextStep(o),p===e.element&&(d=_.currentTimeline),Xn(this,t.animation,_),_.currentTimeline.applyStylesToKeyframe();let b=_.currentTimeline.currentTime;a=Math.max(a,b)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),d&&(e.currentTimeline.mergeTimelineCollectedStyles(d),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,r=e.currentTimeline,o=t.timings,a=Math.abs(o.duration),s=a*(e.currentQueryTotal-1),d=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":d=s-d;break;case"full":d=i.currentStaggerTime;break}let h=e.currentTimeline;d&&h.delayNextStep(d);let _=h.currentTime;Xn(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-_+(r.startTime-i.currentTimeline.startTime)}},bh={},k0=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=bh;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,i,r,o,a,s,d){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.currentTimeline=d||new Ch(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,r=this.options;i.duration!=null&&(r.duration=Ir(i.duration)),i.delay!=null&&(r.delay=Ir(i.delay));let o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(s=>{(!e||!a.hasOwnProperty(s))&&(a[s]=hc(o[s],a,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){let r=e||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=bh,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new I0(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,a){let s=[];if(r&&s.push(this.element),t.length>0){t=t.replace(OB,"."+this._enterClassName),t=t.replace(kB,"."+this._leaveClassName);let d=i!=1,p=this._driver.query(this.element,t,d);i!==0&&(p=i<0?p.slice(p.length+i,p.length):p.slice(0,i)),s.push(...p)}return!o&&s.length==0&&a.push(AP(e)),s}},Ch=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=EB,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Qi),this._currentKeyframe.set(e,Qi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},a=IB(t,this._globalTimelineStyles);for(let[s,d]of a){let p=hc(d,o,i);this._pendingStyles.set(s,p),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??Qi),this._updateStyle(s,p)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((s,d)=>{let p=new Map([...this._backFill,...s]);p.forEach((h,_)=>{h===_d?t.add(_):h===Qi&&e.add(_)}),i||p.set("offset",d/this.duration),r.push(p)});let o=[...t.values()],a=[...e.values()];if(i){let s=r[0],d=new Map(s);s.set("offset",0),d.set("offset",1),r=[s,d]}return V0(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},I0=class extends Ch{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,i,r,o,a,s=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],a=i+e,s=e/a,d=new Map(t[0]);d.set("offset",0),o.push(d);let p=new Map(t[0]);p.set("offset",e1(s)),o.push(p);let h=t.length-1;for(let _=1;_<=h;_++){let b=new Map(t[_]),y=b.get("offset"),M=e+y*i;b.set("offset",e1(M/a)),o.push(b)}i=a,e=0,r="",t=o}return V0(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function e1(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function IB(n,t){let e=new Map,i;return n.forEach(r=>{if(r==="*"){i??=t.keys();for(let o of i)e.set(o,Qi)}else for(let[o,a]of r)e.set(o,a)}),e}function t1(n,t,e,i,r,o,a,s,d,p,h,_,b){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:d,preStyleProps:p,postStyleProps:h,totalTime:_,errors:b}}var x0={},xh=class{_triggerName;ast;_stateStyles;constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return DB(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,a,s,d,p,h){let _=[],b=this.ast.options&&this.ast.options.params||x0,y=s&&s.params||x0,M=this.buildStyles(i,y,_),A=d&&d.params||x0,B=this.buildStyles(r,A,_),z=new Set,de=new Map,We=new Map,Ve=r==="void",Rn={params:u1(A,b),delay:this.ast.options?.delay},En=h?[]:d1(t,e,this.ast.animation,o,a,M,B,Rn,p,_),kt=0;return En.forEach(qn=>{kt=Math.max(qn.duration+qn.delay,kt)}),_.length?t1(e,this._triggerName,i,r,Ve,M,B,[],[],de,We,kt,_):(En.forEach(qn=>{let xa=qn.element,Ss=Zn(de,xa,new Set);qn.preStyleProps.forEach(Ge=>Ss.add(Ge));let Ux=Zn(We,xa,new Set);qn.postStyleProps.forEach(Ge=>Ux.add(Ge)),xa!==e&&z.add(xa)}),t1(e,this._triggerName,i,r,Ve,M,B,En,[...z.values()],de,We,kt))}};function DB(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}function u1(n,t){let e=R({},t);return Object.entries(n).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var D0=class{styles;defaultParams;normalizer;constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,r=u1(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,s)=>{a&&(a=hc(a,r,e));let d=this.normalizer.normalizePropertyName(s,e);a=this.normalizer.normalizeStyleValue(s,d,a,e),i.set(s,a)})}),i}};function TB(n,t,e){return new T0(n,t,e)}var T0=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new D0(r.style,o,i))}),n1(this.states,"true","1"),n1(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new xh(t,r,this.states))}),this.fallbackTransition=AB(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function AB(n,t,e){let i=[(a,s)=>!0],r={type:ze.Sequence,steps:[],options:null},o={type:ze.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new xh(n,o,t)}function n1(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var RB=new xd,A0=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i}register(t,e){let i=[],r=[],o=l1(this._driver,e,i,r);if(i.length)throw LP(i);this._animations.set(t,o)}_buildPlayer(t,e,i){let r=t.element,o=p0(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let r=[],o=this._animations.get(t),a,s=new Map;if(o?(a=d1(this._driver,e,o,v0,dh,new Map,new Map,i,RB,r),a.forEach(h=>{let _=Zn(s,h.element,new Map);h.postStyleProps.forEach(b=>_.set(b,null))})):(r.push(VP()),a=[]),r.length)throw BP(r);s.forEach((h,_)=>{h.forEach((b,y)=>{h.set(y,this._driver.computeStyle(_,y,Qi))})});let d=a.map(h=>{let _=s.get(h.element);return this._buildPlayer(h,new Map,_)}),p=fo(d);return this._playersById.set(t,p),p.onDestroy(()=>this.destroy(t)),this.players.push(p),p}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw jP(t);return e}listen(t,e,i,r){let o=ch(e,"","","");return sh(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if(i=="register"){this.register(t,r[0]);return}if(i=="create"){let a=r[0]||{};this.create(t,e,a);return}let o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},i1="ng-animate-queued",NB=".ng-animate-queued",w0="ng-animate-disabled",FB=".ng-animate-disabled",LB="ng-star-inserted",VB=".ng-star-inserted",BB=[],m1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xi="__ng_removed",wd=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),r=i?t.value:t;if(this.value=UB(r),i){let o=t,{value:a}=o,s=c_(o,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},Cd="void",M0=new wd(Cd),R0=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this._hostClassName="ng-tns-"+t,Oi(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw zP(i,e);if(i==null||i.length==0)throw UP(e);if(!HB(i))throw HP(i,e);let o=Zn(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};o.push(a);let s=Zn(this._engine.statesByElement,t,new Map);return s.has(e)||(Oi(t,vd),Oi(t,vd+"-"+e),s.set(e,M0)),()=>{this._engine.afterFlush(()=>{let d=o.indexOf(a);d>=0&&o.splice(d,1),this._triggers.has(e)||s.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw qP(t);return e}trigger(t,e,i,r=!0){let o=this._getTrigger(e),a=new Md(this.id,e,t),s=this._engine.statesByElement.get(t);s||(Oi(t,vd),Oi(t,vd+"-"+e),this._engine.statesByElement.set(t,s=new Map));let d=s.get(e),p=new wd(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&d&&p.absorbOptions(d.options),s.set(e,p),d||(d=M0),!(p.value===Cd)&&d.value===p.value){if(!GB(d.params,p.params)){let A=[],B=o.matchStyles(d.value,d.params,A),z=o.matchStyles(p.value,p.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{Jo(t,B),Zi(t,z)})}return}let b=Zn(this._engine.playersByElement,t,[]);b.forEach(A=>{A.namespaceId==this.id&&A.triggerName==e&&A.queued&&A.destroy()});let y=o.matchTransition(d.value,p.value,t,p.params),M=!1;if(!y){if(!r)return;y=o.fallbackTransition,M=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:y,fromState:d,toState:p,player:a,isFallbackTransition:M}),M||(Oi(t,i1),a.onStart(()=>{fc(t,i1)})),a.onDone(()=>{let A=this.players.indexOf(a);A>=0&&this.players.splice(A,1);let B=this._engine.playersByElement.get(t);if(B){let z=B.indexOf(a);z>=0&&B.splice(z,1)}}),this.players.push(a),b.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,yd,!0);i.forEach(r=>{if(r[Xi])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){let o=this._engine.statesByElement.get(t),a=new Map;if(o){let s=[];if(o.forEach((d,p)=>{if(a.set(p,d.value),this._triggers.has(p)){let h=this.trigger(t,p,Cd,r);h&&s.push(h)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&fo(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let r=new Set;e.forEach(o=>{let a=o.name;if(r.has(a))return;r.add(a);let d=this._triggers.get(a).fallbackTransition,p=i.get(a)||M0,h=new wd(Cd),_=new Md(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:d,fromState:p,toState:h,player:_,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{let o=t[Xi];(!o||o===m1)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Oi(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,a=this._elementListeners.get(o);a&&a.forEach(s=>{if(s.name==i.triggerName){let d=ch(o,i.triggerName,i.fromState.value,i.toState.value);d._data=t,sh(i.player,s.phase,d,s.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let o=i.transition.ast.depCount,a=r.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},N0=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new R0(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,s=this.driver.getParentElement(e);for(;s;){let d=r.get(s);if(d){let p=i.indexOf(d);i.splice(p+1,0,t),a=!0;break}s=this.driver.getParentElement(s)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(t,e,i,r){if(gh(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!gh(e))return;let o=e[Xi];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){let a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Oi(t,w0)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),fc(t,w0))}removeNode(t,e,i){if(gh(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Xi]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return gh(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,yd,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,uh,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return fo(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Xi];if(e&&e.setForRemoval){if(t[Xi]=m1,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(w0)&&this.markElementAsDisabled(t,!1),this.driver.query(t,FB,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Oi(r,LB)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?fo(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw $P(t)}_flushAnimations(t,e){let i=new xd,r=[],o=new Map,a=[],s=new Map,d=new Map,p=new Map,h=new Set;this.disabledNodes.forEach(re=>{h.add(re);let me=this.driver.query(re,NB,!0);for(let Ce=0;Ce<me.length;Ce++)h.add(me[Ce])});let _=this.bodyNode,b=Array.from(this.statesByElement.keys()),y=a1(b,this.collectedEnterElements),M=new Map,A=0;y.forEach((re,me)=>{let Ce=v0+A++;M.set(me,Ce),re.forEach(Qe=>Oi(Qe,Ce))});let B=[],z=new Set,de=new Set;for(let re=0;re<this.collectedLeaveElements.length;re++){let me=this.collectedLeaveElements[re],Ce=me[Xi];Ce&&Ce.setForRemoval&&(B.push(me),z.add(me),Ce.hasAnimation?this.driver.query(me,VB,!0).forEach(Qe=>z.add(Qe)):de.add(me))}let We=new Map,Ve=a1(b,Array.from(z));Ve.forEach((re,me)=>{let Ce=dh+A++;We.set(me,Ce),re.forEach(Qe=>Oi(Qe,Ce))}),t.push(()=>{y.forEach((re,me)=>{let Ce=M.get(me);re.forEach(Qe=>fc(Qe,Ce))}),Ve.forEach((re,me)=>{let Ce=We.get(me);re.forEach(Qe=>fc(Qe,Ce))}),B.forEach(re=>{this.processLeaveNode(re)})});let Rn=[],En=[];for(let re=this._namespaceList.length-1;re>=0;re--)this._namespaceList[re].drainQueuedTransitions(e).forEach(Ce=>{let Qe=Ce.player,cn=Ce.element;if(Rn.push(Qe),this.collectedEnterElements.length){let Sn=cn[Xi];if(Sn&&Sn.setForMove){if(Sn.previousTriggersValues&&Sn.previousTriggersValues.has(Ce.triggerName)){let wa=Sn.previousTriggersValues.get(Ce.triggerName),vi=this.statesByElement.get(Ce.element);if(vi&&vi.has(Ce.triggerName)){let Nu=vi.get(Ce.triggerName);Nu.value=wa,vi.set(Ce.triggerName,Nu)}}Qe.destroy();return}}let ur=!_||!this.driver.containsElement(_,cn),ii=We.get(cn),Do=M.get(cn),It=this._buildInstruction(Ce,i,Do,ii,ur);if(It.errors&&It.errors.length){En.push(It);return}if(ur){Qe.onStart(()=>Jo(cn,It.fromStyles)),Qe.onDestroy(()=>Zi(cn,It.toStyles)),r.push(Qe);return}if(Ce.isFallbackTransition){Qe.onStart(()=>Jo(cn,It.fromStyles)),Qe.onDestroy(()=>Zi(cn,It.toStyles)),r.push(Qe);return}let $x=[];It.timelines.forEach(Sn=>{Sn.stretchStartingKeyframe=!0,this.disabledNodes.has(Sn.element)||$x.push(Sn)}),It.timelines=$x,i.append(cn,It.timelines);let zA={instruction:It,player:Qe,element:cn};a.push(zA),It.queriedElements.forEach(Sn=>Zn(s,Sn,[]).push(Qe)),It.preStyleProps.forEach((Sn,wa)=>{if(Sn.size){let vi=d.get(wa);vi||d.set(wa,vi=new Set),Sn.forEach((Nu,s_)=>vi.add(s_))}}),It.postStyleProps.forEach((Sn,wa)=>{let vi=p.get(wa);vi||p.set(wa,vi=new Set),Sn.forEach((Nu,s_)=>vi.add(s_))})});if(En.length){let re=[];En.forEach(me=>{re.push(GP(me.triggerName,me.errors))}),Rn.forEach(me=>me.destroy()),this.reportError(re)}let kt=new Map,qn=new Map;a.forEach(re=>{let me=re.element;i.has(me)&&(qn.set(me,me),this._beforeAnimationBuild(re.player.namespaceId,re.instruction,kt))}),r.forEach(re=>{let me=re.element;this._getPreviousPlayers(me,!1,re.namespaceId,re.triggerName,null).forEach(Qe=>{Zn(kt,me,[]).push(Qe),Qe.destroy()})});let xa=B.filter(re=>s1(re,d,p)),Ss=new Map;o1(Ss,this.driver,de,p,Qi).forEach(re=>{s1(re,d,p)&&xa.push(re)});let Ge=new Map;y.forEach((re,me)=>{o1(Ge,this.driver,new Set(re),d,_d)}),xa.forEach(re=>{let me=Ss.get(re),Ce=Ge.get(re);Ss.set(re,new Map([...me?.entries()??[],...Ce?.entries()??[]]))});let a_=[],Hx=[],qx={};a.forEach(re=>{let{element:me,player:Ce,instruction:Qe}=re;if(i.has(me)){if(h.has(me)){Ce.onDestroy(()=>Zi(me,Qe.toStyles)),Ce.disabled=!0,Ce.overrideTotalTime(Qe.totalTime),r.push(Ce);return}let cn=qx;if(qn.size>1){let ii=me,Do=[];for(;ii=ii.parentNode;){let It=qn.get(ii);if(It){cn=It;break}Do.push(ii)}Do.forEach(It=>qn.set(It,cn))}let ur=this._buildAnimation(Ce.namespaceId,Qe,kt,o,Ge,Ss);if(Ce.setRealPlayer(ur),cn===qx)a_.push(Ce);else{let ii=this.playersByElement.get(cn);ii&&ii.length&&(Ce.parentPlayer=fo(ii)),r.push(Ce)}}else Jo(me,Qe.fromStyles),Ce.onDestroy(()=>Zi(me,Qe.toStyles)),Hx.push(Ce),h.has(me)&&r.push(Ce)}),Hx.forEach(re=>{let me=o.get(re.element);if(me&&me.length){let Ce=fo(me);re.setRealPlayer(Ce)}}),r.forEach(re=>{re.parentPlayer?re.syncPlayerEvents(re.parentPlayer):re.destroy()});for(let re=0;re<B.length;re++){let me=B[re],Ce=me[Xi];if(fc(me,dh),Ce&&Ce.hasAnimation)continue;let Qe=[];if(s.size){let ur=s.get(me);ur&&ur.length&&Qe.push(...ur);let ii=this.driver.query(me,uh,!0);for(let Do=0;Do<ii.length;Do++){let It=s.get(ii[Do]);It&&It.length&&Qe.push(...It)}}let cn=Qe.filter(ur=>!ur.destroyed);cn.length?qB(this,me,cn):this.processLeaveNode(me)}return B.length=0,a_.forEach(re=>{this.players.push(re),re.onDone(()=>{re.destroy();let me=this.players.indexOf(re);this.players.splice(me,1)}),re.play()}),a_}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let a=[];if(e){let s=this.playersByQueriedElement.get(t);s&&(a=s)}else{let s=this.playersByElement.get(t);if(s){let d=!o||o==Cd;s.forEach(p=>{p.queued||!d&&p.triggerName!=r||a.push(p)})}}return(i||r)&&(a=a.filter(s=>!(i&&i!=s.namespaceId||r&&r!=s.triggerName))),a}_beforeAnimationBuild(t,e,i){let r=e.triggerName,o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:r;for(let d of e.timelines){let p=d.element,h=p!==o,_=Zn(i,p,[]);this._getPreviousPlayers(p,h,a,s,e.toState).forEach(y=>{let M=y.getRealPlayer();M.beforeDestroy&&M.beforeDestroy(),y.destroy(),_.push(y)})}Jo(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,a){let s=e.triggerName,d=e.element,p=[],h=new Set,_=new Set,b=e.timelines.map(M=>{let A=M.element;h.add(A);let B=A[Xi];if(B&&B.removedBeforeQueried)return new ho(M.duration,M.delay);let z=A!==d,de=$B((i.get(A)||BB).map(kt=>kt.getRealPlayer())).filter(kt=>{let qn=kt;return qn.element?qn.element===A:!1}),We=o.get(A),Ve=a.get(A),Rn=p0(this._normalizer,M.keyframes,We,Ve),En=this._buildPlayer(M,Rn,de);if(M.subTimeline&&r&&_.add(A),z){let kt=new Md(t,s,A);kt.setRealPlayer(En),p.push(kt)}return En});p.forEach(M=>{Zn(this.playersByQueriedElement,M.element,[]).push(M),M.onDone(()=>zB(this.playersByQueriedElement,M.element,M))}),h.forEach(M=>Oi(M,y0));let y=fo(b);return y.onDestroy(()=>{h.forEach(M=>fc(M,y0)),Zi(d,e.toStyles)}),_.forEach(M=>{Zn(r,M,[]).push(y)}),y}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new ho(t.duration,t.delay)}},Md=class{namespaceId;triggerName;element;_player=new ho;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>sh(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Zn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function zB(n,t,e){let i=n.get(t);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&n.delete(t)}return i}function UB(n){return n??null}function gh(n){return n&&n.nodeType===1}function HB(n){return n=="start"||n=="done"}function r1(n,t){let e=n.style.display;return n.style.display=t??"none",e}function o1(n,t,e,i,r){let o=[];e.forEach(d=>o.push(r1(d)));let a=[];i.forEach((d,p)=>{let h=new Map;d.forEach(_=>{let b=t.computeStyle(p,_,r);h.set(_,b),(!b||b.length==0)&&(p[Xi]=jB,a.push(p))}),n.set(p,h)});let s=0;return e.forEach(d=>r1(d,o[s++])),a}function a1(n,t){let e=new Map;if(n.forEach(s=>e.set(s,[])),t.length==0)return e;let i=1,r=new Set(t),o=new Map;function a(s){if(!s)return i;let d=o.get(s);if(d)return d;let p=s.parentNode;return e.has(p)?d=p:r.has(p)?d=i:d=a(p),o.set(s,d),d}return t.forEach(s=>{let d=a(s);d!==i&&e.get(d).push(s)}),e}function Oi(n,t){n.classList?.add(t)}function fc(n,t){n.classList?.remove(t)}function qB(n,t,e){fo(e).onDone(()=>n.processLeaveNode(t))}function $B(n){let t=[];return p1(n,t),t}function p1(n,t){for(let e=0;e<n.length;e++){let i=n[e];i instanceof mc?p1(i.players,t):t.push(i)}}function GB(n,t){let e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}function s1(n,t,e){let i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}var gc=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,i){this._driver=e,this._normalizer=i,this._transitionEngine=new N0(t.body,e,i),this._timelineEngine=new A0(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){let a=t+"-"+r,s=this._triggerCache[a];if(!s){let d=[],p=[],h=l1(this._driver,o,d,p);if(d.length)throw FP(r,d);s=TB(r,h,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if(i.charAt(0)=="@"){let[o,a]=h0(i),s=r;this._timelineEngine.command(o,e,a,s)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if(i.charAt(0)=="@"){let[a,s]=h0(i);return this._timelineEngine.listen(a,e,s,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function WB(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=E0(t[0]),t.length>1&&(i=E0(t[t.length-1]))):t instanceof Map&&(e=E0(t)),e||i?new YB(n,e,i):null}var YB=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Zi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zi(this._element,this._initialStyles),this._endStyles&&(Zi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Jo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Jo(this._element,this._endStyles),this._endStyles=null),Zi(this._element,this._initialStyles),this._state=3)}}return n})();function E0(n){let t=null;return n.forEach((e,i)=>{KB(i)&&(t=t||new Map,t.set(i,e))}),t}function KB(n){return n==="display"||n==="position"}var wh=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let t=this.keyframes,e=this._triggerWebAnimation(this.element,t,this.options);if(!e)return this._onFinish(),null;this.domPlayer=e,this._finalKeyframe=t.length?t[t.length-1]:new Map;let i=()=>this._onFinish();return e.addEventListener("finish",i),this.onDestroy(()=>{e.removeEventListener("finish",i)}),e}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){let r=this._convertKeyframesToObject(e);try{return t.animate(r,i)}catch{return null}}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){let t=this._buildPlayer();t&&(this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),t.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=t*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&t.set(r,this._finished?i:ph(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Mh=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return f0(t,e)}getParentElement(t){return lh(t)}query(t,e,i){return g0(t,e,i)}computeStyle(t,e,i){return ph(t,e)}animate(t,e,i,r,o,a=[]){let s=r==0?"both":"forwards",d={duration:i,delay:r,fill:s};o&&(d.easing=o);let p=new Map,h=a.filter(y=>y instanceof wh);QP(i,r)&&h.forEach(y=>{y.currentSnapshot.forEach((M,A)=>p.set(A,M))});let _=YP(e).map(y=>new Map(y));_=ZP(t,_,p);let b=WB(t,_);return new wh(t,_,d,b)}};var _h="@",h1="@.disabled",Eh=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i,r){if(r){this.delegate.removeChild(t,e,i,r);return}this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==_h&&e==h1?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,r){return this.delegate.listen(t,e,i,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},F0=class extends Eh{factory;constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==_h?e.charAt(1)=="."&&e==h1?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i,r){if(e.charAt(0)==_h){let o=QB(t),a=e.slice(1),s="";return a.charAt(0)!=_h&&([a,s]=ZB(a)),this.engine.listen(this.namespaceId,o,a,s,d=>{let p=d._data||-1;this.factory.scheduleListenerCallback(p,i,d)})}return this.delegate.listen(t,e,i,r)}};function QB(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function ZB(n){let t=n.indexOf("."),e=n.substring(0,t),i=n.slice(t+1);return[e,i]}var Sh=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(t,e){let r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let p=this._rendererCache,h=p.get(r);if(!h){let _=()=>p.delete(r);h=new Eh("",r,this.engine,_),p.set(r,h)}return h}let o=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);let s=p=>{Array.isArray(p)?p.forEach(s):this.engine.registerTrigger(o,a,t,p.name,p)};return e.data.animation.forEach(s),new F0(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[a,s]=o;a(s)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var JB=(()=>{class n extends gc{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(ne(ee),ne(ns),ne(is))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function e5(){return new vh}function t5(){return new Sh(f(hd),f(gc),f($))}var f1=[{provide:is,useFactory:e5},{provide:gc,useClass:JB},{provide:Nt,useFactory:t5}],vce=[{provide:ns,useClass:L0},{provide:Go,useValue:"NoopAnimations"},...f1],n5=[{provide:ns,useFactory:()=>new Mh},{provide:Go,useFactory:()=>"BrowserAnimations"},...f1];function g1(){return Or("NgEagerAnimations"),[...n5]}var ke="primary",Ld=Symbol("RouteTitle"),H0=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function ss(n){return new H0(n)}function E1(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let a=i[o],s=n[o];if(a[0]===":")r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Th(n){return new Promise((t,e)=>{n.pipe(Zr()).subscribe({next:i=>t(i),error:i=>e(i)})})}function i5(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Dr(n[e],t[e]))return!1;return!0}function Dr(n,t){let e=n?q0(n):void 0,i=t?q0(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!S1(n[r],t[r]))return!1;return!0}function q0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function S1(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}else return n===t}function O1(n){return n.length>0?n[n.length-1]:null}function ls(n){return pl(n)?n:co(n)?Tt(Promise.resolve(n)):te(n)}function P1(n){return pl(n)?Th(n):Promise.resolve(n)}var r5={exact:I1,subset:D1},k1={exact:o5,subset:a5,ignored:()=>!0};function _1(n,t,e){return r5[e.paths](n.root,t.root,e.matrixParams)&&k1[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function o5(n,t){return Dr(n,t)}function I1(n,t,e){if(!os(n.segments,t.segments)||!kh(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!I1(n.children[i],t.children[i],e))return!1;return!0}function a5(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>S1(n[e],t[e]))}function D1(n,t,e){return T1(n,t,t.segments,e)}function T1(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!os(r,e)||t.hasChildren()||!kh(r,e,i))}else if(n.segments.length===e.length){if(!os(n.segments,e)||!kh(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!D1(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!os(n.segments,r)||!kh(n.segments,r,i)||!n.children[ke]?!1:T1(n.children[ke],t,o,i)}}function kh(n,t,e){return t.every((i,r)=>k1[e](n[r].parameters,i.parameters))}var er=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ot([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=ss(this.queryParams),this._queryParamMap}toString(){return l5.serialize(this)}},ot=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ih(this)}},ea=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=ss(this.parameters),this._parameterMap}toString(){return R1(this)}};function s5(n,t){return os(n,t)&&n.every((e,i)=>Dr(e.parameters,t[i].parameters))}function os(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function c5(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===ke&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ke&&(e=e.concat(t(r,i)))}),e}var Vd=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>new ta,providedIn:"root"})}return n})(),ta=class{parse(t){let e=new G0(t);return new er(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Ed(t.root,!0)}`,i=m5(t.queryParams),r=typeof t.fragment=="string"?`#${d5(t.fragment)}`:"";return`${e}${i}${r}`}},l5=new ta;function Ih(n){return n.segments.map(t=>R1(t)).join("/")}function Ed(n,t){if(!n.hasChildren())return Ih(n);if(t){let e=n.children[ke]?Ed(n.children[ke],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==ke&&i.push(`${r}:${Ed(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=c5(n,(i,r)=>r===ke?[Ed(n.children[ke],!1)]:[`${r}:${Ed(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[ke]!=null?`${Ih(n)}/${e[0]}`:`${Ih(n)}/(${e.join("//")})`}}function A1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oh(n){return A1(n).replace(/%3B/gi,";")}function d5(n){return encodeURI(n)}function $0(n){return A1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dh(n){return decodeURIComponent(n)}function v1(n){return Dh(n.replace(/\+/g,"%20"))}function R1(n){return`${$0(n.path)}${u5(n.parameters)}`}function u5(n){return Object.entries(n).map(([t,e])=>`;${$0(t)}=${$0(e)}`).join("")}function m5(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${Oh(e)}=${Oh(r)}`).join("&"):`${Oh(e)}=${Oh(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var p5=/^[^\/()?;#]+/;function B0(n){let t=n.match(p5);return t?t[0]:""}var h5=/^[^\/()?;=#]+/;function f5(n){let t=n.match(h5);return t?t[0]:""}var g5=/^[^=?&#]+/;function _5(n){let t=n.match(g5);return t?t[0]:""}var v5=/^[^&#]+/;function y5(n){let t=n.match(v5);return t?t[0]:""}var G0=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ot([],{}):new ot([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ke]=new ot(t,e)),i}parseSegment(){let t=B0(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(t),new ea(Dh(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=f5(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=B0(this.remaining);r&&(i=r,this.capture(i))}t[Dh(e)]=Dh(i)}parseQueryParam(t){let e=_5(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let a=y5(this.remaining);a&&(i=a,this.capture(i))}let r=v1(e),o=v1(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=B0(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new V(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ke);let a=this.parseChildren();e[o??ke]=Object.keys(a).length===1&&a[ke]?a[ke]:new ot([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new V(4011,!1)}};function N1(n){return n.segments.length>0?new ot([],{[ke]:n}):n}function F1(n){let t={};for(let[i,r]of Object.entries(n.children)){let o=F1(r);if(i===ke&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))t[a]=s;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let e=new ot(n.segments,t);return b5(e)}function b5(n){if(n.numberOfChildren===1&&n.children[ke]){let t=n.children[ke];return new ot(n.segments.concat(t.segments),t.children)}return n}function bc(n){return n instanceof er}function L1(n,t,e=null,i=null,r=new ta){let o=V1(n);return B1(o,t,e,i,r)}function V1(n){let t;function e(o){let a={};for(let d of o.children){let p=e(d);a[d.outlet]=p}let s=new ot(o.url,a);return o===n&&(t=s),s}let i=e(n.root),r=N1(i);return t??r}function B1(n,t,e,i,r){let o=n;for(;o.parent;)o=o.parent;if(t.length===0)return j0(o,o,o,e,i,r);let a=C5(t);if(a.toRoot())return j0(o,o,new ot([],{}),e,i,r);let s=x5(a,o,n),d=s.processChildren?Od(s.segmentGroup,s.index,a.commands):z1(s.segmentGroup,s.index,a.commands);return j0(o,s.segmentGroup,d,e,i,r)}function Ah(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Id(n){return typeof n=="object"&&n!=null&&n.outlets}function y1(n,t,e){n||="\u0275";let i=new er;return i.queryParams={[n]:t},e.parse(e.serialize(i)).queryParams[n]}function j0(n,t,e,i,r,o){let a={};for(let[p,h]of Object.entries(i??{}))a[p]=Array.isArray(h)?h.map(_=>y1(p,_,o)):y1(p,h,o);let s;n===t?s=e:s=j1(n,t,e);let d=N1(F1(s));return new er(d,a,r)}function j1(n,t,e){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===t?i[r]=e:i[r]=j1(o,t,e)}),new ot(n.segments,i)}var Rh=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Ah(i[0]))throw new V(4003,!1);let r=i.find(Id);if(r&&r!==O1(i))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function C5(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Rh(!0,0,n);let t=0,e=!1,i=n.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([d,p])=>{s[d]=typeof p=="string"?p.split("/"):p}),[...r,{outlets:s}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((s,d)=>{d==0&&s==="."||(d==0&&s===""?e=!0:s===".."?t++:s!=""&&r.push(s))}),r):[...r,o]},[]);return new Rh(e,t,i)}var vc=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function x5(n,t,e){if(n.isAbsolute)return new vc(t,!0,0);if(!e)return new vc(t,!1,NaN);if(e.parent===null)return new vc(e,!0,0);let i=Ah(n.commands[0])?0:1,r=e.segments.length-1+i;return w5(e,r,n.numberOfDoubleDots)}function w5(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new V(4005,!1);r=i.segments.length}return new vc(i,!1,r-o)}function M5(n){return Id(n[0])?n[0].outlets:{[ke]:n}}function z1(n,t,e){if(n??=new ot([],{}),n.segments.length===0&&n.hasChildren())return Od(n,t,e);let i=E5(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new ot(n.segments.slice(0,i.pathIndex),{});return o.children[ke]=new ot(n.segments.slice(i.pathIndex),n.children),Od(o,0,r)}else return i.match&&r.length===0?new ot(n.segments,{}):i.match&&!n.hasChildren()?W0(n,t,e):i.match?Od(n,0,r):W0(n,t,e)}function Od(n,t,e){if(e.length===0)return new ot(n.segments,{});{let i=M5(e),r={};if(Object.keys(i).some(o=>o!==ke)&&n.children[ke]&&n.numberOfChildren===1&&n.children[ke].segments.length===0){let o=Od(n.children[ke],t,e);return new ot(n.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=z1(n.children[o],t,a))}),Object.entries(n.children).forEach(([o,a])=>{i[o]===void 0&&(r[o]=a)}),new ot(n.segments,r)}}function E5(n,t,e){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;let a=n.segments[r],s=e[i];if(Id(s))break;let d=`${s}`,p=i<e.length-1?e[i+1]:null;if(r>0&&d===void 0)break;if(d&&p&&typeof p=="object"&&p.outlets===void 0){if(!C1(d,p,a))return o;i+=2}else{if(!C1(d,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function W0(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(Id(o)){let d=S5(o.outlets);return new ot(i,d)}if(r===0&&Ah(e[0])){let d=n.segments[t];i.push(new ea(d.path,b1(e[0]))),r++;continue}let a=Id(o)?o.outlets[ke]:`${o}`,s=r<e.length-1?e[r+1]:null;a&&s&&Ah(s)?(i.push(new ea(a,b1(s))),r+=2):(i.push(new ea(a,{})),r++)}return new ot(i,{})}function S5(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=W0(new ot([],{}),0,i))}),t}function b1(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function C1(n,t,e){return n==e.path&&Dr(t,e.parameters)}var Pd="imperative",hn=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(hn||{}),mi=class{id;url;constructor(t,e){this.id=t,this.url=e}},cs=class extends mi{type=hn.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jn=class extends mi{urlAfterRedirects;type=hn.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Vn=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Vn||{}),Dd=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Dd||{}),Tr=class extends mi{reason;code;type=hn.NavigationCancel;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},go=class extends mi{reason;code;type=hn.NavigationSkipped;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}},Cc=class extends mi{error;target;type=hn.NavigationError;constructor(t,e,i,r){super(t,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Td=class extends mi{urlAfterRedirects;state;type=hn.RoutesRecognized;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nh=class extends mi{urlAfterRedirects;state;type=hn.GuardsCheckStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fh=class extends mi{urlAfterRedirects;state;shouldActivate;type=hn.GuardsCheckEnd;constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Lh=class extends mi{urlAfterRedirects;state;type=hn.ResolveStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vh=class extends mi{urlAfterRedirects;state;type=hn.ResolveEnd;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bh=class{route;type=hn.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jh=class{route;type=hn.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zh=class{snapshot;type=hn.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uh=class{snapshot;type=hn.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hh=class{snapshot;type=hn.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qh=class{snapshot;type=hn.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ad=class{},xc=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function O5(n){return!(n instanceof Ad)&&!(n instanceof xc)}function P5(n,t){return n.providers&&!n._injector&&(n._injector=Xl(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Ji(n){return n.outlet||ke}function k5(n,t){let e=n.filter(i=>Ji(i)===t);return e.push(...n.filter(i=>Ji(i)!==t)),e}function Ec(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var $h=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ec(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Sc(this.rootInjector)}},Sc=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new $h(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(ne(vt))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gh=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Y0(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=Y0(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=K0(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return K0(t,this._root).map(e=>e.value)}};function Y0(n,t){if(n===t.value)return t;for(let e of t.children){let i=Y0(n,e);if(i)return i}return null}function K0(n,t){if(n===t.value)return[t];for(let e of t.children){let i=K0(n,e);if(i.length)return i.unshift(t),i}return[]}var ui=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function _c(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Rd=class extends Gh{snapshot;constructor(t,e){super(t),this.snapshot=e,tC(this,t)}toString(){return this.snapshot.toString()}};function U1(n){let t=I5(n),e=new ut([new ea("",{})]),i=new ut({}),r=new ut({}),o=new ut({}),a=new ut(""),s=new Bt(e,i,o,a,r,ke,n,t.root);return s.snapshot=t.root,new Rd(new ui(s,[]),t)}function I5(n){let t={},e={},i={},o=new as([],t,i,"",e,ke,n,null,{});return new Nd("",new ui(o,[]))}var Bt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,r,o,a,s,d){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(se(p=>p[Ld]))??te(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(t=>ss(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(t=>ss(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Wh(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:R(R({},t.params),n.params),data:R(R({},t.data),n.data),resolve:R(R(R(R({},n.data),t.data),r?.data),n._resolvedData)}:i={params:R({},n.params),data:R({},n.data),resolve:R(R({},n.data),n._resolvedData??{})},r&&q1(r)&&(i.resolve[Ld]=r.title),i}var as=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ld]}constructor(t,e,i,r,o,a,s,d,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=d,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ss(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ss(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Nd=class extends Gh{url;constructor(t,e){super(e),this.url=t,tC(this,e)}toString(){return H1(this._root)}};function tC(n,t){t.value._routerState=n,t.children.forEach(e=>tC(n,e))}function H1(n){let t=n.children.length>0?` { ${n.children.map(H1).join(", ")} } `:"";return`${n.value}${t}`}function z0(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Dr(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Dr(t.params,e.params)||n.paramsSubject.next(e.params),i5(t.url,e.url)||n.urlSubject.next(e.url),Dr(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Q0(n,t){let e=Dr(n.params,t.params)&&s5(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||Q0(n.parent,t.parent))}function q1(n){return typeof n.title=="string"||n.title===null}var $1=new I(""),ds=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ke;activateEvents=new U;deactivateEvents=new U;attachEvents=new U;detachEvents=new U;routerOutletData=CO();parentContexts=f(Sc);location=f(en);changeDetector=f(fe);inputBinder=f(Zh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=e;let r=this.location,a=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,d=new Z0(e,s,r.injector,this.routerOutletData);this.activated=r.createComponent(a,{index:r.length,injector:d,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[it]})}return n})(),Z0=class{route;childContexts;parent;outletData;constructor(t,e,i,r){this.route=t,this.childContexts=e,this.parent=i,this.outletData=r}get(t,e){return t===Bt?this.route:t===Sc?this.childContexts:t===$1?this.outletData:this.parent.get(t,e)}},Zh=new I("");var nC=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&q(0,"router-outlet")},dependencies:[ds],encapsulation:2})}return n})();function iC(n){let t=n.children&&n.children.map(iC),e=t?xe(R({},n),{children:t}):R({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ke&&(e.component=nC),e}function D5(n,t,e){let i=Fd(n,t._root,e?e._root:void 0);return new Rd(i,t)}function Fd(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=T5(n,t,e);return new ui(i,r)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>Fd(n,s)),a}}let i=A5(t.value),r=t.children.map(o=>Fd(n,o));return new ui(i,r)}}function T5(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Fd(n,i,r);return Fd(n,i)})}function A5(n){return new Bt(new ut(n.url),new ut(n.params),new ut(n.queryParams),new ut(n.fragment),new ut(n.data),n.outlet,n.component,n)}var wc=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},G1="ngNavigationCancelingError";function Yh(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=bc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=W1(!1,Vn.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function W1(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[G1]=!0,e.cancellationCode=t,e}function R5(n){return Y1(n)&&bc(n.url)}function Y1(n){return!!n&&n[G1]}var N5=(n,t,e,i)=>se(r=>(new X0(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)),X0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),z0(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=_c(e);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=_c(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=_c(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=_c(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new qh(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Uh(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(z0(r),r===o)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),z0(s.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=r,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,i)}},Kh=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},yc=class{component;route;constructor(t,e){this.component=t,this.route=e}};function F5(n,t,e){let i=n._root,r=t?t._root:null;return Sd(i,r,e,[i.value])}function L5(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Oc(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!Q_(n)?n:t.get(n):i}function Sd(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=_c(t);return n.children.forEach(a=>{V5(a,o[a.value.outlet],e,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>kd(s,e.getContext(a),r)),r}function V5(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,a=t?t.value:null,s=e?e.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let d=B5(a,o,o.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new Kh(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Sd(n,t,s?s.children:null,i,r):Sd(n,t,e,i,r),d&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new yc(s.outlet.component,a))}else a&&kd(t,s,r),r.canActivateChecks.push(new Kh(i)),o.component?Sd(n,null,s?s.children:null,i,r):Sd(n,null,e,i,r);return r}function B5(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!os(n.url,t.url);case"pathParamsOrQueryParamsChange":return!os(n.url,t.url)||!Dr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Q0(n,t)||!Dr(n.queryParams,t.queryParams);case"paramsChange":default:return!Q0(n,t)}}function kd(n,t,e){let i=_c(n),r=n.value;Object.entries(i).forEach(([o,a])=>{r.component?t?kd(a,t.children.getContext(o),e):kd(a,null,e):kd(a,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new yc(t.outlet.component,r)):e.canDeactivateChecks.push(new yc(null,r)):e.canDeactivateChecks.push(new yc(null,r))}function Bd(n){return typeof n=="function"}function j5(n){return typeof n=="boolean"}function z5(n){return n&&Bd(n.canLoad)}function U5(n){return n&&Bd(n.canActivate)}function H5(n){return n&&Bd(n.canActivateChild)}function q5(n){return n&&Bd(n.canDeactivate)}function $5(n){return n&&Bd(n.canMatch)}function K1(n){return n instanceof ka||n?.name==="EmptyError"}var Ph=Symbol("INITIAL_VALUE");function Mc(){return un(n=>Qr(n.map(t=>t.pipe(wt(1),Mt(Ph)))).pipe(se(t=>{for(let e of t)if(e!==!0){if(e===Ph)return Ph;if(e===!1||G5(e))return e}return!0}),be(t=>t!==Ph),wt(1)))}function G5(n){return bc(n)||n instanceof wc}function Q1(n){return n.aborted?te(void 0).pipe(wt(1)):new we(t=>{let e=()=>{t.next(),t.complete()};return n.addEventListener("abort",e),()=>n.removeEventListener("abort",e)})}function Z1(n){return L(Q1(n))}function W5(n,t){return _n(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return a.length===0&&o.length===0?te(xe(R({},e),{guardsResult:!0})):Y5(a,i,r,n).pipe(_n(s=>s&&j5(s)?K5(i,o,n,t):te(s)),se(s=>xe(R({},e),{guardsResult:s})))})}function Y5(n,t,e,i){return Tt(n).pipe(_n(r=>e4(r.component,r.route,e,t,i)),Zr(r=>r!==!0,!0))}function K5(n,t,e,i){return Tt(t).pipe(Bs(r=>Ao(Z5(r.route.parent,i),Q5(r.route,i),J5(n,r.path,e),X5(n,r.route,e))),Zr(r=>r!==!0,!0))}function Q5(n,t){return n!==null&&t&&t(new Hh(n)),te(!0)}function Z5(n,t){return n!==null&&t&&t(new zh(n)),te(!0)}function X5(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return te(!0);let r=i.map(o=>Li(()=>{let a=Ec(t)??e,s=Oc(o,a),d=U5(s)?s.canActivate(t,n):bn(a,()=>s(t,n));return ls(d).pipe(Zr())}));return te(r).pipe(Mc())}function J5(n,t,e){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>L5(a)).filter(a=>a!==null).map(a=>Li(()=>{let s=a.guards.map(d=>{let p=Ec(a.node)??e,h=Oc(d,p),_=H5(h)?h.canActivateChild(i,n):bn(p,()=>h(i,n));return ls(_).pipe(Zr())});return te(s).pipe(Mc())}));return te(o).pipe(Mc())}function e4(n,t,e,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return te(!0);let a=o.map(s=>{let d=Ec(t)??r,p=Oc(s,d),h=q5(p)?p.canDeactivate(n,t,e,i):bn(d,()=>p(n,t,e,i));return ls(h).pipe(Zr())});return te(a).pipe(Mc())}function t4(n,t,e,i,r){let o=t.canLoad;if(o===void 0||o.length===0)return te(!0);let a=o.map(s=>{let d=Oc(s,n),p=z5(d)?d.canLoad(t,e):bn(n,()=>d(t,e)),h=ls(p);return r?h.pipe(Z1(r)):h});return te(a).pipe(Mc(),X1(i))}function X1(n){return k_(Ht(t=>{if(typeof t!="boolean")throw Yh(n,t)}),se(t=>t===!0))}function n4(n,t,e,i,r){let o=t.canMatch;if(!o||o.length===0)return te(!0);let a=o.map(s=>{let d=Oc(s,n),p=$5(d)?d.canMatch(t,e):bn(n,()=>d(t,e)),h=ls(p);return r?h.pipe(Z1(r)):h});return te(a).pipe(Mc(),X1(i))}var rs=class J1 extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,J1.prototype)}},J0=class ek extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,ek.prototype)}};function i4(n){throw new V(4e3,!1)}function r4(n){throw W1(!1,Vn.GuardRejected)}var o4=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}async lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return i;if(r.numberOfChildren>1||!r.children[ke])throw i4(`${t.redirectTo}`);r=r.children[ke]}}async applyRedirectCommands(t,e,i,r,o){let a=await a4(e,r,o);if(a instanceof er)throw new J0(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),t,i);if(a[0]==="/")throw new J0(s);return s}applyRedirectCreateUrlTree(t,e,i,r){let o=this.createSegmentGroup(t,e.root,i,r);return new er(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);i[r]=e[s]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){let o=this.createSegments(t,e.segments,i,r),a={};return Object.entries(e.children).forEach(([s,d])=>{a[s]=this.createSegmentGroup(t,d,i,r)}),new ot(o,a)}createSegments(t,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new V(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}};function a4(n,t,e){if(typeof n=="string")return Promise.resolve(n);let i=n,{queryParams:r,fragment:o,routeConfig:a,url:s,outlet:d,params:p,data:h,title:_}=t;return Th(ls(bn(e,()=>i({params:p,data:h,queryParams:r,fragment:o,routeConfig:a,url:s,outlet:d,title:_}))))}var eC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function s4(n,t,e,i,r,o){let a=tk(n,t,e);return a.matched?(i=P5(t,i),n4(i,t,e,r,o).pipe(se(s=>s===!0?a:R({},eC)))):te(a)}function tk(n,t,e){if(t.path==="**")return c4(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?R({},eC):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||E1)(e,n,t);if(!r)return R({},eC);let o={};Object.entries(r.posParams??{}).forEach(([s,d])=>{o[s]=d.path});let a=r.consumed.length>0?R(R({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function c4(n){return{matched:!0,parameters:n.length>0?O1(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function x1(n,t,e,i){return e.length>0&&u4(n,e,i)?{segmentGroup:new ot(t,d4(i,new ot(e,n.children))),slicedSegments:[]}:e.length===0&&m4(n,e,i)?{segmentGroup:new ot(n.segments,l4(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new ot(n.segments,n.children),slicedSegments:e}}function l4(n,t,e,i){let r={};for(let o of e)if(Xh(n,t,o)&&!i[Ji(o)]){let a=new ot([],{});r[Ji(o)]=a}return R(R({},i),r)}function d4(n,t){let e={};e[ke]=t;for(let i of n)if(i.path===""&&Ji(i)!==ke){let r=new ot([],{});e[Ji(i)]=r}return e}function u4(n,t,e){return e.some(i=>Xh(n,t,i)&&Ji(i)!==ke)}function m4(n,t,e){return e.some(i=>Xh(n,t,i))}function Xh(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function p4(n,t,e){return t.length===0&&!n.children[e]}var h4=class{};async function f4(n,t,e,i,r,o,a="emptyOnly",s){return new _4(n,t,e,i,r,a,o,s).recognize()}var g4=31,_4=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,r,o,a,s,d){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.abortSignal=d,this.applyRedirects=new o4(this.urlSerializer,this.urlTree)}noMatchError(t){return new V(4002,`'${t.segmentGroup}'`)}async recognize(){let t=x1(this.urlTree.root,[],[],this.config).segmentGroup,{children:e,rootSnapshot:i}=await this.match(t),r=new ui(i,e),o=new Nd("",r),a=L1(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}async match(t){let e=new as([],Object.freeze({}),Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ke,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,t,ke,e),rootSnapshot:e}}catch(i){if(i instanceof J0)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof rs?this.noMatchError(i):i}}async processSegmentGroup(t,e,i,r,o){if(i.segments.length===0&&i.hasChildren())return this.processChildren(t,e,i,o);let a=await this.processSegment(t,e,i,i.segments,r,!0,o);return a instanceof ui?[a]:[]}async processChildren(t,e,i,r){let o=[];for(let d of Object.keys(i.children))d==="primary"?o.unshift(d):o.push(d);let a=[];for(let d of o){let p=i.children[d],h=k5(e,d),_=await this.processSegmentGroup(t,h,p,d,r);a.push(..._)}let s=nk(a);return v4(s),s}async processSegment(t,e,i,r,o,a,s){for(let d of e)try{return await this.processSegmentAgainstRoute(d._injector??t,e,d,i,r,o,a,s)}catch(p){if(p instanceof rs||K1(p))continue;throw p}if(p4(i,r,o))return new h4;throw new rs(i)}async processSegmentAgainstRoute(t,e,i,r,o,a,s,d){if(Ji(i)!==a&&(a===ke||!Xh(r,o,i)))throw new rs(r);if(i.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,r,i,o,a,d);if(this.allowRedirects&&s)return this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,a,d);throw new rs(r)}async expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a,s){let{matched:d,parameters:p,consumedSegments:h,positionalParamSegments:_,remainingSegments:b}=tk(e,r,o);if(!d)throw new rs(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>g4&&(this.allowRedirects=!1));let y=new as(o,p,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,w1(r),Ji(r),r.component??r._loadedComponent??null,r,M1(r)),M=Wh(y,s,this.paramsInheritanceStrategy);if(y.params=Object.freeze(M.params),y.data=Object.freeze(M.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let A=await this.applyRedirects.applyRedirectCommands(h,r.redirectTo,_,y,t),B=await this.applyRedirects.lineralizeSegments(r,A);return this.processSegment(t,i,e,B.concat(b),a,!1,s)}async matchSegmentAgainstRoute(t,e,i,r,o,a){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let s=await Th(s4(e,i,r,t,this.urlSerializer,this.abortSignal));if(i.path==="**"&&(e.children={}),!s?.matched)throw new rs(e);t=i._injector??t;let{routes:d}=await this.getChildConfig(t,i,r),p=i._loadedInjector??t,{parameters:h,consumedSegments:_,remainingSegments:b}=s,y=new as(_,h,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,w1(i),Ji(i),i.component??i._loadedComponent??null,i,M1(i)),M=Wh(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(M.params),y.data=Object.freeze(M.data);let{segmentGroup:A,slicedSegments:B}=x1(e,_,b,d);if(B.length===0&&A.hasChildren()){let We=await this.processChildren(p,d,A,y);return new ui(y,We)}if(d.length===0&&B.length===0)return new ui(y,[]);let z=Ji(i)===o,de=await this.processSegment(p,d,A,B,z?ke:o,!0,y);return new ui(y,de instanceof ui?[de]:[])}async getChildConfig(t,e,i){if(e.children)return{routes:e.children,injector:t};if(e.loadChildren){if(e._loadedRoutes!==void 0)return{routes:e._loadedRoutes,injector:e._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Th(t4(t,e,i,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(t,e);return e._loadedRoutes=o.routes,e._loadedInjector=o.injector,o}throw r4(e)}return{routes:[],injector:t}}};function v4(n){n.sort((t,e)=>t.value.outlet===ke?-1:e.value.outlet===ke?1:t.value.outlet.localeCompare(e.value.outlet))}function y4(n){let t=n.value.routeConfig;return t&&t.path===""}function nk(n){let t=[],e=new Set;for(let i of n){if(!y4(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=nk(i.children);t.push(new ui(i.value,r))}return t.filter(i=>!e.has(i))}function w1(n){return n.data||{}}function M1(n){return n.resolve||{}}var b4=new I("",{factory:()=>f4});function C4(n,t,e,i,r,o,a){let s=n.get(b4);return _n(d=>te(d).pipe(un(p=>s(n,t,e,i,p.extractedUrl,r,o,a)),se(({state:p,tree:h})=>xe(R({},d),{targetSnapshot:p,urlAfterRedirects:h}))))}function x4(n,t){return _n(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return te(e);let o=new Set(r.map(d=>d.route)),a=new Set;for(let d of o)if(!a.has(d))for(let p of ik(d))a.add(p);let s=0;return Tt(a).pipe(Bs(d=>o.has(d)?w4(d,i,n,t):(d.data=Wh(d,d.parent,n).resolve,te(void 0))),Ht(()=>s++),pm(1),_n(d=>s===a.size?te(e):Wt))})}function ik(n){let t=n.children.map(e=>ik(e)).flat();return[n,...t]}function w4(n,t,e,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!q1(r)&&(o[Ld]=r.title),Li(()=>(n.data=Wh(n,n.parent,e).resolve,M4(o,n,t,i).pipe(se(a=>(n._resolvedData=a,n.data=R(R({},n.data),a),null)))))}function M4(n,t,e,i){let r=q0(n);if(r.length===0)return te({});let o={};return Tt(r).pipe(_n(a=>E4(n[a],t,e,i).pipe(Zr(),Ht(s=>{if(s instanceof wc)throw Yh(new ta,s);o[a]=s}))),pm(1),se(()=>o),vn(a=>K1(a)?Wt:ml(a)))}function E4(n,t,e,i){let r=Ec(t)??i,o=Oc(n,r),a=o.resolve?o.resolve(t,e):bn(r,()=>o(t,e));return ls(a)}function U0(n){return un(t=>{let e=n(t);return e?Tt(e).pipe(se(()=>t)):te(t)})}var rC=(()=>{class n{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ke);return i}getResolvedTitleForRoute(e){return e.data[Ld]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>f(rk),providedIn:"root"})}return n})(),rk=(()=>{class n extends rC{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(ne(_P))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jd=new I("",{factory:()=>({})}),zd=new I(""),ok=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=f(Ob);async loadComponent(e,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Promise.resolve(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=(async()=>{try{let o=await P1(bn(e,()=>i.loadComponent())),a=await ck(sk(o));return this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=a,a}finally{this.componentLoaders.delete(i)}})();return this.componentLoaders.set(i,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Promise.resolve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let r=(async()=>{try{let o=await ak(i,this.compiler,e,this.onLoadEndListener);return i._loadedRoutes=o.routes,i._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(i)}})();return this.childrenLoaders.set(i,r),r}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function ak(n,t,e,i){let r=await P1(bn(e,()=>n.loadChildren())),o=await ck(sk(r)),a;o instanceof kp||Array.isArray(o)?a=o:a=await t.compileModuleAsync(o),i&&i(n);let s,d,p=!1;return Array.isArray(a)?(d=a,p=!0):(s=a.create(e).injector,d=s.get(zd,[],{optional:!0,self:!0}).flat()),{routes:d.map(iC),injector:s}}function S4(n){return n&&typeof n=="object"&&"default"in n}function sk(n){return S4(n)?n.default:n}async function ck(n){return n}var Jh=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>f(O4),providedIn:"root"})}return n})(),O4=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lk=new I("");var P4=()=>{},dk=new I(""),uk=(()=>{class n{currentNavigation=$e(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=$e(null);events=new P;transitionAbortWithErrorSubject=new P;configLoader=f(ok);environmentInjector=f(vt);destroyRef=f(ai);urlSerializer=f(Vd);rootContexts=f(Sc);location=f(Qo);inputBindingEnabled=f(Zh,{optional:!0})!==null;titleStrategy=f(rC);options=f(jd,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=f(Jh);createViewTransition=f(lk,{optional:!0});navigationErrorHandler=f(dk,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>te(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new Bh(r)),i=r=>this.events.next(new jh(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;Rt(()=>{this.transitions?.next(xe(R({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))})}setupNavigations(e){return this.transitions=new ut(null),this.transitions.pipe(be(i=>i!==null),un(i=>{let r=!1,o=new AbortController;return te(i).pipe(un(a=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Vn.SupersededByNewNavigation),Wt;this.currentTransition=i;let s=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:s?xe(R({},s),{previousNavigation:null}):null,abort:()=>o.abort()});let d=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=a.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!d&&p!=="reload")return this.events.next(new go(a.id,this.urlSerializer.serialize(a.rawUrl),"",Dd.IgnoredSameUrlNavigation)),a.resolve(!1),Wt;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return te(a).pipe(un(h=>(this.events.next(new cs(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),h.id!==this.navigationId?Wt:Promise.resolve(h))),C4(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Ht(h=>{i.targetSnapshot=h.targetSnapshot,i.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation.update(b=>(b.finalUrl=h.urlAfterRedirects,b));let _=new Td(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:h,extractedUrl:_,source:b,restoredState:y,extras:M}=a,A=new cs(h,this.urlSerializer.serialize(_),b,y);this.events.next(A);let B=U1(this.rootComponentType).snapshot;return this.currentTransition=i=xe(R({},a),{targetSnapshot:B,urlAfterRedirects:_,extras:xe(R({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(z=>(z.finalUrl=_,z)),te(i)}else return this.events.next(new go(a.id,this.urlSerializer.serialize(a.extractedUrl),"",Dd.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Wt}),Ht(a=>{let s=new Nh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),se(a=>(this.currentTransition=i=xe(R({},a),{guards:F5(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),i)),W5(this.environmentInjector,a=>this.events.next(a)),Ht(a=>{if(i.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Yh(this.urlSerializer,a.guardsResult);let s=new Fh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(s)}),be(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",Vn.GuardRejected),!1)),U0(a=>{if(a.guards.canActivateChecks.length!==0)return te(a).pipe(Ht(s=>{let d=new Lh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(d)}),un(s=>{let d=!1;return te(s).pipe(x4(this.paramsInheritanceStrategy,this.environmentInjector),Ht({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(s,"",Vn.NoDataFromResolver)}}))}),Ht(s=>{let d=new Vh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(d)}))}),U0(a=>{let s=p=>{let h=[];if(p.routeConfig?._loadedComponent)p.component=p.routeConfig?._loadedComponent;else if(p.routeConfig?.loadComponent){let _=Ec(p)??this.environmentInjector;h.push(this.configLoader.loadComponent(_,p.routeConfig).then(b=>{p.component=b}))}for(let _ of p.children)h.push(...s(_));return h},d=s(a.targetSnapshot.root);return d.length===0?te(a):Tt(Promise.all(d).then(()=>a))}),U0(()=>this.afterPreactivation()),un(()=>{let{currentSnapshot:a,targetSnapshot:s}=i,d=this.createViewTransition?.(this.environmentInjector,a.root,s.root);return d?Tt(d).pipe(se(()=>i)):te(i)}),se(a=>{let s=D5(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=i=xe(R({},a),{targetRouterState:s}),this.currentNavigation.update(d=>(d.targetRouterState=s,d)),i}),Ht(()=>{this.events.next(new Ad)}),N5(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),wt(1),L(Q1(o.signal).pipe(be(()=>!r&&!i.targetRouterState),Ht(()=>{this.cancelNavigationTransition(i,o.signal.reason+"",Vn.Aborted)}))),Ht({next:a=>{r=!0,this.currentNavigation.update(s=>(s.abort=P4,s)),this.lastSuccessfulNavigation.set(Rt(this.currentNavigation)),this.events.next(new Jn(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),L(this.transitionAbortWithErrorSubject.pipe(Ht(a=>{throw a}))),Ia(()=>{o.abort(),r||this.cancelNavigationTransition(i,"",Vn.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),vn(a=>{if(this.destroyed)return i.resolve(!1),Wt;if(r=!0,Y1(a))this.events.next(new Tr(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode)),R5(a)?this.events.next(new xc(a.url,a.navigationBehaviorOptions)):i.resolve(!1);else{let s=new Cc(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);try{let d=bn(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(d instanceof wc){let{message:p,cancellationCode:h}=Yh(this.urlSerializer,d);this.events.next(new Tr(i.id,this.urlSerializer.serialize(i.extractedUrl),p,h)),this.events.next(new xc(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(s),a}catch(d){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(d)}}return Wt}))}))}cancelNavigationTransition(e,i,r){let o=new Tr(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=Rt(this.currentNavigation),r=i?.targetBrowserUrl??i?.extractedUrl;return e.toString()!==r?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function k4(n){return n!==Pd}var mk=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>f(I4),providedIn:"root"})}return n})(),Qh=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},I4=(()=>{class n extends Qh{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oC=(()=>{class n{urlSerializer=f(Vd);options=f(jd,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=f(Qo);urlHandlingStrategy=f(Jh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new er;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,a=r??o;return a instanceof er?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:r}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=e):this.rawUrlTree=r}routerState=U1(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>f(pk),providedIn:"root"})}return n})(),pk=(()=>{class n extends oC{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof cs?this.updateStateMemento():e instanceof go?this.commitTransition(i):e instanceof Td?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof Ad?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof Tr&&e.code!==Vn.SupersededByNewNavigation&&e.code!==Vn.Redirect?this.restoreHistory(i):e instanceof Cc?this.restoreHistory(i,!0):e instanceof Jn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:r}){let{replaceUrl:o,state:a}=i;if(this.location.isCurrentPathEqualTo(e)||o){let s=this.browserPageId,d=R(R({},a),this.generateNgRouterState(r,s));this.location.replaceState(e,"",d)}else{let s=R(R({},a),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",s)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aC(n,t){n.events.pipe(be(e=>e instanceof Jn||e instanceof Tr||e instanceof Cc||e instanceof go),se(e=>e instanceof Jn||e instanceof go?0:(e instanceof Tr?e.code===Vn.Redirect||e.code===Vn.SupersededByNewNavigation:!1)?2:1),be(e=>e!==2),wt(1)).subscribe(()=>{t()})}var D4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},T4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Pt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=f(Ip);stateManager=f(oC);options=f(jd,{optional:!0})||{};pendingTasks=f(ro);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=f(uk);urlSerializer=f(Vd);location=f(Qo);urlHandlingStrategy=f(Jh);injector=f(vt);_events=new P;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=f(mk);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=f(zd,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!f(Zh,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new je;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=Rt(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Tr&&i.code!==Vn.Redirect&&i.code!==Vn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Jn)this.navigated=!0;else if(i instanceof xc){let a=i.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),d=R({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||k4(r.source)},a);this.scheduleNavigation(s,Pd,null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}O5(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Pd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,r)=>{this.navigateToSyncWithBrowser(e,r,i)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){let d=R({},r);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let s=this.parseUrl(e);this.scheduleNavigation(s,i,a,o).catch(d=>{this.disposed||this.injector.get(si)(d)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Rt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(iC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:d}=i,p=d?this.currentUrlTree.fragment:a,h=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":h=R(R({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let _;try{let b=r?r.snapshot:this.routerState.snapshot.root;_=V1(b)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),_=this.currentUrlTree.root}return B1(_,e,h,p??null,this.urlSerializer)}navigateByUrl(e,i={skipLocationChange:!1}){let r=bc(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Pd,null,i)}navigate(e,i={skipLocationChange:!1}){return A4(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(Lo(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=R({},D4):i===!1?r=R({},T4):r=i,bc(e))return _1(this.currentUrlTree,e,r);let o=this.parseUrl(e);return _1(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let s,d,p;a?(s=a.resolve,d=a.reject,p=a.promise):p=new Promise((_,b)=>{s=_,d=b});let h=this.pendingTasks.add();return aC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:s,reject:d,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(_=>Promise.reject(_))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function A4(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new V(4008,!1)}var N4=new I("");function sC(n,...t){return vr([{provide:zd,multi:!0,useValue:n},[],{provide:Bt,useFactory:F4},{provide:Tp,multi:!0,useFactory:L4},t.map(e=>e.\u0275providers)])}function F4(){return f(Pt).routerState.root}function L4(){let n=f(ae);return t=>{let e=n.get(li);if(t!==e.components[0])return;let i=n.get(Pt),r=n.get(V4);n.get(B4)===1&&i.initialNavigation(),n.get(j4,null,{optional:!0})?.setUpPreloading(),n.get(N4,null,{optional:!0})?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var V4=new I("",{factory:()=>new P}),B4=new I("",{factory:()=>1});var j4=new I("");var U4=new I("cdk-dir-doc",{providedIn:"root",factory:()=>f(ee)}),H4=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function hk(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?H4.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var on=(()=>{class n{get value(){return this.valueSignal()}valueSignal=$e("ltr");change=new U;constructor(){let e=f(U4,{optional:!0});if(e){let i=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.valueSignal.set(hk(i||r||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Oe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({})}return n})();var q4=["*"];var $4=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],G4=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],W4=new I("MAT_CARD_CONFIG"),qe=(()=>{class n{appearance;constructor(){let e=f(W4,{optional:!0});this.appearance=e?.appearance||"raised"}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:8,hostBindings:function(i,r){i&2&&T("mat-mdc-card-outlined",r.appearance==="outlined")("mdc-card--outlined",r.appearance==="outlined")("mat-mdc-card-filled",r.appearance==="filled")("mdc-card--filled",r.appearance==="filled")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:q4,decls:1,vars:0,template:function(i,r){i&1&&(Ue(),J(0))},styles:[`.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-elevated-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mat-card-outlined-container-color, var(--mat-sys-surface));border-radius:var(--mat-card-outlined-container-shape, var(--mat-sys-corner-medium));border-width:var(--mat-card-outlined-outline-width, 1px);border-color:var(--mat-card-outlined-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mat-card-outlined-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mat-mdc-card-filled{background-color:var(--mat-card-filled-container-color, var(--mat-sys-surface-container-highest));border-radius:var(--mat-card-filled-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-filled-container-elevation, var(--mat-sys-level0))}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
`],encapsulation:2,changeDetection:0})}return n})(),lt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})();var Ke=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),na=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return n})(),Tn=(()=>{class n{align="start";static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,r){i&2&&T("mat-mdc-card-actions-align-end",r.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"]})}return n})(),dt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:G4,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){i&1&&(Ue($4),J(0),Je(1,"div",0),J(2,1),et(),J(3,2))},encapsulation:2,changeDetection:0})}return n})();var ia=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-mdc-card-avatar"]})}return n})();var Re=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[Oe]})}return n})();var ef=new WeakMap,Ot=(()=>{class n{_appRef;_injector=f(ae);_environmentInjector=f(vt);load(e){let i=this._appRef=this._appRef||this._injector.get(li),r=ef.get(i);r||(r={loaders:new Set,refs:[]},ef.set(i,r),i.onDestroy(()=>{ef.get(i)?.refs.forEach(o=>o.destroy()),ef.delete(i)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(jp(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var tr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();var tf;function Y4(){if(tf===void 0&&(tf=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(tf=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return tf}function Pc(n){return Y4()?.createHTML(n)||n}function fk(n){return Error(`Unable to find icon with the name "${n}"`)}function K4(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function gk(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function _k(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var _o=class{url;svgText;options;svgElement;constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}},yk=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new _o(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){let a=this._sanitizer.sanitize(kn.HTML,r);if(!a)throw _k(r);let s=Pc(a);return this._addSvgIconConfig(e,i,new _o("",s,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new _o(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){let o=this._sanitizer.sanitize(kn.HTML,i);if(!o)throw _k(i);let a=Pc(o);return this._addSvgIconSetConfig(e,new _o("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let i=this._sanitizer.sanitize(kn.RESOURCE_URL,e);if(!i)throw gk(e);let r=this._cachedIconsByUrl.get(i);return r?te(nf(r)):this._loadSvgIconFromConfig(new _o(e,null)).pipe(Ht(o=>this._cachedIconsByUrl.set(i,o)),se(o=>nf(o)))}getNamedSvgIcon(e,i=""){let r=vk(i,e),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):ml(fk(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?te(nf(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(se(i=>nf(i)))}_getSvgFromIconSetConfigs(e,i){let r=this._extractIconWithNameFromAnySet(e,i);if(r)return te(r);let o=i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(vn(s=>{let p=`Loading icon set URL: ${this._sanitizer.sanitize(kn.RESOURCE_URL,a.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(p)),te(null)})));return hl(o).pipe(se(()=>{let a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw fk(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){let o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let a=this._svgElementFromConfig(o),s=this._extractSvgIconFromSet(a,e,o.options);if(s)return s}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Ht(i=>e.svgText=i),se(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?te(null):this._fetchIcon(e).pipe(Ht(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){let o=e.querySelector(`[id="${i}"]`);if(!o)return null;let a=o.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,r);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),r);let s=this._svgElementFromString(Pc("<svg></svg>"));return s.appendChild(a),this._setSvgAttributes(s,r)}_svgElementFromString(e){let i=this._document.createElement("DIV");i.innerHTML=e;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){let i=this._svgElementFromString(Pc("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){let{name:a,value:s}=r[o];a!=="id"&&i.setAttribute(a,s)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){let{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw K4();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let a=this._sanitizer.sanitize(kn.RESOURCE_URL,i);if(!a)throw gk(i);let s=this._inProgressUrlFetches.get(a);if(s)return s;let d=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(se(p=>Pc(p)),Ia(()=>this._inProgressUrlFetches.delete(a)),gl());return this._inProgressUrlFetches.set(a,d),d}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(vk(e,i),r),this}_addSvgIconSetConfig(e,i){let r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){let i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](i,e);if(o)return Q4(o)?new _o(o.url,null,o.options):new _o(o,null)}}static \u0275fac=function(i){return new(i||n)(ne(Xo,8),ne(c0),ne(ee,8),ne(Gn))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nf(n){return n.cloneNode(!0)}function vk(n,t){return n+":"+t}function Q4(n){return!!(n.url&&n.options)}var Z4=["*"],X4=new I("MAT_ICON_DEFAULT_OPTIONS"),J4=new I("mat-icon-location",{providedIn:"root",factory:()=>{let n=f(ee),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),bk=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ej=bk.map(n=>`[${n}]`).join(", "),tj=/^url\(['"]?#(.*?)['"]?\)$/,le=(()=>{class n{_elementRef=f(G);_iconRegistry=f(yk);_location=f(J4);_errorHandler=f(Gn);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=je.EMPTY;constructor(){let e=f(new uo("aria-hidden"),{optional:!0}),i=f(X4,{optional:!0});i&&(i.color&&(this.color=this._defaultColor=i.color),i.fontSet&&(this.fontSet=i.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=e.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(a=>{o.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){let i=e.querySelectorAll(ej),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)bk.forEach(a=>{let s=i[o],d=s.getAttribute(a),p=d?d.match(tj):null;if(p){let h=r.get(s);h||(h=[],r.set(s,h)),h.push({name:a,value:p[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(wt(1)).subscribe(o=>this._setSvgElement(o),o=>{let a=`Error retrieving icon ${i}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(a))})}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){i&2&&(X("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Ie(r.color?"mat-"+r.color:""),T("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",ce],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:Z4,decls:1,vars:0,template:function(i,r){i&1&&(Ue(),J(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})(),oe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[Oe]})}return n})();var rf=class{strength;speed;intellect;willpower;awareness;presence;constructor(){this.strength=0,this.speed=0,this.intellect=0,this.willpower=0,this.awareness=0,this.presence=0}addToAttribute(t){this[t]++}setAttribute(t,e){this[t]=e}getAttribute(t){return this[t]}};var pi=(Ge=>(Ge.AGILITY="AGILITY",Ge.ATHLETICS="ATHLETICS",Ge.HEAVY_WEAPONRY="HEAVY_WEAPONRY",Ge.LIGHT_WEAPONRY="LIGHT_WEAPONRY",Ge.STEALTH="STEALTH",Ge.THIEVERY="THIEVERY",Ge.CRAFTING="CRAFTING",Ge.DEDUCTION="DEDUCTION",Ge.DISCIPLINE="DISCIPLINE",Ge.INTIMIDATION="INTIMIDATION",Ge.LORE="LORE",Ge.MEDICINE="MEDICINE",Ge.DECEPTION="DECEPTION",Ge.INSIGHT="INSIGHT",Ge.LEADERSHIP="LEADERSHIP",Ge.PERCEPTION="PERCEPTION",Ge.PERSUASION="PERSUASION",Ge.SURVIVAL="SURVIVAL",Ge.ADHESION="ADHESION",Ge.GRAVITATION="GRAVITATION",Ge.DIVISION="DIVISION",Ge.ABRASION="ABRASION",Ge.PROGRESSION="PROGRESSION",Ge.ILLUMINATION="ILLUMINATION",Ge.TRANSFORMATION="TRANSFORMATION",Ge.TRANSPORTATION="TRANSPORTATION",Ge.COHESION="COHESION",Ge.TENSION="TENSION",Ge))(pi||{});function of(n){return["ADHESION","GRAVITATION","DIVISION","ABRASION","PROGRESSION","ILLUMINATION","TRANSFORMATION","TRANSPORTATION","COHESION","TENSION"].includes(n)}var Ar=class{skillAssociationTable={AGILITY:"speed",ATHLETICS:"strength",HEAVY_WEAPONRY:"strength",LIGHT_WEAPONRY:"speed",STEALTH:"speed",THIEVERY:"speed",CRAFTING:"intellect",DEDUCTION:"intellect",DISCIPLINE:"willpower",INTIMIDATION:"willpower",LORE:"intellect",MEDICINE:"intellect",DECEPTION:"presence",INSIGHT:"awareness",LEADERSHIP:"presence",PERCEPTION:"awareness",PERSUASION:"presence",SURVIVAL:"awareness",ADHESION:"willpower",GRAVITATION:"willpower",DIVISION:"willpower",ABRASION:"willpower",PROGRESSION:"willpower",ILLUMINATION:"willpower",TRANSFORMATION:"willpower",TRANSPORTATION:"willpower",COHESION:"willpower",TENSION:"willpower"};checkSkillAssociation(t){return this.skillAssociationTable[t]}};var af=class{skillRanks;skillAssociationTable=new Ar;constructor(){this.skillRanks=this.createDefaultSkills()}createDefaultSkills(){let t={};return Object.values(pi).forEach(e=>{t[e]=0}),t}getSkillRank(t){return this.skillRanks[t]}setSkillRank(t,e){this.skillRanks[t]=Math.max(0,Math.min(5,e))}calculateSkillTotal(t,e){let i=this.skillRanks[t],r=this.skillAssociationTable.checkSkillAssociation(t),o=e.getAttribute(r);return i+o}getAllSkillTotals(t){let e={};return Object.values(pi).forEach(i=>{e[i]=this.calculateSkillTotal(i,t)}),e}getAllSkillRanks(){return R({},this.skillRanks)}checkStringForMatchingSkill(t){let e=t.trim().toLowerCase();for(let i of Object.values(pi))if(i.toLowerCase()===e)return i;return null}};var Rr=class{getTableIndex(t){return Math.floor(t/2)}getValueFromTable(t,e){let i=this.getTableIndex(e);return t[Math.min(i,t.length-1)]}};var sf=class extends Rr{sensesRangeTable=[5,10,20,50,100,1/0];getSensesRange(t){return this.getValueFromTable(this.sensesRangeTable,t)}};var cf=class extends Rr{liftingCapacityTable=[100,200,500,1e3,5e3,1e4];carryingCapacityTable=[50,100,250,500,2500,5e3];getLiftingCapacity(t){return this.getValueFromTable(this.liftingCapacityTable,t)}getCarryingCapacity(t){return this.getValueFromTable(this.carryingCapacityTable,t)}};var lf=class extends Rr{movementSpeedTable=[20,25,30,40,60,80];getMovementSpeed(t){return this.getValueFromTable(this.movementSpeedTable,t)}};var df=class extends Rr{recoveryDieTable=["1d4","1d6","1d8","1d10","1d12","1d20"];getRecoveryDie(t){return this.getValueFromTable(this.recoveryDieTable,t)}};var uf=class{sensesRangeCalculator=new sf;liftingAndCarryingCalculator=new cf;movementRateCalculator=new lf;recoveryDieCalculator=new df;getLiftingCapacity(t){return this.liftingAndCarryingCalculator.getLiftingCapacity(t.strength)}getCarryingCapacity(t){return this.liftingAndCarryingCalculator.getCarryingCapacity(t.strength)}getMovementSpeed(t){return this.movementRateCalculator.getMovementSpeed(t.speed)}getRecoveryDie(t){return this.recoveryDieCalculator.getRecoveryDie(t.willpower)}getSensesRange(t){return this.sensesRangeCalculator.getSensesRange(t.awareness)}};var mf=class{getPhysicalDefense(t,e){return 10+t.speed+t.strength+e}getCognitiveDefense(t,e){return 10+t.intellect+t.willpower+e}getSpiritualDefense(t,e){return 10+t.willpower+t.presence+e}};var ra=class{maxValue;currentValue;constructor(t,e){this.maxValue=this.calculateMaxValue(t,e),this.currentValue=this.maxValue}get max(){return this.maxValue}get current(){return this.currentValue}spend(t){return this.currentValue>=t?(this.currentValue=Math.max(this.currentValue-t,0),!0):!1}restore(t){this.currentValue=Math.min(this.currentValue+t,this.maxValue)}recalculateMax(t,e=0){let i=this.maxValue;this.maxValue=this.calculateMaxValue(t,e),i>0&&(this.currentValue=Math.min(this.currentValue,this.maxValue))}};var pf=class extends ra{calculateMaxValue(t,e){return 2+t.willpower+e}loseFocus(t){return this.spend(t)}regainFocus(t){this.restore(t)}};var hf=class extends ra{calculateMaxValue(t,e){return 10+t.strength*5+e}takeDamage(t){this.spend(t)}heal(t){this.restore(t)}};var ff=class extends ra{isInvestitureActive=!1;calculateMaxValue(t,e){return this.isInvestitureActive?2+Math.max(t.presence,t.awareness)+e:0}expendInvestiture(t){return this.spend(t)}regainInvestiture(t){this.restore(t)}activateInvestiture(t,e){this.isInvestitureActive=!0,this.calculateMaxValue(t,e)}};var gf=class{healthManager;focusManager;investitureManager;constructor(t){this.healthManager=new hf(t,0),this.focusManager=new pf(t,0),this.investitureManager=new ff(t,0)}recalculateMaxValues(t){this.healthManager.recalculateMax(t,0),this.focusManager.recalculateMax(t,0),this.investitureManager.recalculateMax(t,0)}get health(){return this.healthManager}get focus(){return this.focusManager}get investiture(){return this.investitureManager}};var _f=class{advantageSources=new Set;disadvantageSources=new Set;addAdvantage(t){this.advantageSources.add(t)}addDisadvantage(t){this.disadvantageSources.add(t)}removeAdvantage(t){this.advantageSources.delete(t)}removeDisadvantage(t){this.disadvantageSources.delete(t)}hasAdvantage(){return this.advantageSources.size>0&&this.disadvantageSources.size>0?!1:this.advantageSources.size>0}hasDisadvantage(){return this.advantageSources.size>0&&this.disadvantageSources.size>0?!1:this.disadvantageSources.size>0}clear(){this.advantageSources.clear(),this.disadvantageSources.clear()}};var us=class{character;unlockedTalents;constructor(t,e){this.character=t,this.unlockedTalents=e}canUnlockTalent(t){let e=[],i=[];t.prerequisites.forEach(a=>{typeof a=="string"||a.operator!=="OR"?e.push(a):i.push(a)});let r=e.every(a=>this.checkPrerequisite(a)),o=i.length===0||i.some(a=>this.checkPrerequisite(a));return r&&o}checkPrerequisite(t){if(typeof t=="string")return this.unlockedTalents.has(t);switch(t.type){case"talent":return this.unlockedTalents.has(t.target);case"skill":let e=this.character.skills.checkStringForMatchingSkill(t.target);return e?this.character.skills.getSkillRank(e)>=(t.value??0):!1;case"attribute":let r=this.character.attributes[t.target];return typeof r=="number"&&r>=(t.value??0);case"level":return this.character.level>=(t.value??0);default:return!1}}};var vf=class{activeEffects=new Map;addBonus(t,e){this.activeEffects.has(t)||this.activeEffects.set(t,[]),this.activeEffects.get(t).push(e)}removeBonus(t){this.activeEffects.delete(t)}getBonusesFor(t,e){let i=0;for(let r of this.activeEffects.values())i+=r.filter(o=>o.type===t&&o.target===e).reduce((o,a)=>o+a.value,0);return i}};var yf=class{bonusModule=new vf;advantageModule=new _f;unlockedTalents=new Set;activeForm;prerequisiteChecker;character;setCharacter(t){this.character=t,this.prerequisiteChecker=new us(t,this.unlockedTalents)}get bonuses(){return this.bonusModule}get advantages(){return this.advantageModule}unlockTalent(t,e){return this.prerequisiteChecker?.canUnlockTalent(e)?!1:(this.unlockedTalents.add(t),e.bonuses.forEach(i=>{this.bonusModule.addBonus(`talent:${t}`,i)}),e.grantsAdvantage?.forEach(i=>{this.advantageModule.addAdvantage(`talent:${t}:${i}`)}),e.grantsDisadvantage?.forEach(i=>{this.advantageModule.addDisadvantage(`talent:${t}:${i}`)}),!0)}activateForm(t,e){this.activeForm&&(this.bonusModule.removeBonus(`form:${this.activeForm}`),e.grantsAdvantage?.forEach(i=>{this.advantageModule.removeAdvantage(`form:${this.activeForm}:${i}`)}),e.grantsDisadvantage?.forEach(i=>{this.advantageModule.removeDisadvantage(`form:${this.activeForm}:${i}`)})),this.activeForm=t,e.bonuses.forEach(i=>{this.bonusModule.addBonus(`form:${t}`,i)}),e.grantsAdvantage?.forEach(i=>{this.advantageModule.addAdvantage(`form:${t}:${i}`)}),e.grantsDisadvantage?.forEach(i=>{this.advantageModule.addDisadvantage(`form:${t}:${i}`)})}grantExpertise(t,e){if(!this.character){console.warn("Cannot grant expertise: character not set");return}this.character.selectedExpertises.find(r=>r.name===e)||this.character.selectedExpertises.push({name:e,source:"talent",sourceId:`talent:${t}`})}removeExpertisesByTalent(t){if(!this.character)return;let e=`talent:${t}`;this.character.selectedExpertises=this.character.selectedExpertises.filter(i=>i.sourceId!==e)}};var Ud={Windrunner:{order:"Windrunner",sprenType:"Honorspren",surgePair:["ADHESION","GRAVITATION"],philosophy:"Protect the innocent and the defenseless."},Skybreaker:{order:"Skybreaker",sprenType:"Highspren",surgePair:["DIVISION","GRAVITATION"],philosophy:"Enforce the law and strive for justice."},Dustbringer:{order:"Dustbringer",sprenType:"Ashspren",surgePair:["DIVISION","ABRASION"],philosophy:"Great power requires strong discipline."},Edgedancer:{order:"Edgedancer",sprenType:"Cultivationspren",surgePair:["ABRASION","PROGRESSION"],philosophy:"Remember and serve those who others forget."},Truthwatcher:{order:"Truthwatcher",sprenType:"Mistspren",surgePair:["ILLUMINATION","PROGRESSION"],philosophy:"Search for fundamental truth and share it."},Lightweaver:{order:"Lightweaver",sprenType:"Cryptic",surgePair:["ILLUMINATION","TRANSFORMATION"],philosophy:"Separate truth from lies."},Elsecaller:{order:"Elsecaller",sprenType:"Inkspren",surgePair:["TRANSFORMATION","TRANSPORTATION"],philosophy:"Strive to reach your true potential."},Willshaper:{order:"Willshaper",sprenType:"Lightspren",surgePair:["COHESION","TRANSPORTATION"],philosophy:"Seek freedom and choice for all peoples."},Stoneward:{order:"Stoneward",sprenType:"Peakspren",surgePair:["COHESION","TENSION"],philosophy:"Be the support on which others can depend."},Bondsmith:{order:"Bondsmith",sprenType:"Unique spren",surgePair:["ADHESION","TENSION"],philosophy:"Unite before you divide, and strive for peace before engaging in war."}},bf=class{boundOrder=null;idealSpoken=!1;surgePair=null;sprenType=null;constructor(){}grantSpren(t){if(!Ud[t])throw new Error(`Invalid Radiant Order: ${t}`);let e=Ud[t];this.boundOrder=t,this.sprenType=e.sprenType,this.surgePair=e.surgePair,this.idealSpoken=!1}speakIdeal(t){if(!this.boundOrder||!this.surgePair)throw new Error("Cannot speak ideal without a bound spren");if(this.idealSpoken){console.warn("First Ideal already spoken");return}let[e,i]=this.surgePair;t.setSkillRank(e,0),t.setSkillRank(i,0),this.idealSpoken=!0}getSurgeTrees(){return!this.idealSpoken||!this.surgePair?[]:this.surgePair.map(t=>t.toLowerCase())}getOrderTree(){return this.boundOrder?this.boundOrder.toLowerCase():null}hasSpren(){return this.boundOrder!==null}hasSpokenIdeal(){return this.idealSpoken}getOrderInfo(){return this.boundOrder?Ud[this.boundOrder]:null}toJSON(){return{boundOrder:this.boundOrder,idealSpoken:this.idealSpoken,surgePair:this.surgePair,sprenType:this.sprenType}}fromJSON(t){this.boundOrder=t.boundOrder||null,this.idealSpoken=t.idealSpoken||!1,this.surgePair=t.surgePair||null,this.sprenType=t.sprenType||null}reset(){this.boundOrder=null,this.idealSpoken=!1,this.surgePair=null,this.sprenType=null}};var nj=[{id:"javelin",name:"Javelin",type:"weapon",quantity:1,weight:2,price:20,rarity:"common",description:"A light throwing spear effective at range.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"light-weaponry",damage:"1d6",damageType:"keen",range:"Melee",traits:["Thrown[30/120]"],expertTraits:["Indirect"]}},{id:"knife",name:"Knife",type:"weapon",quantity:1,weight:1,price:8,rarity:"common",description:"A small, easily concealed blade.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"light-weaponry",damage:"1d4",damageType:"keen",range:"Melee",traits:["Discreet"],expertTraits:["Offhand","Thrown[20/60]"]}},{id:"mace",name:"Mace",type:"weapon",quantity:1,weight:3,price:20,rarity:"common",description:"A weighted club for crushing blows.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"light-weaponry",damage:"1d6",damageType:"impact",range:"Melee",traits:[],expertTraits:["Momentum"]}},{id:"rapier",name:"Rapier",type:"weapon",quantity:1,weight:2,price:100,rarity:"common",description:"An elegant thrusting sword favored by duelists.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"light-weaponry",damage:"1d6",damageType:"keen",range:"Melee",traits:["Quickdraw"],expertTraits:["Defensive"]}},{id:"shortspear",name:"Shortspear",type:"weapon",quantity:1,weight:3,price:10,rarity:"common",description:"A versatile spear that can be wielded one or two-handed.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"light-weaponry",damage:"1d8",damageType:"keen",range:"Melee",traits:["Two-Handed"],expertTraits:["Unique: loses Two-Handed trait"]}},{id:"sidesword",name:"Sidesword",type:"weapon",quantity:1,weight:2,price:40,rarity:"common",description:"A balanced cutting sword, quick to draw.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"light-weaponry",damage:"1d6",damageType:"keen",range:"Melee",traits:["Quickdraw"],expertTraits:["Offhand"]}},{id:"staff",name:"Staff",type:"weapon",quantity:1,weight:4,price:1,rarity:"common",description:"A long wooden pole, easily disguised as a walking stick.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"light-weaponry",damage:"1d6",damageType:"impact",range:"Melee",traits:["Discreet","Two-Handed"],expertTraits:["Defensive"]}},{id:"shortbow",name:"Shortbow",type:"weapon",quantity:1,weight:2,price:80,rarity:"common",description:"A compact bow suitable for mounted archery.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"light-weaponry",damage:"1d6",damageType:"keen",range:"Ranged[80/320]",traits:["Two-Handed"],expertTraits:["Quickdraw"]}},{id:"sling",name:"Sling",type:"weapon",quantity:1,weight:1,price:2,rarity:"common",description:"A simple leather strap for hurling stones.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"light-weaponry",damage:"1d4",damageType:"impact",range:"Ranged[30/120]",traits:["Discreet"],expertTraits:["Indirect"]}}],ij=[{id:"axe",name:"Axe",type:"weapon",quantity:1,weight:2,price:20,rarity:"common",description:"A balanced hand axe that can be thrown.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"heavy-weaponry",damage:"1d6",damageType:"keen",range:"Melee",traits:["Thrown[20/60]"],expertTraits:["Offhand"]}},{id:"greatsword",name:"Greatsword",type:"weapon",quantity:1,weight:7,price:200,rarity:"common",description:"A massive two-handed blade capable of devastating strikes.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"heavy-weaponry",damage:"1d10",damageType:"keen",range:"Melee",traits:["Two-Handed"],expertTraits:["Deadly"]}},{id:"hammer",name:"Hammer",type:"weapon",quantity:1,weight:8,price:40,rarity:"common",description:"A heavy war hammer built for crushing armor.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"heavy-weaponry",damage:"1d10",damageType:"impact",range:"Melee",traits:["Two-Handed"],expertTraits:["Momentum"]}},{id:"longspear",name:"Longspear",type:"weapon",quantity:1,weight:9,price:15,rarity:"common",description:"A long spear with extended reach.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"heavy-weaponry",damage:"1d8",damageType:"keen",range:"Melee[+5]",traits:["Two-Handed"],expertTraits:["Defensive"]}},{id:"longsword",name:"Longsword",type:"weapon",quantity:1,weight:3,price:60,rarity:"common",description:"A versatile blade that can be wielded one or two-handed.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"heavy-weaponry",damage:"1d8",damageType:"keen",range:"Melee",traits:["Quickdraw","Two-Handed"],expertTraits:["Unique: loses Two-handed Trait"]}},{id:"poleaxe",name:"Poleaxe",type:"weapon",quantity:1,weight:5,price:40,rarity:"common",description:"An axe mounted on a long pole for reach.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"heavy-weaponry",damage:"1d10",damageType:"keen",range:"Melee",traits:["Two-Handed"],expertTraits:["Unique: Melee[+5]"]}},{id:"shield",name:"Shield",type:"weapon",quantity:1,weight:2,price:10,rarity:"common",description:"A defensive shield that can also be used to bash.",equipable:!0,stackable:!1,slot:"offHand",weaponProperties:{skill:"heavy-weaponry",damage:"1d4",damageType:"impact",range:"Melee",traits:["Defensive"],expertTraits:["Offhand"]}},{id:"crossbow",name:"Crossbow",type:"weapon",quantity:1,weight:7,price:200,rarity:"common",description:"A mechanical bow with devastating power.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"heavy-weaponry",damage:"1d8",damageType:"keen",range:"Ranged[100/400]",traits:["Loaded[1]","Two-Handed"],expertTraits:["Deadly"]}},{id:"longbow",name:"Longbow",type:"weapon",quantity:1,weight:3,price:100,rarity:"common",description:"A powerful bow with impressive range.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"heavy-weaponry",damage:"1d6",damageType:"keen",range:"Ranged[150/600]",traits:["Two-Handed"],expertTraits:["Indirect"]}}],rj=[{id:"half-shard",name:"Half-Shard",type:"weapon",quantity:1,weight:10,price:2e3,rarity:"common",description:"A diamond-shaped kite shield with a fabrial that can resist Shardblades.",equipable:!0,stackable:!1,slot:"offHand",weaponProperties:{skill:"heavy-weaponry",damage:"2d4",damageType:"impact",range:"Melee",traits:["Defensive","Two-Handed","Unique"],expertTraits:["Momentum"]},fabrialProperties:{charges:1,currentCharges:1,effect:"Can expend a charge to increase deflect by 10 against one attack"}},{id:"shardblade",name:"Shardblade",type:"weapon",quantity:1,weight:4,price:0,rarity:"reward-only",description:"A priceless blade that cuts through soul rather than flesh. Can be summoned from thin air.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"heavy-weaponry",damage:"2d8",damageType:"spirit",range:"Melee",traits:["Dangerous","Deadly","Unique"],expertTraits:["Unique: loses Dangerous Trait"]}},{id:"shardblade-radiant",name:"Shardblade (Radiant)",type:"weapon",quantity:1,weight:0,price:0,rarity:"talent-only",description:"A living Shardblade formed from a bonded spren. Can be instantly summoned and reshaped.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"heavy-weaponry",damage:"2d8",damageType:"spirit",range:"Melee",traits:["Deadly","Unique"],expertTraits:[]}},{id:"warhammer",name:"Warhammer",type:"weapon",quantity:1,weight:150,price:400,rarity:"common",description:"A massive hammer typically wielded only by those in Shardplate.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"heavy-weaponry",damage:"2d10",damageType:"impact",range:"Melee",traits:["Cumbersome[5]","Two-Handed"],expertTraits:["Unique"]}},{id:"grandbow",name:"Grandbow",type:"weapon",quantity:1,weight:20,price:1e3,rarity:"common",description:"An enormous bow of tremendous power and range.",equipable:!0,stackable:!1,slot:"mainHand",weaponProperties:{skill:"heavy-weaponry",damage:"2d6",damageType:"keen",range:"Ranged[200/800]",traits:["Cumbersome[5]","Two-Handed"],expertTraits:["Pierce"]}}],oj=[{id:"uniform",name:"Uniform",type:"armor",quantity:1,weight:5,price:40,rarity:"common",description:"Standard military or professional attire.",equipable:!0,stackable:!1,slot:"armor",bonuses:[{type:"deflect",target:"all",value:0}],armorProperties:{deflectValue:0,traits:["Presentable"],expertTraits:[]}},{id:"leather-armor",name:"Leather Armor",type:"armor",quantity:1,weight:10,price:60,rarity:"common",description:"Light armor of tanned hide, offering basic protection.",equipable:!0,stackable:!1,slot:"armor",bonuses:[{type:"deflect",target:"all",value:1}],armorProperties:{deflectValue:1,traits:[],expertTraits:["Presentable"]}},{id:"chain-armor",name:"Chain Armor",type:"armor",quantity:1,weight:25,price:80,rarity:"common",description:"Interlocking metal rings providing solid protection.",equipable:!0,stackable:!1,slot:"armor",bonuses:[{type:"deflect",target:"all",value:2}],armorProperties:{deflectValue:2,traits:["Cumbersome[3]"],expertTraits:["Unique: loses Cumbersome Trait"]}},{id:"breastplate",name:"Breastplate",type:"armor",quantity:1,weight:30,price:120,rarity:"common",description:"Metal chest armor with cloth or leather backing.",equipable:!0,stackable:!1,slot:"armor",bonuses:[{type:"deflect",target:"all",value:2}],armorProperties:{deflectValue:2,traits:["Cumbersome[3]"],expertTraits:["Presentable"]}},{id:"half-plate",name:"Half Plate",type:"armor",quantity:1,weight:40,price:400,rarity:"common",description:"Heavy armor protecting vital areas.",equipable:!0,stackable:!1,slot:"armor",bonuses:[{type:"deflect",target:"all",value:3}],armorProperties:{deflectValue:3,traits:["Cumbersome[4]"],expertTraits:["Unique: Cumbersome[3] instead of Cumbersome[4]"]}},{id:"full-plate",name:"Full Plate",type:"armor",quantity:1,weight:55,price:1600,rarity:"common",description:"Complete suit of heavy metal armor.",equipable:!0,stackable:!1,slot:"armor",bonuses:[{type:"deflect",target:"all",value:4}],armorProperties:{deflectValue:4,traits:["Cumbersome[5]"],expertTraits:[]}},{id:"shardplate",name:"Shardplate",type:"armor",quantity:1,weight:1400,price:0,rarity:"reward-only",description:"Legendary full-body armor that enhances strength and blocks Shardblades.",equipable:!0,stackable:!1,slot:"armor",bonuses:[{type:"deflect",target:"all",value:5},{type:"attribute",target:"strength",value:2},{type:"attribute",target:"speed",value:2}],armorProperties:{deflectValue:5,traits:["Dangerous","Unique"],expertTraits:["Unique: loses Dangerous Trait"]},fabrialProperties:{charges:4,currentCharges:4,effect:"Can expend a charge to increase deflect by 10 against one attack"}},{id:"shardplate-radiant",name:"Shardplate (Radiant)",type:"armor",quantity:1,weight:0,price:0,rarity:"talent-only",description:"Living armor formed from common spren, glowing with luminescent light.",equipable:!0,stackable:!1,slot:"armor",bonuses:[{type:"deflect",target:"all",value:5},{type:"attribute",target:"strength",value:2},{type:"attribute",target:"speed",value:2}],armorProperties:{deflectValue:5,traits:["Unique"],expertTraits:[]},fabrialProperties:{charges:4,currentCharges:4,effect:"Can expend a charge to increase deflect by 10. Regains all charges after long rest."}}],aj=[{id:"backpack",name:"Backpack",type:"equipment",quantity:1,weight:5,price:8,rarity:"common",description:"A sturdy pack for carrying supplies.",equipable:!1,stackable:!1},{id:"rope",name:"Rope (50 feet)",type:"equipment",quantity:1,weight:5,price:30,rarity:"common",description:"Seasilk rope, strong and reliable.",equipable:!1,stackable:!0},{id:"blanket",name:"Blanket",type:"equipment",quantity:1,weight:2,price:2,rarity:"common",description:"A wool blanket for warmth.",equipable:!1,stackable:!0},{id:"waterskin",name:"Waterskin",type:"equipment",quantity:1,weight:1,price:1,rarity:"common",description:"A leather bag for carrying water.",equipable:!1,stackable:!0},{id:"flint-steel",name:"Flint and Steel",type:"equipment",quantity:1,weight:1.5,price:4,rarity:"common",description:"For starting fires.",equipable:!1,stackable:!1},{id:"whetstone",name:"Whetstone",type:"equipment",quantity:1,weight:1,price:.2,rarity:"common",description:"For sharpening blades.",equipable:!1,stackable:!1},{id:"food-ration",name:"Food Ration (1 day)",type:"consumable",quantity:1,weight:.5,price:.2,rarity:"common",description:"Preserved food for travel.",equipable:!1,stackable:!0},{id:"food-street",name:"Street Food (1 day)",type:"consumable",quantity:1,weight:1.5,price:3,rarity:"common",description:"Fresh street food from vendors.",equipable:!1,stackable:!0},{id:"ink-pen",name:"Ink Pen",type:"equipment",quantity:1,weight:.1,price:.1,rarity:"common",description:"A writing implement.",equipable:!1,stackable:!0},{id:"ink-bottle",name:"Bottle of Ink",type:"equipment",quantity:1,weight:.2,price:40,rarity:"common",description:"One ounce of ink.",equipable:!1,stackable:!0},{id:"paper",name:"Paper (1 sheet)",type:"equipment",quantity:1,weight:.1,price:.5,rarity:"common",description:"A single sheet of paper.",equipable:!1,stackable:!0},{id:"vial-empty",name:"Empty Vial",type:"equipment",quantity:1,weight:.2,price:4,rarity:"common",description:"A small glass vial.",equipable:!1,stackable:!0},{id:"wax-block",name:"Block of Wax",type:"equipment",quantity:1,weight:.5,price:2,rarity:"common",description:"For sealing letters.",equipable:!1,stackable:!0},{id:"reference-book",name:"Reference Book",type:"equipment",quantity:1,weight:3,price:100,rarity:"common",description:"A book on a specific topic.",equipable:!1,stackable:!0},{id:"poison-weak",name:"Weak Poison (1 dose)",type:"consumable",quantity:1,weight:.2,price:20,rarity:"common",description:"Causes 1d6 vital damage on DC 12 Athletics test.",equipable:!1,stackable:!0},{id:"common-clothing",name:"Common Clothing",type:"equipment",quantity:1,weight:3,price:2,rarity:"common",description:"Plain, everyday clothes.",equipable:!1,stackable:!0},{id:"fine-clothing",name:"Fine Clothing",type:"equipment",quantity:1,weight:6,price:100,rarity:"common",description:"High-quality clothing for formal occasions.",equipable:!1,stackable:!1},{id:"surgical-supplies",name:"Surgical Supplies",type:"equipment",quantity:1,weight:3,price:20,rarity:"common",description:"Bandages, salves, and splints. Can be used 10 times.",equipable:!1,stackable:!1,properties:{uses:10}},{id:"antiseptic-weak",name:"Weak Antiseptic (5 doses)",type:"consumable",quantity:1,weight:1,price:25,rarity:"common",description:"Restores 1d6 health after a short rest.",equipable:!1,stackable:!0,properties:{doses:5}},{id:"antiseptic-potent",name:"Potent Antiseptic (5 doses)",type:"consumable",quantity:1,weight:1,price:50,rarity:"common",description:"Restores 2d6 health after a short rest.",equipable:!1,stackable:!0,properties:{doses:5}},{id:"candle",name:"Candle",type:"equipment",quantity:1,weight:.2,price:.2,rarity:"common",description:"Burns for 6 hours, sheds light in 15-foot radius.",equipable:!1,stackable:!0},{id:"oil-lantern",name:"Oil Lantern",type:"equipment",quantity:1,weight:2,price:20,rarity:"common",description:"Sheds light in 30-foot radius for 6 hours per pint of oil.",equipable:!1,stackable:!1},{id:"oil-flask",name:"Flask of Oil",type:"consumable",quantity:1,weight:1,price:1,rarity:"common",description:"One pint of oil for lanterns or improvised weapons.",equipable:!1,stackable:!0},{id:"crowbar",name:"Crowbar",type:"equipment",quantity:1,weight:3,price:10,rarity:"common",description:"Grants advantage on Athletics tests for leverage.",equipable:!1,stackable:!1},{id:"lockpick",name:"Lockpick",type:"equipment",quantity:1,weight:.5,price:5,rarity:"common",description:"Grants advantage on Thievery tests to pick locks.",equipable:!1,stackable:!0},{id:"manacles",name:"Manacles",type:"equipment",quantity:1,weight:6,price:10,rarity:"common",description:"Metal restraints with a key.",equipable:!1,stackable:!1},{id:"musical-instrument",name:"Musical Instrument",type:"equipment",quantity:1,weight:5,price:20,rarity:"common",description:"A typical musical instrument.",equipable:!1,stackable:!1},{id:"scale",name:"Scale",type:"equipment",quantity:1,weight:3,price:20,rarity:"common",description:"For weighing objects up to 2 pounds.",equipable:!1,stackable:!1},{id:"tuning-fork",name:"Tuning Fork",type:"equipment",quantity:1,weight:.5,price:50,rarity:"common",description:"Can transfer Stormlight between gems.",equipable:!1,stackable:!1},{id:"unencased-gem",name:"Unencased Gem (infused)",type:"consumable",quantity:1,weight:.01,price:2,rarity:"common",description:"Can recharge fabrials or provide Stormlight to Radiants.",equipable:!1,stackable:!0},{id:"alcohol-bottle",name:"Bottle of Wine",type:"consumable",quantity:1,weight:3,price:10,rarity:"common",description:"A bottle of Vorin wine.",equipable:!1,stackable:!0},{id:"grappling-hook",name:"Grappling Hook",type:"equipment",quantity:1,weight:4,price:10,rarity:"common",description:"Grants advantage on climbing tests when anchored.",equipable:!1,stackable:!1}],sj=[{id:"spanreed-pair",name:"Spanreed (1 pair)",type:"fabrial",quantity:1,weight:1,price:1e3,rarity:"common",description:"A pair of conjoined writing reeds for long-distance communication.",equipable:!1,stackable:!1,fabrialProperties:{charges:3,currentCharges:3,effect:"Allows written communication over long distances. Expends 1 charge per 5 days."}},{id:"heatrial",name:"Heatrial",type:"fabrial",quantity:1,weight:5,price:250,rarity:"common",description:"A heating fabrial for warmth or cooking.",equipable:!1,stackable:!1,fabrialProperties:{charges:5,currentCharges:5,effect:"Generates heat. Expends 1 charge per day for ambient warmth, or per hour for cooking."}},{id:"soulcaster",name:"Soulcaster",type:"fabrial",quantity:1,weight:5,price:0,rarity:"reward-only",description:"A fabrial that can transform materials into one specific Essence.",equipable:!0,stackable:!1,slot:"accessory",fabrialProperties:{charges:5,currentCharges:5,effect:"Allows use of Transformation surge to convert materials to one Essence type."}}],cj=[{id:"chull",name:"Chull",type:"mount",quantity:1,weight:0,price:200,rarity:"common",description:"A large crustacean mount. Travel speed: 2mph, Carry capacity: 1,500lb.",equipable:!1,stackable:!1,properties:{travelSpeed:"2mph",carryCapacity:1500}},{id:"horse",name:"Horse",type:"mount",quantity:1,weight:0,price:4e3,rarity:"common",description:"An uncommon but swift mount. Travel speed: 4mph, Carry capacity: 500lb.",equipable:!1,stackable:!1,properties:{travelSpeed:"4mph",carryCapacity:500}},{id:"ryshadium",name:"Ryshadium",type:"mount",quantity:1,weight:0,price:0,rarity:"reward-only",description:"A rare, sapient breed of horse that chooses its rider. Travel speed: 6mph, Carry capacity: 1,000lb.",equipable:!1,stackable:!1,properties:{travelSpeed:"6mph",carryCapacity:1e3}}],lj=[{id:"chull-cart",name:"Chull Cart",type:"vehicle",quantity:1,weight:0,price:500,rarity:"common",description:"A cart pulled by a chull. Travel speed: 2mph.",equipable:!1,stackable:!1},{id:"rowboat",name:"Rowboat",type:"vehicle",quantity:1,weight:0,price:250,rarity:"common",description:"A small boat for water travel. Travel speed: 3mph downstream, 1mph upstream.",equipable:!1,stackable:!1}],Hd=[{id:"academic-kit",name:"Academic Kit",description:"Equipment for scholars and researchers.",weapons:[{itemId:"knife",quantity:1}],armor:[{itemId:"uniform",quantity:1}],equipment:[{itemId:"backpack",quantity:1},{itemId:"common-clothing",quantity:1},{itemId:"ink-pen",quantity:1},{itemId:"ink-bottle",quantity:1},{itemId:"paper",quantity:10},{itemId:"vial-empty",quantity:3},{itemId:"wax-block",quantity:1},{itemId:"reference-book",quantity:1},{itemId:"poison-weak",quantity:1}],currency:18,additionalExpertise:"Literature"},{id:"artisan-kit",name:"Artisan Kit",description:"Tools for crafters and artisans.",weapons:[{itemId:"hammer",quantity:1}],armor:[{itemId:"leather-armor",quantity:1}],equipment:[{itemId:"common-clothing",quantity:1},{itemId:"surgical-supplies",quantity:1},{itemId:"antiseptic-weak",quantity:1},{itemId:"ink-pen",quantity:1},{itemId:"ink-bottle",quantity:1},{itemId:"paper",quantity:5},{itemId:"candle",quantity:5},{itemId:"flint-steel",quantity:1},{itemId:"vial-empty",quantity:3},{itemId:"tuning-fork",quantity:1},{itemId:"musical-instrument",quantity:1},{itemId:"scale",quantity:1}],currency:16},{id:"military-kit",name:"Military Kit",description:"Standard equipment for soldiers.",weapons:[{itemId:"longsword",quantity:1},{itemId:"shield",quantity:1}],armor:[{itemId:"uniform",quantity:1},{itemId:"chain-armor",quantity:1}],equipment:[{itemId:"backpack",quantity:1},{itemId:"common-clothing",quantity:1},{itemId:"waterskin",quantity:1},{itemId:"flint-steel",quantity:1},{itemId:"whetstone",quantity:1},{itemId:"blanket",quantity:1},{itemId:"food-ration",quantity:10}],currency:7},{id:"courtier-kit",name:"Courtier Kit",description:"Fine attire and accoutrements for nobles.",weapons:[{itemId:"sidesword",quantity:1}],armor:[],equipment:[{itemId:"alcohol-bottle",quantity:1},{itemId:"fine-clothing",quantity:1}],currency:40,connection:"Supported by a patron of your noble house."},{id:"prisoner-kit",name:"Prisoner Kit",description:"The bare minimum for those who have lost everything.",weapons:[],armor:[],equipment:[{itemId:"manacles",quantity:1}],currency:0,connection:"You've attracted a Radiant spren through your trials."},{id:"underworld-kit",name:"Underworld Kit",description:"Tools for thieves and rogues.",weapons:[{itemId:"knife",quantity:2}],armor:[{itemId:"leather-armor",quantity:1}],equipment:[{itemId:"backpack",quantity:1},{itemId:"common-clothing",quantity:1},{itemId:"alcohol-bottle",quantity:1},{itemId:"crowbar",quantity:1},{itemId:"lockpick",quantity:1},{itemId:"rope",quantity:1},{itemId:"flint-steel",quantity:1},{itemId:"oil-lantern",quantity:1},{itemId:"oil-flask",quantity:1},{itemId:"food-street",quantity:5}],currency:10}],dj=[{id:"iron-ingot",name:"Iron Ingot",description:"A bar of refined iron, used for weapon and armor crafting.",weight:2,price:5,type:"equipment",rarity:"common",equipable:!1,stackable:!0,quantity:1},{id:"leather-strip",name:"Leather Strip",description:"A strip of cured leather for binding and crafting.",weight:.1,price:1,type:"equipment",rarity:"common",equipable:!1,stackable:!0,quantity:1},{id:"leather",name:"Leather",description:"Tanned leather suitable for armor crafting.",weight:1,price:3,type:"equipment",rarity:"common",equipable:!1,stackable:!0,quantity:1},{id:"thread",name:"Thread",description:"Strong thread for stitching leather and fabric.",weight:.1,price:1,type:"equipment",rarity:"common",equipable:!1,stackable:!0,quantity:1},{id:"gemstone-ruby",name:"Ruby Gemstone",description:"A polished ruby used in fabrial construction.",weight:.1,price:50,type:"equipment",rarity:"common",equipable:!1,stackable:!0,quantity:1},{id:"metal-housing",name:"Metal Housing",description:"A precisely crafted metal housing for fabrial components.",weight:.5,price:10,type:"equipment",rarity:"common",equipable:!1,stackable:!0,quantity:1},{id:"copper-wire",name:"Copper Wire",description:"Fine copper wire used in fabrial circuitry.",weight:.1,price:2,type:"equipment",rarity:"common",equipable:!1,stackable:!0,quantity:1},{id:"iron-sword",name:"Iron Sword",description:"A simple iron sword, well-balanced and reliable.",weight:3,price:15,type:"weapon",rarity:"common",equipable:!0,stackable:!1,quantity:1,slot:"mainHand",weaponProperties:{skill:"light-weaponry",damage:"1d8",damageType:"keen",range:"melee",traits:[],expertTraits:[]}},{id:"steel-sword",name:"Steel Sword",description:"A superior steel blade with excellent edge retention.",weight:3,price:50,type:"weapon",rarity:"common",equipable:!0,stackable:!1,quantity:1,slot:"mainHand",weaponProperties:{skill:"light-weaponry",damage:"1d8+1",damageType:"keen",range:"melee",traits:[],expertTraits:[]}},{id:"leather-armor",name:"Leather Armor",description:"Supple leather armor that doesn't restrict movement.",weight:10,price:10,type:"armor",rarity:"common",equipable:!0,stackable:!1,quantity:1,slot:"armor",armorProperties:{deflectValue:1,traits:[],expertTraits:[]}},{id:"heating-fabrial",name:"Heating Fabrial",description:"A fabrial device that generates warmth.",weight:1,price:100,type:"fabrial",rarity:"common",equipable:!1,stackable:!1,quantity:1,fabrialProperties:{charges:10,currentCharges:10,effect:"Generates heat within a 10-foot radius"}},{id:"health-potion",name:"Health Potion",description:"A potion that restores health when consumed.",weight:.5,price:50,type:"consumable",rarity:"common",equipable:!1,stackable:!0,quantity:1}],ps=[...nj,...ij,...rj,...oj,...aj,...sj,...cj,...lj,...dj];function kc(n){return ps.find(t=>t.id===n)}var Cf=class{items=new Map;equippedItems=new Map;currency=0;bonusManager=null;character=null;constructor(){}setBonusManager(t){this.bonusManager=t}setCharacter(t){this.character=t}applyStartingKit(t){let e=Hd.find(i=>i.id===t);return e?(this.items.clear(),this.equippedItems.clear(),e.weapons.forEach(({itemId:i,quantity:r})=>{this.addItem(i,r)}),e.armor.forEach(({itemId:i,quantity:r})=>{this.addItem(i,r)}),e.equipment.forEach(({itemId:i,quantity:r})=>{this.addItem(i,r)}),this.currency=e.currency,!0):!1}addItem(t,e=1){let i=kc(t);if(!i)return console.warn(`[InventoryManager] Unknown item: ${t}`),!1;let r=this.items.get(t);if(r)if(i.stackable)r.quantity+=e;else{let o=1,a=`${t}-${o}`;for(;this.items.has(a);)o++,a=`${t}-${o}`;let s=xe(R({},i),{id:a,quantity:1});this.items.set(a,s)}else{let o=xe(R({},i),{quantity:e});this.items.set(t,o)}return!0}removeItem(t,e=1){let i=this.items.get(t);return i?(i.quantity>e?i.quantity-=e:(this.unequipItem(t),this.items.delete(t)),!0):!1}getItem(t){return this.items.get(t)}getAllItems(){return Array.from(this.items.values())}getItemsByType(t){return this.getAllItems().filter(e=>e.type===t)}hasItem(t,e=1){let i=this.items.get(t);return i?i.quantity>=e:!1}getItemQuantity(t){let e=this.items.get(t);return e?e.quantity:0}equipItem(t){let e=this.items.get(t);if(!e||!e.equipable||!e.slot)return!1;let i=this.equippedItems.get(e.slot);return i&&this.unequipItem(i),this.equippedItems.set(e.slot,t),this.bonusManager&&e.bonuses&&e.bonuses.forEach(r=>{this.bonusManager.bonuses.addBonus(`equipment:${t}`,r)}),!0}canUseExpertTraits(t){let e=this.items.get(t);if(!e||!this.character)return{canUse:!0,missingExpertises:[]};let i=[];if(e.weaponProperties?.expertTraits&&e.weaponProperties.expertTraits.length>0){let r=this.getWeaponExpertise(e.id,e.name);r&&!this.character.hasExpertise(r)&&i.push(r)}if(e.armorProperties?.expertTraits&&e.armorProperties.expertTraits.length>0){let r=this.getArmorExpertise(e.id,e.name);r&&!this.character.hasExpertise(r)&&i.push(r)}return{canUse:i.length===0,missingExpertises:i}}getWeaponExpertise(t,e){let i={sword:"Dueling",axe:"Axe Fighting",mace:"Bludgeoning Weapons",spear:"Spear Fighting",bow:"Archery",dagger:"Knife Fighting",staff:"Staff Fighting",hammer:"Hammer Fighting",lance:"Mounted Combat"},r=e.toLowerCase(),o=t.toLowerCase();for(let[a,s]of Object.entries(i))if(r.includes(a)||o.includes(a))return s;return null}getArmorExpertise(t,e){let i={plate:"Armor Mastery",mail:"Armor Mastery",leather:"Light Armor",hide:"Light Armor"},r=e.toLowerCase(),o=t.toLowerCase();for(let[a,s]of Object.entries(i))if(r.includes(a)||o.includes(a))return s;return null}unequipItem(t){let e=this.items.get(t);return!e||!e.slot?!1:this.equippedItems.get(e.slot)===t?(this.equippedItems.delete(e.slot),this.bonusManager&&this.bonusManager.bonuses.removeBonus(`equipment:${t}`),!0):!1}isEquipped(t){return Array.from(this.equippedItems.values()).includes(t)}getEquippedItem(t){let e=this.equippedItems.get(t);return e?this.items.get(e):void 0}getAllEquippedItems(){return Array.from(this.equippedItems.values()).map(t=>this.items.get(t)).filter(t=>t!==void 0)}getCurrency(){return this.currency}setCurrency(t){this.currency=Math.max(0,t)}addCurrency(t){this.currency+=t}removeCurrency(t){return this.currency>=t?(this.currency-=t,!0):!1}canAfford(t){return this.currency>=t}convertToMixedDenominations(t){let e=Math.floor(t/4);return{chips:0,marks:t%4,broams:e}}convertFromMixedDenominations(t){return t.broams*4+t.marks+t.chips*.2}purchaseItem(t,e,i=1){let r=e*i;return this.canAfford(r)&&this.addItem(t,i)?(this.removeCurrency(r),!0):!1}sellItem(t,e,i=1){if(!this.hasItem(t,i))return!1;let r=Math.floor(e*.5);return this.removeItem(t,i)?(this.addCurrency(r*i),!0):!1}getTotalWeight(){let t=0;for(let e of this.items.values())t+=e.weight*e.quantity;return t}getCarryingCapacity(t){return t*50}isOverencumbered(t){return this.getTotalWeight()>this.getCarryingCapacity(t)}serialize(){return{items:Array.from(this.items.entries()).map(([t,e])=>({id:t,quantity:e.quantity,customData:{fabrialCharges:e.fabrialProperties?.currentCharges,properties:e.properties}})),equippedItems:Array.from(this.equippedItems.entries()),currency:this.currency}}deserialize(t){this.items.clear(),this.equippedItems.clear(),t.items&&t.items.forEach(e=>{let i=kc(e.id.split("-")[0]);if(i){let r=xe(R({},i),{id:e.id,quantity:e.quantity});r.fabrialProperties&&e.customData?.fabrialCharges!==void 0&&(r.fabrialProperties.currentCharges=e.customData.fabrialCharges),e.customData?.properties&&(r.properties=R(R({},r.properties),e.customData.properties)),this.items.set(e.id,r)}}),t.equippedItems&&t.equippedItems.forEach(([e,i])=>{this.equippedItems.set(e,i)}),t.currency!==void 0&&(this.currency=t.currency)}};var xf=class{recipes=new Map;character;constructor(t){this.character=t,this.initializeRecipes()}initializeRecipes(){this.addRecipe({id:"craft-iron-sword",name:"Iron Sword",description:"A basic iron sword suitable for combat",requiredExpertise:"Weapon Crafting",materials:[{itemId:"iron-ingot",quantity:3},{itemId:"leather-strip",quantity:1}],resultItemId:"iron-sword",resultQuantity:1,difficulty:"easy",craftingTime:"4 hours",category:"weapon"}),this.addRecipe({id:"craft-steel-sword",name:"Steel Sword",description:"A well-crafted steel sword",requiredExpertise:"Weapon Crafting",materials:[{itemId:"steel-ingot",quantity:3},{itemId:"leather-strip",quantity:2}],resultItemId:"steel-sword",resultQuantity:1,difficulty:"moderate",craftingTime:"6 hours",category:"weapon"}),this.addRecipe({id:"craft-leather-armor",name:"Leather Armor",description:"Basic leather armor for protection",requiredExpertise:"Armor Crafting",materials:[{itemId:"leather",quantity:5},{itemId:"thread",quantity:3}],resultItemId:"leather-armor",resultQuantity:1,difficulty:"easy",craftingTime:"8 hours",category:"armor"}),this.addRecipe({id:"craft-heating-fabrial",name:"Heating Fabrial",description:"A fabrial that produces warmth",requiredExpertise:"Fabrial Crafting",materials:[{itemId:"gemstone-ruby",quantity:1},{itemId:"metal-housing",quantity:1},{itemId:"copper-wire",quantity:2}],resultItemId:"heating-fabrial",resultQuantity:1,difficulty:"hard",craftingTime:"12 hours",category:"fabrial"}),this.addRecipe({id:"craft-health-potion",name:"Health Potion",description:"A potion that restores health",requiredExpertise:"Equipment Crafting",materials:[{itemId:"medicinal-herbs",quantity:2},{itemId:"water-flask",quantity:1}],resultItemId:"health-potion",resultQuantity:1,difficulty:"moderate",craftingTime:"2 hours",category:"consumable"})}addRecipe(t){this.recipes.set(t.id,t)}getAllRecipes(){return Array.from(this.recipes.values())}getAvailableRecipes(){return this.getAllRecipes().filter(t=>this.character.hasExpertise(t.requiredExpertise))}getRecipesByCategory(t){return this.getAllRecipes().filter(e=>e.category===t)}getRecipe(t){return this.recipes.get(t)}canCraft(t){let e=this.recipes.get(t);if(!e)return{canCraft:!1,reason:"Recipe not found"};if(!this.character.hasExpertise(e.requiredExpertise))return{canCraft:!1,reason:`Requires ${e.requiredExpertise} expertise`};for(let i of e.materials){let r=this.character.inventory.getItemQuantity(i.itemId);if(r<i.quantity)return{canCraft:!1,reason:`Insufficient materials: need ${i.quantity} ${i.itemId}, have ${r}`}}return{canCraft:!0}}craftItem(t){let e=this.recipes.get(t);if(!e)return{success:!1,message:"Recipe not found"};let i=this.canCraft(t);if(!i.canCraft)return{success:!1,message:i.reason||"Cannot craft this item"};let r=[];for(let o of e.materials)if(this.character.inventory.removeItem(o.itemId,o.quantity))r.push(o);else{for(let s of r)this.character.inventory.addItem(s.itemId,s.quantity);return{success:!1,message:`Failed to consume ${o.itemId}`}}return this.character.inventory.addItem(e.resultItemId,e.resultQuantity),{success:!0,message:`Successfully crafted ${e.name}!`,itemId:e.resultItemId,quantity:e.resultQuantity,materialsConsumed:r,expertiseUsed:e.requiredExpertise,difficultyCheck:{required:e.difficulty,passed:!0}}}getDifficultyDC(t){return{trivial:5,easy:10,moderate:15,hard:20,"very-hard":25,masterwork:30}[t]}hasMaterials(t){let e=this.recipes.get(t);if(!e)return!1;for(let i of e.materials)if(this.character.inventory.getItemQuantity(i.itemId)<i.quantity)return!1;return!0}getMissingMaterials(t){let e=this.recipes.get(t);if(!e)return[];let i=[];for(let r of e.materials){let o=this.character.inventory.getItemQuantity(r.itemId);o<r.quantity&&i.push({itemId:r.itemId,quantity:r.quantity-o})}return i}};var Nr=class{name="";level=1;pendingLevelPoints=0;paths=[];ancestry=null;attributes;cultures=[];_selectedExpertises=[];unlockedTalents=new Set;skillManager=new af;derivedAttributesManager=new uf;defenseManager=new mf;resourceManager;bonusManager=new yf;radiantPathManager=new bf;inventoryManager=new Cf;craftingManager;expertiseCache=null;get selectedExpertises(){return this._selectedExpertises}set selectedExpertises(t){this._selectedExpertises=t,this.invalidateExpertiseCache()}constructor(){this.attributes=new rf,this.resourceManager=new gf(this.attributes),this.bonusManager.setCharacter(this),this.inventoryManager.setBonusManager(this.bonusManager),this.inventoryManager.setCharacter(this),this.craftingManager=new xf(this)}get skills(){return this.skillManager}get derivedAttributes(){return this.derivedAttributesManager}get defenses(){return this.defenseManager}get resources(){return this.resourceManager}get bonuses(){return this.bonusManager}get radiantPath(){return this.radiantPathManager}get inventory(){return this.inventoryManager}get crafting(){return this.craftingManager}getExpertiseSkills(){return this.selectedExpertises.map(t=>t.name)}hasExpertise(t){let e=this._selectedExpertises.length,i=this.expertiseCache?.size??-1;return(!this.expertiseCache||i!==e)&&this.rebuildExpertiseCache(),this.expertiseCache.has(t)}getExpertiseRank(t){return this.hasExpertise(t)?1:0}rebuildExpertiseCache(){this.expertiseCache=new Set(this.selectedExpertises.map(t=>t.name))}invalidateExpertiseCache(){this.expertiseCache=null}};var Bn=class{static create(t,e,i){return{name:t,source:e,sourceId:i}}static canRemove(t){return t.source==="manual"||t.source==="gm"}static isAutoGranted(t){return t.source==="culture"||t.source==="talent"}static getSourceBadge(t){switch(t){case"culture":return"Culture";case"talent":return"Talent";case"gm":return"GM";case"manual":return"Manual";default:return""}}static getSourceClass(t){return`expertise-source-${t}`}static migrateFromStringArray(t){return t.map(e=>({name:e,source:"manual",sourceId:void 0}))}static toStringArray(t){return t.map(e=>e.name)}};var Ne=class n{character;characterSubject;character$;constructor(){this.character=new Nr,this.characterSubject=new ut(this.character),this.character$=this.characterSubject.asObservable()}updateCharacter(t){Object.assign(this.character,t),this.characterSubject.next(this.character)}getCharacter(){return this.character}setAncestry(t){this.character.ancestry=t,this.characterSubject.next(this.character)}addCulture(t){this.character.cultures.length<2&&(this.character.cultures.push(t),this.characterSubject.next(this.character))}removeCulture(t){let e=this.character.cultures.findIndex(i=>i.name===t.name);e!==-1&&(this.character.cultures.splice(e,1),this.characterSubject.next(this.character))}assignAttributePoint(t){let e=this.character.attributes[t];typeof e=="number"&&e<5&&(this.character.attributes[t]=e+1,this.characterSubject.next(this.character))}unlockTalent(t){this.character.unlockedTalents.add(t),this.characterSubject.next(this.character)}removeTalent(t){this.character.unlockedTalents.delete(t),this.characterSubject.next(this.character)}getUnlockedTalents(){return this.character.unlockedTalents}addExpertise(t,e="manual",i){let r=this.character.selectedExpertises.findIndex(o=>o.name===t);if(r===-1)this.character.selectedExpertises.push(Bn.create(t,e,i)),this.characterSubject.next(this.character);else{let o=this.character.selectedExpertises[r];o.source==="manual"&&e!=="manual"&&(o.source=e,o.sourceId=i,this.characterSubject.next(this.character))}}removeExpertise(t){let e=this.character.selectedExpertises.findIndex(i=>i.name===t);e!==-1&&Bn.canRemove(this.character.selectedExpertises[e])&&(this.character.selectedExpertises.splice(e,1),this.characterSubject.next(this.character))}removeExpertisesBySource(t){let e=this.character.selectedExpertises.length;this.character.selectedExpertises=this.character.selectedExpertises.filter(i=>i.sourceId!==t),this.character.selectedExpertises.length!==e&&this.characterSubject.next(this.character)}getSelectedExpertises(){return Bn.toStringArray(this.character.selectedExpertises)}getSelectedExpertisesWithSource(){return this.character.selectedExpertises}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var qd=class n{constructor(t,e){this.router=t;this.characterState=e}newCharacter(){let t=new Nr;this.characterState.updateCharacter(t),this.router.navigateByUrl("/character-creator-view/ancestry")}loadCharacter(){this.router.navigateByUrl("/load-character")}viewSheet(){this.router.navigateByUrl("/character-sheet")}static \u0275fac=function(e){return new(e||n)(k(Pt),k(Ne))};static \u0275cmp=D({type:n,selectors:[["app-landing-view"]],decls:34,vars:0,consts:[[1,"landing-container"],[1,"landing-header"],[1,"app-title"],[1,"app-subtitle"],[1,"navigation-cards"],[1,"nav-card",3,"click"],[1,"card-icon"],[1,"landing-footer"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"div",1)(2,"h1",2),u(3,"Stormlight Archive RPG"),c(),l(4,"p",3),u(5,"Character Management System"),c()(),l(6,"div",4)(7,"mat-card",5),C("click",function(){return i.newCharacter()}),l(8,"mat-card-content")(9,"mat-icon",6),u(10,"person_add"),c(),l(11,"h2"),u(12,"Create Character"),c(),l(13,"p"),u(14,"Start building a new character from scratch"),c()()(),l(15,"mat-card",5),C("click",function(){return i.loadCharacter()}),l(16,"mat-card-content")(17,"mat-icon",6),u(18,"list"),c(),l(19,"h2"),u(20,"Character List"),c(),l(21,"p"),u(22,"View and manage your saved characters"),c()()(),l(23,"mat-card",5),C("click",function(){return i.viewSheet()}),l(24,"mat-card-content")(25,"mat-icon",6),u(26,"description"),c(),l(27,"h2"),u(28,"Character Sheet"),c(),l(29,"p"),u(30,"View your active character sheet"),c()()()(),l(31,"div",7)(32,"p"),u(33,"Unofficial fan-made RPG system based on Brandon Sanderson's Stormlight Archive"),c()()())},dependencies:[Re,qe,Ke,oe,le],styles:[".landing-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100%;padding:2rem;background:linear-gradient(180deg,var(--gpStoreDarkGrey) 0%,var(--gpStoreDarkerGrey) 80%)}.landing-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem;color:var(--gpSystemLightestGrey)}.app-title[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;margin:0 0 1rem;text-shadow:2px 2px 4px rgba(0,0,0,.5);color:var(--gpColor-ChalkyBlue)}.app-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:300;margin:0;opacity:.9;color:var(--gpStoreLightestGrey)}.navigation-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:2rem;max-width:1200px;width:100%}.nav-card[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s ease;background-color:var(--gpSystemDarkGrey)}.nav-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 12px 24px #00000080;background-color:var(--gpSystemGrey)}.nav-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;padding:2rem}.nav-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:var(--gpColor-ChalkyBlue);margin-bottom:1rem}.nav-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.75rem;font-weight:600;color:var(--gpSystemLightestGrey)}.nav-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--gpStoreLighterGrey);font-size:1rem;line-height:1.5}.landing-footer[_ngcontent-%COMP%]{margin-top:3rem;text-align:center;color:var(--gpStoreLightestGrey);opacity:.8;font-size:.9rem}.landing-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}@media(max-width:768px){.app-title[_ngcontent-%COMP%]{font-size:2rem}.app-subtitle[_ngcontent-%COMP%]{font-size:1.2rem}.navigation-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.landing-container[_ngcontent-%COMP%]{padding-bottom:10rem}}"]})};var gn=class n{pointsChangedSubject=new ut(void 0);pointsChanged$=this.pointsChangedSubject.asObservable();ATTRIBUTE_POINTS_PER_LEVEL=[12,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0];SKILL_POINTS_PER_LEVEL=[4,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2];HEALTH_PER_LEVEL=[10,5,5,5,5,4,4,4,4,4,3,3,3,3,3,2,2,2,2,2,1];HEALTH_STRENGTH_BONUS_LEVELS=[1,6,11,16,21];MAX_SKILL_RANKS_PER_LEVEL=[2,2,2,2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,5,5];SKILL_RANKS_PER_LEVEL=[5,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0];TALENT_POINTS_PER_LEVEL=[2,1,1,1,1,2,1,1,1,1,2,1,1,1,1,2,1,1,1,1,1];getAttributePointsForLevel(t){return this.ATTRIBUTE_POINTS_PER_LEVEL[t-1]||0}getTotalAttributePointsUpToLevel(t){let e=0;for(let i=0;i<t&&i<this.ATTRIBUTE_POINTS_PER_LEVEL.length;i++)e+=this.ATTRIBUTE_POINTS_PER_LEVEL[i];return e}getSkillPointsForLevel(t){return this.SKILL_POINTS_PER_LEVEL[t-1]||0}getTotalSkillPointsUpToLevel(t){let e=0;for(let i=0;i<t&&i<this.SKILL_POINTS_PER_LEVEL.length;i++)e+=this.SKILL_POINTS_PER_LEVEL[i];return e}getHealthForLevel(t,e){let i=this.HEALTH_PER_LEVEL[t-1]||0;return this.HEALTH_STRENGTH_BONUS_LEVELS.includes(t)&&(i+=e),i}getMaxSkillRanksForLevel(t){return this.MAX_SKILL_RANKS_PER_LEVEL[t-1]||0}getSkillRanksForLevel(t){return this.SKILL_RANKS_PER_LEVEL[t-1]||0}getTalentPointsForLevel(t){return this.TALENT_POINTS_PER_LEVEL[t-1]||0}notifyPointsChanged(){this.pointsChangedSubject.next()}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var cC={pathName:"Singer Forms",nodes:[{id:"singer_ancestry",name:"Singer Ancestry",description:"You possess the innate abilities of a Singer, allowing you to assume various forms during highstorms.",actionCost:1/0,prerequisites:[],tier:0,bonuses:[]},{id:"singer_change_form",name:"Change Form",description:"During a highstorm, you can change into dullform, mateform, or another one of your singer forms.",actionCost:3,prerequisites:[{type:"talent",target:"singer_ancestry"}],tier:0,bonuses:[]},{id:"forms_of_finesse",name:"Forms of Finesse",description:"Gain artform and nimbleform",actionCost:1/0,prerequisites:[{type:"talent",target:"singer_ancestry"},{type:"talent",target:"singer_change_form"}],tier:1,bonuses:[]},{id:"nimbleform",name:"Nimbleform",description:"Speed +1, Focus+2",actionCost:1/0,prerequisites:[{type:"talent",target:"singer_ancestry"},{type:"talent",target:"singer_change_form"},{type:"talent",target:"forms_of_finesse"}],tier:2,bonuses:[{type:"attribute",target:"speed",value:1,scaling:!1,condition:"while in nimbleform"},{type:"resource",target:"focus",value:2,scaling:!1,condition:"while in nimbleform"}]},{id:"artform",name:"Artform",description:"Awareness +1, expertise in Painting and Music, advantage on Crafting tests and tests to entertain",actionCost:1/0,prerequisites:[{type:"talent",target:"singer_ancestry"},{type:"talent",target:"singer_change_form"},{type:"talent",target:"forms_of_finesse"}],tier:2,bonuses:[{type:"attribute",target:"awareness",value:1,scaling:!1,condition:"while in artform"}],grantsAdvantage:["crafting","entertainment"],otherEffects:["Expertise in Painting and Music"]},{id:"forms_of_wisdom",name:"Forms of Wisdom",description:"Gain meditationform and scholarform",actionCost:1/0,prerequisites:[{type:"talent",target:"singer_ancestry"},{type:"talent",target:"singer_change_form"}],tier:1,bonuses:[]},{id:"meditationform",name:"Meditationform",description:"Presence +1, you can aid without spending focus",actionCost:1/0,prerequisites:[{type:"talent",target:"singer_ancestry"},{type:"talent",target:"singer_change_form"},{type:"talent",target:"forms_of_wisdom"}],tier:2,bonuses:[{type:"attribute",target:"presence",value:1,scaling:!1,condition:"while in meditationform"}],otherEffects:["Can aid without spending focus while in meditationform"]},{id:"scholarform",name:"Scholarform",description:"Intellect +1, Temporarily gain a cultural or utility expertise and a rank in a non-surge cognitive skill",actionCost:1/0,prerequisites:[{type:"talent",target:"singer_ancestry"},{type:"talent",target:"singer_change_form"},{type:"talent",target:"forms_of_wisdom"}],tier:2,bonuses:[{type:"attribute",target:"intellect",value:1,scaling:!1,condition:"while in scholarform"}],otherEffects:["Temporarily gain a cultural or utility expertise and a rank in a non-surge cognitive skill while in scholarform"]},{id:"forms_of_resolve",name:"Forms of Resolve",description:"Gain warform and workform",actionCost:1/0,prerequisites:[{type:"talent",target:"singer_ancestry"},{type:"talent",target:"singer_change_form"}],tier:1,bonuses:[]},{id:"warform",name:"Warform",description:"Strength +1, Deflect +1",actionCost:1/0,prerequisites:[{type:"talent",target:"singer_ancestry"},{type:"talent",target:"singer_change_form"},{type:"talent",target:"forms_of_resolve"}],tier:2,bonuses:[{type:"attribute",target:"strength",value:1,scaling:!1,condition:"while in workform"},{type:"deflect",target:"physical",value:1,scaling:!1,condition:"while in workform"}]},{id:"workform",name:"Workform",description:"Willpower +1, ignore Exausted. You can disguise youself as parshman.",actionCost:1/0,prerequisites:[{type:"talent",target:"singer_ancestry"},{type:"talent",target:"singer_change_form"},{type:"talent",target:"forms_of_resolve"}],tier:2,bonuses:[{type:"attribute",target:"willpower",value:1,scaling:!1,condition:"while in workform"}],otherEffects:["Ignore Exhausted condition while in workform","Can disguise yourself as parshman while in workform"]},{id:"ambitious_mind",name:"Ambitious Mind",description:"Increase Cognitive defense by 2. You can bond a Voidspren but once per day on a complication you must test Discipline (DC 15) or be Stunned.",actionCost:1/0,prerequisites:[{type:"talent",target:"singer_ancestry"},{type:"talent",target:"singer_change_form"},{type:"skill",target:"discipline",value:3}],tier:3,bonuses:[{type:"defense",target:"cognitive",value:2,scaling:!1}],otherEffects:["You can bond a Voidspren","Once per day on a complication you must test Discipline (DC 15) or be Stunned"]},{id:"Forms of Destruction",name:"Forms of Destruction",description:"Gain direform and stormform",actionCost:1/0,prerequisites:[{type:"talent",target:"singer_ancestry"},{type:"talent",target:"singer_change_form"},{type:"talent",target:"ambitious_mind"}],tier:4,bonuses:[]},{id:"direform",name:"Direform",description:"Strength + 2, deflect +2. You can use reactive strikes to grapple instead of attacking",actionCost:1/0,prerequisites:[{type:"talent",target:"singer_ancestry"},{type:"talent",target:"singer_change_form"},{type:"talent",target:"forms_of_destruction"},{type:"talent",target:"ambitious_mind"}],tier:4,bonuses:[{type:"attribute",target:"strength",value:2,scaling:!1,condition:"while in direform"},{type:"deflect",target:"physical",value:2,scaling:!1,condition:"while in direform"}]},{id:"stormform",name:"Stormform",description:"Strength + 1, Speed + 1, deflect + 1. You can Unleash Lightning as a 2 action ability: Spend one focus or 1 investiture to make a ranged Discipline attack (60 Feet) vs Physical. Roll 2d8 energy damage, and on a hit, the target is disoriented.",actionCost:1/0,prerequisites:[{type:"talent",target:"singer_ancestry"},{type:"talent",target:"singer_change_form"},{type:"talent",target:"forms_of_destruction"},{type:"talent",target:"ambitious_mind"}],tier:4,bonuses:[{type:"attribute",target:"strength",value:1,scaling:!1,condition:"while in stormform"},{type:"attribute",target:"speed",value:1,scaling:!1,condition:"while in stormform"},{type:"deflect",target:"physical",value:1,scaling:!1,condition:"while in stormform"}],otherEffects:["You can Unleash Lightning as a 2 action ability: Spend one focus or 1 investiture to make a ranged Discipline attack (60 Feet) vs Physical. Roll 2d8 energy damage, and on a hit, the target is disoriented."]},{id:"forms_of_expansion",name:"Forms of Expansion",description:"Gain envoyform and relayform.",actionCost:1/0,prerequisites:[{type:"talent",target:"singer_ancestry"},{type:"talent",target:"singer_change_form"},{type:"talent",target:"ambitious_mind"}],tier:4,bonuses:[]},{id:"envoyform",name:"Envoyform",description:"Intellect + 1, Presence + 1, you know all languages and gain an advantage on Insight tests about the intentions of others.",actionCost:1/0,prerequisites:[{type:"talent",target:"singer_ancestry"},{type:"talent",target:"singer_change_form"},{type:"talent",target:"forms_of_expansion"},{type:"talent",target:"ambitious_mind"}],tier:4,bonuses:[{type:"attribute",target:"intellect",value:1,scaling:!1,condition:"while in envoyform"},{type:"attribute",target:"presence",value:1,scaling:!1,condition:"while in envoyform"}],otherEffects:["You know all languages and gain an advantage on Insight tests about the intentions of others while in envoyform."]},{id:"relayform",name:"Relayform",description:"Speed + 2, ignore slowed. Spend 1 focus to gain an advantage when you test Agility, Stealth, or Thievery.",actionCost:1/0,prerequisites:[{type:"talent",target:"singer_ancestry"},{type:"talent",target:"singer_change_form"},{type:"talent",target:"forms_of_expansion"},{type:"talent",target:"ambitious_mind"}],tier:4,bonuses:[{type:"attribute",target:"speed",value:2,scaling:!1,condition:"while in relayform"}],otherEffects:["Ignore slowed while in relayform.","Spend 1 focus to gain an advantage when you test Agility, Stealth, or Thievery while in relayform."]},{id:"forms_of_mystery",name:"Forms of Mystery",description:"Gain decayform and nightform",actionCost:1/0,prerequisites:[{type:"talent",target:"singer_ancestry"},{type:"talent",target:"singer_change_form"},{type:"talent",target:"ambitious_mind"}],tier:4,bonuses:[]},{id:"decayform",name:"Decayform",description:"Willpower + 2. You can spend 1 focus or 1 investiture to prevent a character within reach from recovering health or focus.",actionCost:1/0,prerequisites:[{type:"talent",target:"singer_ancestry"},{type:"talent",target:"singer_change_form"},{type:"talent",target:"forms_of_mystery"},{type:"talent",target:"ambitious_mind"}],tier:4,bonuses:[{type:"attribute",target:"willpower",value:2,scaling:!1,condition:"while in decayform"}],otherEffects:["You can spend 1 focus or 1 investiture to prevent a character within reach from recovering health or focus while in decayform."]},{id:"nightform",name:"Nightform",description:"Awareness + 1, Intellect + 1, focus + 2. You revceive unpredictable glimpses of the future. Preroll two d20s each session, which you can use to replcae enemy and ally d20 rolls.",actionCost:1/0,prerequisites:[{type:"talent",target:"singer_ancestry"},{type:"talent",target:"singer_change_form"},{type:"talent",target:"forms_of_mystery"},{type:"talent",target:"ambitious_mind"}],tier:4,bonuses:[{type:"attribute",target:"awareness",value:1,scaling:!1,condition:"while in nightform"},{type:"attribute",target:"intellect",value:1,scaling:!1,condition:"while in nightform"},{type:"attribute",target:"focus",value:2,scaling:!1,condition:"while in nightform"}],otherEffects:["You receive unpredictable glimpses of the future. Preroll two d20s each session, which you can use to replace enemy and ally d20 rolls while in nightform."]}]};var Ck={pathName:"Duelist",nodes:[{id:"flamestance",name:"Flamestance",description:"When you acquire this talent, you learn a new stance, which you can enter as an action: Flamestance. While in this stance, you gain an advantage on Intimidation tests. Additionally, while there is exactly one enemy within your reach and none of your allies are within the reach of that enemy or you, you can use a reaction to gain an action, which you can spend only to Gain Advantage or use an action that includes an attack test targeting that enemy.",actionCost:1,prerequisites:[{type:"skill",target:"intimidation",value:1},{type:"talent",target:"vigilant_stance"}],tier:1,bonuses:[],grantsAdvantage:["intimidation_in_flamestance"],otherEffects:["Learn Flamestance (enter as 1 action)","In stance: advantage on Intimidation","When alone with 1 enemy: reaction to gain action (use for Gain Advantage or attack vs that enemy)"]},{id:"practiced_kata",name:"Practiced Kata",description:"When you acquire this talent, you can use fighting stances in conversation and endeavor scenes, in addition to combat. Activating or changing a stance during a conversation or endeavor costs 1 focus and counts as your contribution for the round. Additionally, if you aren't Surprised when a combat, conversation, or endeavor scene begins, you can enter Vigilant Stance at the beginning of that scene (no action required).",actionCost:-2,specialActivation:"Can use stances in non-combat scenes and enter Vigilant Stance at scene start",prerequisites:[{type:"talent",target:"vigilant_stance"}],tier:1,bonuses:[],otherEffects:["Use fighting stances in conversation and endeavor scenes","Activating stance in non-combat costs 1 focus","Enter Vigilant Stance at scene start if not Surprised"]},{id:"ironstance",name:"Ironstance",description:"When you acquire this talent, you learn a new stance, which you can enter as an action: Ironstance. While in this stance, you gain an advantage on Insight tests. Additionally, when a character within your reach misses you or grazes you with an attack, you can use Reactive Strike against them as if they had voluntarily left your reach.",actionCost:1,prerequisites:[{type:"skill",target:"athletics",value:2},{type:"talent",target:"practiced_kata"}],tier:2,bonuses:[],grantsAdvantage:["insight_in_ironstance"],otherEffects:["Learn Ironstance (enter as 1 action)","In stance: advantage on Insight","When missed/grazed by attacker in reach: can Reactive Strike"]},{id:"signature_weapon",name:"Signature Weapon",description:"When you acquire this talent, gain one weapon expertise. Then choose one weapon type in which you have an expertise and denote it in parentheses after this talent's name on your character sheet. Your Opportunity range for tests using this weapon type expands by 1. When you reach tier 3, this Opportunity range instead expands by 2.",actionCost:1/0,prerequisites:[{type:"talent",target:"flamestance"}],tier:2,bonuses:[],otherEffects:["Gain weapon expertise","Choose signature weapon type","Opportunity range +1 with signature weapon (+2 at tier 3)"]},{id:"feinting_strike",name:"Feinting Strike",description:"Spend 2 focus to make a melee weapon attack against a target's Cognitive defense. On a hit, your target also loses one reaction and loses focus equal to your ranks in Intimidation. On a graze, they lose half as much focus (rounded up) and don't lose 1 reaction. You can spend an opportunity from this test to gain 2 actions, which you can use only to Strike or activate a stance.",actionCost:1,prerequisites:[{type:"skill",target:"intimidation",value:2},{type:"talent",target:"flamestance"}],tier:3,bonuses:[],otherEffects:["Spend 2 focus, attack vs Cognitive","Hit: target loses 1 reaction and Intimidation rank focus","Graze: loses half focus (rounded up), keeps reaction","Spend opportunity: gain 2 actions (Strike or activate stance only)"]},{id:"surefooted",name:"Surefooted",description:"When you acquire this talent, increase your movement rate by 10. Additionally, before you take damage from dangerous terrain or falling, reduce that damage by 2 \xD7 your tier.",actionCost:1/0,prerequisites:[{type:"talent",target:"ironstance"}],tier:3,bonuses:[{type:"derived",target:"movement",value:10}],otherEffects:["Reduce terrain/falling damage by 2\xD7tier"]},{id:"vinestance",name:"Vinestance",description:"When you acquire this talent, you learn a new stance, which you can enter as an action: Vinestance. Your Physical and Cognitive defenses increase by 1. Additionally, after you're hit or grazed by a melee attack, you can use a reaction to make an Athletics test against your attacker's Cognitive defense. On a success, your target loses 1d4 focus, and you can push them horizontally up to 5 feet \xD7 your ranks in Athletics.",actionCost:1,prerequisites:[{type:"skill",target:"athletics",value:3},{type:"talent",target:"feinting_strike"}],tier:4,bonuses:[{type:"defense",target:"physical",value:1,condition:"while in vinestance"},{type:"defense",target:"cognitive",value:1,condition:"while in vinestance"}],otherEffects:["Learn Vinestance (enter as 1 action)","In stance: +1 Physical and Cognitive defense","After hit/graze by melee: reaction to test Athletics vs Cognitive","Success: target loses 1d4 focus, push 5\xD7Athletics feet"]},{id:"wits_end",name:"Wit's End",description:"Spend 1 focus to move up to half your movement rate, then make a melee weapon attack against the Cognitive defense of a target who has 0 focus. This attack ignores your target's deflect value and deals an extra 4d6 damage on a hit. It can't graze, only miss or hit. This talent becomes more powerful as your tier increases: at tier 3, you roll an extra 6d6 damage (instead of 4d6); at tier 4, you instead roll an extra 8d6 damage; and at tier 5, you instead roll an extra 10d6 damage.",actionCost:2,prerequisites:[{type:"skill",target:"intimidation",value:3},{type:"talent",target:"feinting_strike"}],tier:4,bonuses:[],otherEffects:["Spend 1 focus, move half movement rate","Attack vs Cognitive defense of 0-focus target","Ignores deflect, deals +4d6 damage (no graze)","Scales: 6d6 at T3, 8d6 at T4, 10d6 at T5"]}]};var xk={pathName:"Shardbearer",nodes:[{id:"shard_training",name:"Shard Training",description:"Once per round, when you use the Strike action to attack with a Shardblade, you can choose a number of additional enemies up to your ranks in the skill you used for that Strike. Each target must be within your Shardblade's reach. Without spending focus, you graze each additional target whose Physical defense is equal to or lower than your Strike's test result. Additionally, when you acquire this talent, gain a specialist expertise in Shardplate, and gain a specialist expertise in either Grandbows, Shardblades, or Warhammers. Finally, while you wear Shardplate, it has 2 additional charges for you.",actionCost:-2,specialActivation:"Once per round when using Strike with Shardblade, can target additional enemies",prerequisites:[{type:"talent",target:"vigilant_stance"}],tier:1,bonuses:[],otherEffects:["Once per round: Strike with Shardblade can graze additional targets (up to skill ranks) if Physical defense \u2264 test result","Gain Shardplate specialist expertise","Gain Grandbows, Shardblades, or Warhammers specialist expertise","Shardplate has +2 charges for you","Requires access to Shardblade and Shardplate for training"]},{id:"stonestance",name:"Stonestance",description:"When you acquire this talent, you learn a new stance, which you can enter as an action: Stonestance. While in this stance, increase your deflect value by 1. Additionally, before an enemy within your melee weapon's reach spends one or more actions to attack one of your allies not in Stonestance, that enemy must spend one additional action.",actionCost:1,prerequisites:[{type:"talent",target:"vigilant_stance"}],tier:1,bonuses:[{type:"deflect",target:"all",value:1,condition:"while in stonestance"}],otherEffects:["Learn Stonestance (enter as 1 action)","In stance: +1 deflect","Enemies in reach must spend +1 action to attack non-Stonestance allies"]},{id:"windstance",name:"Windstance",description:"When you acquire this talent, you learn a new stance, which you can enter as an action: Windstance. While in this stance, you gain an advantage on Agility tests. Additionally, while there are two or more enemies within your reach, you can use a reaction to gain an action, which you can spend only to Disengage or use an action that includes an attack test targeting one or more of those enemies.",actionCost:1,prerequisites:[{type:"skill",target:"perception",value:1},{type:"talent",target:"shard_training"}],tier:2,bonuses:[],grantsAdvantage:["agility_in_windstance"],otherEffects:["Learn Windstance (enter as 1 action)","In stance: advantage on Agility","With 2+ enemies in reach: reaction to gain action (Disengage or attack only)"]},{id:"mighty",name:"Mighty",description:"When you hit with a weapon or unarmed attack, for each action you used on that attack's action, increase the damage you deal by 1 + your tier.",actionCost:1/0,prerequisites:[{type:"talent",target:"stonestance"}],tier:2,bonuses:[],otherEffects:["When hitting with weapon/unarmed attack, each action spent increases damage by 1 + tier"]},{id:"bloodstance",name:"Bloodstance",description:"When you acquire this talent, you learn a new stance, which you can enter as an action: Bloodstance. While in this stance, your Opportunity range for attack tests and physical tests expands by 2, but your Physical, Cognitive, and Spiritual defenses decrease by 2.",actionCost:1,prerequisites:[{type:"skill",target:"athletics",value:2},{type:"talent",target:"mighty",operator:"OR"},{type:"talent",target:"shard_training",operator:"OR"}],tier:3,bonuses:[],otherEffects:["Learn Bloodstance (enter as 1 action)","In stance: Opportunity range +2 for attack/physical tests","In stance: -2 to all three defenses"]},{id:"shattering_blow",name:"Shattering Blow",description:"When you hit a target with a melee attack, if you did so either with a two-handed weapon or with a hand free, you can spend 2 focus to hit with remarkable force. Before resolving that attack's damage, if your target is wearing armor with charges (such as Shardplate), the armor loses 1 charge. After that attack, each target who lost health to your attack is pushed horizontally 5 feet away from you. If your Strength is greater than 5, they're pushed an additional 5 feet for each additional point of Strength. If your target hits a Medium or larger object during this forced movement, the target takes damage as if they'd fallen the distance they were pushed (1d6 impact damage per 10 feet).",actionCost:-2,specialActivation:"When hitting with two-handed weapon or hand free",prerequisites:[{type:"skill",target:"perception",value:2},{type:"talent",target:"windstance"}],tier:3,bonuses:[],otherEffects:["When hitting with two-handed/hand free, spend 2 focus","Before damage: armor loses 1 charge","After damage: push target 5 feet (+5 per Strength above 5)","If pushed into object: 1d6 impact per 10 feet pushed"]},{id:"meteoric_leap",name:"Meteoric Leap",description:"Spend 2 focus to leap up to a quarter of your movement rate, then make an unarmed attack against the Physical defense of each character of your choice within your reach. While wearing Shardplate, you gain an advantage on this test. Roll double the usual damage dice for this attack. On a hit, each target whose Strength score is lower than yours is also knocked Prone.",actionCost:2,prerequisites:[{type:"skill",target:"athletics",value:3},{type:"talent",target:"bloodstance"}],tier:4,bonuses:[],otherEffects:["Spend 2 focus, leap quarter movement rate","Unarmed attack vs Physical of all chosen targets in reach","Advantage when wearing Shardplate","Roll double damage dice","Hit: targets with lower Strength knocked Prone"]},{id:"precise_parry",name:"Precise Parry",description:"Before being hit by a melee attack, you can use this reaction and spend 1 focus to attempt to parry the blow. Depending on whether you're unarmed or wielding a weapon, make one of the following tests: Unarmed - Make an Athletics test, gaining a disadvantage unless you're being attacked with a Shardblade. You can spend opportunity to disarm your opponent. Wielding a Weapon - Make a Light Weaponry test or Heavy Weaponry test (using the skill corresponding to your weapon). If you're wielding a Shardblade and if your opponent's weapon is non-Invested, you can spend an action to destroy their weapon. The DC of this test equals the result of the attack test that hit you. On a success, the hit against you becomes a graze.",actionCost:-1,prerequisites:[{type:"skill",target:"perception",value:3},{type:"talent",target:"shattering_blow"}],tier:4,bonuses:[],otherEffects:["Reaction before being hit, spend 1 focus","Unarmed: Athletics test (disadvantage unless vs Shardblade), spend opportunity to disarm","Weapon: Light/Heavy Weaponry test, spend action to destroy non-Invested weapon with Shardblade","DC = attack result, success turns hit to graze"]}]};var wk={pathName:"Soldier",nodes:[{id:"cautious_advance",name:"Cautious Advance",description:"Move up to half your movement rate, ignoring difficult terrain, then gain an action that can be spent only on the Brace or Gain Advantage actions.",actionCost:2,prerequisites:[{type:"skill",target:"discipline",value:1},{type:"talent",target:"vigilant_stance"}],tier:1,bonuses:[],otherEffects:["Move half movement rate (ignore difficult terrain)","Gain 1 action for Brace or Gain Advantage only"]},{id:"combat_training",name:"Combat Training",description:"Once per round, when you miss on a weapon attack, you can graze one target without spending focus. Additionally, when you acquire this talent, gain a weapon expertise and an armor expertise of your choice, and gain a cultural expertise in Military Life.",actionCost:-2,specialActivation:"Once per round when you miss on weapon attack",prerequisites:[{type:"talent",target:"vigilant_stance"}],tier:1,bonuses:[],otherEffects:["Once per round: can graze on miss without spending focus","Gain weapon expertise","Gain armor expertise","Gain Military Life cultural expertise"]},{id:"defensive_position",name:"Defensive Position",description:"The Brace action adds two disadvantages to attacks against you, instead of one. Additionally, while you're using a shield to Brace, allies within 5 feet of you can Brace as if they had cover or a shield.",actionCost:1/0,prerequisites:[{type:"skill",target:"athletics",value:2},{type:"talent",target:"cautious_advance"}],tier:2,bonuses:[],otherEffects:["Brace adds 2 disadvantages instead of 1","When Bracing with shield, allies within 5 feet can Brace as if they had cover/shield"]},{id:"devastating_blow",name:"Devastating Blow",description:"Make a melee weapon attack against the Physical defense of a target. When you roll damage for this attack, add an extra 2d8 damage. This talent becomes more powerful as your tier increases: at tier 3, you roll an extra 3d8 damage (instead of 2d8); at tier 4, you instead roll an extra 4d8 damage; and at tier 5, you instead roll an extra 5d8 damage.",actionCost:2,prerequisites:[{type:"skill",target:"athletics",value:3},{type:"talent",target:"combat_training"}],tier:2,bonuses:[],otherEffects:["Melee attack vs Physical with extra damage","Extra damage: 2d8 (3d8 at T3, 4d8 at T4, 5d8 at T5)"]},{id:"formation_drills",name:"Formation Drills",description:"While an ally within 10 feet of you benefits from the Brace action, they also benefit from your Defensive Position as if they had that talent themself.",actionCost:1/0,prerequisites:[{type:"skill",target:"discipline",value:2},{type:"talent",target:"defensive_position"}],tier:3,bonuses:[],otherEffects:["Allies within 10 feet using Brace also gain your Defensive Position benefits"]},{id:"hardy",name:"Hardy",description:"When you acquire this talent, your maximum and current health increase by 1 per level. This applies to all previous and future levels.",actionCost:1/0,prerequisites:[{type:"talent",target:"combat_training"}],tier:3,bonuses:[],otherEffects:["Increase max and current health by 1 per level (retroactive and future)"]},{id:"swift_strikes",name:"Swift Strikes",description:"Spend 1 focus to make a second Strike action with a hand you already used for a Strike this turn.",actionCost:1,prerequisites:[{type:"talent",target:"hardy"}],tier:4,bonuses:[],otherEffects:["Spend 1 focus to Strike again with same hand"]},{id:"wary",name:"Wary",description:"While you have 1 or more focus, you can't be Surprised. Additionally, when you resist influence or lose focus involuntarily, reduce the amount of focus lost by your ranks in Discipline (to a minimum of 1 focus lost).",actionCost:1/0,prerequisites:[{type:"skill",target:"discipline",value:3},{type:"talent",target:"defensive_position"}],tier:4,bonuses:[],otherEffects:["Cannot be Surprised while at 1+ focus","When resisting influence or losing focus involuntarily: reduce loss by Discipline ranks (min 1)"]}]};var Mk={name:"Warrior",paths:[wk,Ck,xk],talentNodes:[{id:"vigilant_stance",name:"Vigilant Stance",description:"Enter Vigilant Stance: Reduce the focus cost of Dodge and Reactive Strike by 1, and you can enter other stances as a reaction.",actionCost:1,prerequisites:[],tier:0,bonuses:[],otherEffects:["Reduce focus cost of Dodge and Reactive Strike by 1; can enter other stances as a reaction."]}]};var Ek={pathName:"Artifabrian",nodes:[{id:"efficient_engineer",name:"Efficient Engineer",description:"When you acquire this talent, gain a utility expertise in Armor Crafting, Equipment Crafting, or Weapon Crafting. You also gain one of the following: an amplifying painrial, a numbing painrial, or a pair of spanreeds plus an emotion bracelet. Additionally, when you attempt to craft an item or invent a fabrial, your Opportunity range on those tests expands by 2, and any cost to acquire raw materials is reduced by half.",actionCost:1/0,prerequisites:[{type:"skill",target:"crafting",value:1},{type:"talent",target:"education"}],tier:1,bonuses:[],otherEffects:["Gain utility expertise in Armor/Equipment/Weapon Crafting (choose one)","Gain amplifying painrial, numbing painrial, or spanreeds+emotion bracelet","Crafting/fabrial invention: Opportunity range +2, material costs halved"]},{id:"prized_acquisition",name:"Prized Acquisition",description:"When you acquire this talent, you gain a specialist expertise in Fabrial Crafting. Additionally, you gain a specially cut gemstone and can use it to craft a fabrial. The first time you attempt to craft a fabrial with this gem, you ignore the usual time requirements for attracting a spren and crafting the fabrial, though you still need raw materials. This gem fulfills the gem requirement for a unique fabrial with a tier equal to your current character tier. If you lose it, you can usually find an appropriate replacement after a long rest. During downtime, you can salvage your fabrial to recover this gem.",actionCost:-2,specialActivation:"First fabrial crafting with gem ignores time requirements",prerequisites:[{type:"talent",target:"education"}],tier:1,bonuses:[],otherEffects:["Gain Fabrial Crafting specialist expertise","Gain gemstone for unique fabrial (tier = character tier)","First crafting with gem ignores time requirements","Can salvage fabrial to recover gem","Can replace lost gem after long rest"]},{id:"deep_study",name:"Deep Study",description:"When you acquire this talent, your Erudition talent grants you one additional cultural or utility expertise, and it grants you two additional cognitive skills that aren't surge skills. You can reassign these in the same way as the others you gained from that talent.",actionCost:1/0,prerequisites:[{type:"talent",target:"efficient_engineer"}],tier:2,bonuses:[],otherEffects:["Erudition grants +1 cultural or utility expertise","Erudition grants +2 cognitive skills (non-surge)","Can reassign like other Erudition benefits"]},{id:"fine_handiwork",name:"Fine Handiwork",description:"When you craft an item or invent a fabrial, you can spend one upgrade to apply an advanced feature, instead of spending two upgrades. You can only benefit from this talent once per item.",actionCost:-2,specialActivation:"When crafting item or inventing fabrial",prerequisites:[{type:"talent",target:"efficient_engineer"}],tier:3,bonuses:[],otherEffects:["Apply advanced feature for 1 upgrade instead of 2 (once per item)"]},{id:"inventive_design",name:"Inventive Design",description:"When you craft a fabrial using your gemstone from your Prized Acquisition, you can select an effect of 1 tier higher than the tier you're currently crafting.",actionCost:1/0,prerequisites:[{type:"skill",target:"crafting",value:2},{type:"talent",target:"prized_acquisition"}],tier:2,bonuses:[],otherEffects:["When crafting fabrial with Prized Acquisition gem, can select effect 1 tier higher"]},{id:"overcharge",name:"Overcharge",description:"Once per turn, when you make an attack test using a fabrial, you can raise the stakes. You can spend opportunity from this test to use the Strike action with that fabrial as a free action on the same turn; that Strike doesn't count against your allowed number of Strikes for the hands holding that weapon. The GM can spend opportunity from this test to add one new drawback to that fabrial. This drawback remains until you resolve the unexpected issue by succeeding on a DC 15 Crafting test made as a reaction.",actionCost:-2,specialActivation:"Once per turn when making attack test using fabrial",prerequisites:[{type:"skill",target:"crafting",value:3},{type:"talent",target:"prized_acquisition"}],tier:3,bonuses:[],otherEffects:["Raise stakes on fabrial attack","Spend opportunity: Strike as free action (doesn't count against limit)","GM spends opportunity: add drawback until DC 15 Crafting test resolves it"]},{id:"experimental_tinkering",name:"Experimental Tinkering",description:"When you craft an item or invent a fabrial, your Opportunity range on those tests expands by 1, and your crafting time is halved. Additionally, you can forgo the usual benefits of a long rest to instead spend that time tinkering with a fabrial that uses your Prized Acquisition gem. After that long rest, you can attempt to reconfigure this fabrial to create a different fabrial of the same tier or lower; this follows the normal crafting process, except you don't need new materials and you ignore the usual time requirement for attracting a spren and crafting the fabrial. If you fail your Lore test to trap a spren, your previous fabrial remains intact, but you can't use this talent to reconfigure a fabrial again until your next long rest. After you finish crafting a new fabrial using this talent, the old fabrial is lost.",actionCost:-2,specialActivation:"Can reconfigure fabrial during long rest",prerequisites:[{type:"talent",target:"fine_handiwork"}],tier:4,bonuses:[],otherEffects:["Crafting/fabrial: Opportunity range +1, time halved","Forgo long rest to reconfigure Prized Acquisition fabrial","Reconfiguration: no materials needed, no time requirement, same tier or lower","Failed spren trap: old fabrial intact, can't reconfigure until next long rest","Success: old fabrial lost"]},{id:"overwhelm_with_detail",name:"Overwhelm With Detail",description:"Spend 2 focus to make a cognitive or spiritual test using your Lore modifier instead of the usual skill modifier for that test.",actionCost:-2,specialActivation:"When making cognitive or spiritual test",prerequisites:[{type:"skill",target:"lore",value:3},{type:"talent",target:"experimental_tinkering"}],tier:4,bonuses:[],otherEffects:["Spend 2 focus to use Lore modifier for cognitive or spiritual test"]}]};var Sk={pathName:"Strategist",nodes:[{id:"mind_and_body",name:"Mind and Body",description:"When you acquire this talent, your Erudition talent grants you an additional skill, and you can use Erudition to choose physical skills that aren't surges. Additionally, gain one weapon expertise of your choice.",actionCost:1/0,prerequisites:[{type:"talent",target:"education"}],tier:1,bonuses:[],otherEffects:["Erudition grants +1 skill","Erudition can select physical skills (non-surge)","Gain weapon expertise of choice"]},{id:"strategize",name:"Strategize",description:"After you succeed on a test to Gain Advantage using a skill gained from your Erudition, you can choose an ally you can influence. That ally gains the benefits of your Gain Advantage action instead of you. When you use this talent, you can also spend 2 focus to prevent the target of your Gain Advantage from using reactions against the ally you chose until the end of your next turn.",actionCost:-2,specialActivation:"After succeeding on Gain Advantage with Erudition skill",prerequisites:[{type:"skill",target:"deduction",value:1},{type:"talent",target:"education"}],tier:1,bonuses:[],otherEffects:["After Gain Advantage with Erudition skill, ally gains benefit instead of you","Can spend 2 focus to prevent target's reactions against chosen ally until end of next turn"]},{id:"composed",name:"Composed",description:"When you acquire this talent, your maximum and current focus increase by a number equal to your tier. When your tier increases by 1, your maximum and current focus do as well.",actionCost:1/0,prerequisites:[{type:"talent",target:"strategize"}],tier:2,bonuses:[],otherEffects:["Increase max and current focus by tier","Increase focus by 1 when tier increases"]},{id:"know_your_moment",name:"Know Your Moment",description:"After the beginning of each round, each of your defenses increases by 2 until the start of your turn.",actionCost:1/0,prerequisites:[{type:"skill",target:"deduction",value:2},{type:"talent",target:"mind_and_body"}],tier:2,bonuses:[],otherEffects:["After beginning of each round: +2 to all defenses until start of your turn"]},{id:"deep_contemplation",name:"Deep Contemplation",description:"Reassign up to 2 of the skills and expertises gained from your Erudition.",actionCost:2,prerequisites:[{type:"skill",target:"lore",value:2},{type:"talent",target:"composed"}],tier:3,bonuses:[],otherEffects:["Reassign up to 2 skills/expertises from Erudition"]},{id:"keen_insight",name:"Keen Insight",description:"After you succeed on a test to Gain Advantage, you exploit one of your target's crucial traits, strengths, or flaws. Unless the target resists your influence, they gain a disadvantage on their next test during this encounter.",actionCost:1/0,prerequisites:[{type:"talent",target:"deep_contemplation"}],tier:3,bonuses:[],otherEffects:["After successful Gain Advantage, target has disadvantage on next test (unless resisted)"]},{id:"contingency",name:"Contingency",description:"After an ally you can influence within 20 feet of you rolls a Complication, you can use this reaction and spend 2 focus to remove a Complication from their test.",actionCost:-1,prerequisites:[{type:"skill",target:"lore",value:3},{type:"talent",target:"composed"}],tier:4,bonuses:[],otherEffects:["Reaction when ally within 20 feet rolls Complication","Spend 2 focus to remove Complication from their test"]},{id:"turning_point",name:"Turning Point",description:"Once per scene, you can spend 2 focus to find a weakness in an opposing group's strategy. Make a Deduction test against the Cognitive defense of the top-ranking enemy leader in this scene; to target this leader, you must be able to sense them. If you took a slow turn, you gain an advantage on this test. On a success, you and your allies you can influence gain an additional action on your next turns.",actionCost:2,prerequisites:[{type:"skill",target:"deduction",value:3},{type:"talent",target:"contingency"}],tier:4,bonuses:[],otherEffects:["Once per scene, spend 2 focus","Test Deduction vs enemy leader's Cognitive defense","Advantage if took slow turn","Success: you and allies gain +1 action next turn"]}]};var Ok={pathName:"Surgeon",nodes:[{id:"emotional_intelligence",name:"Emotional Intelligence",description:"When you acquire this talent, your Erudition talent grants you an additional skill, and you can use Erudition to choose spiritual skills that aren't surges. Additionally, you gain a utility expertise in Diagnosis.",actionCost:1/0,prerequisites:[{type:"talent",target:"education"}],tier:1,bonuses:[],otherEffects:["Erudition grants +1 skill","Erudition can select spiritual skills (non-surge)","Gain Diagnosis utility expertise"]},{id:"field_medicine",name:"Field Medicine",description:"Spend 1 focus to make a DC 15 Medicine test to treat a conscious willing character within your reach, and roll the target's recovery die as part of this test. You gain a disadvantage if you're treating yourself. On a success, your target recovers health equal to the result of their recovery die + your ranks in Medicine. On a failure, your target only recovers health equal to the result of their recovery die.",actionCost:1,prerequisites:[{type:"skill",target:"medicine",value:1},{type:"talent",target:"education"}],tier:1,bonuses:[],otherEffects:["Spend 1 focus, test Medicine DC 15","Roll target's recovery die","Disadvantage when treating self","Success: recover recovery die + Medicine ranks","Failure: recover recovery die only"]},{id:"anatomical_insight",name:"Anatomical Insight",description:"When you hit a target of your size or smaller with an unarmed attack, you can spend 1 focus to apply the Exhausted condition to your target. The penalty applied by this condition equals half your ranks in Medicine, rounded up.",actionCost:-2,specialActivation:"When hitting with unarmed attack against same-size or smaller target",prerequisites:[{type:"talent",target:"field_medicine"}],tier:2,bonuses:[],otherEffects:["When hitting with unarmed attack on size-equal/smaller target, spend 1 focus to apply Exhausted","Exhausted penalty = half Medicine ranks (rounded up)"]},{id:"collected",name:"Collected",description:"When you acquire this talent, increase your Cognitive and Spiritual defenses by 2.",actionCost:1/0,prerequisites:[{type:"talent",target:"emotional_intelligence"}],tier:2,bonuses:[{type:"defense",target:"cognitive",value:2},{type:"defense",target:"spiritual",value:2}]},{id:"swift_healer",name:"Swift Healer",description:"You can use your Field Medicine as a free action. Additionally, when you acquire this talent, you become more skilled in healing. When you use an ability that restores health to another character, they recover additional health equal to your ranks in Medicine.",actionCost:0,prerequisites:[{type:"skill",target:"medicine",value:2},{type:"talent",target:"field_medicine"}],tier:3,bonuses:[],otherEffects:["Use Field Medicine as free action","When restoring health to others, they recover additional health equal to Medicine ranks"]},{id:"applied_medicine",name:"Applied Medicine",description:"When you cause a character to recover health, they recover additional health equal to your ranks in Lore.",actionCost:1/0,prerequisites:[{type:"skill",target:"lore",value:2},{type:"talent",target:"collected"}],tier:3,bonuses:[],otherEffects:["When causing health recovery, add Lore ranks to amount recovered"]},{id:"ongoing_care",name:"Ongoing Care",description:"You can forgo the usual benefits of a short or long rest to instead spend that time treating an ally within your reach. After that rest, make a DC 10 Medicine test, increasing the difficulty by 5 for each injury the target has beyond the first. On a success, you remove a single condition or similar effect caused by one of the target's injuries (but the injury itself remains until healed). A target can't benefit from this talent more than once every 24 hours. Additionally, when you acquire this talent, gain a utility expertise in Mental Health Care.",actionCost:-2,specialActivation:"Forgo rest benefits to treat ally during rest",prerequisites:[{type:"skill",target:"lore",value:3},{type:"talent",target:"swift_healer"}],tier:4,bonuses:[],otherEffects:["Forgo short/long rest to treat ally","Test Medicine DC 10 (+5 per injury beyond first)","Success: remove 1 condition from injury","Target can benefit once per 24 hours","Gain Mental Health Care utility expertise"]},{id:"resuscitation",name:"Resuscitation",description:"You can use your Field Medicine talent to attempt to resuscitate a fallen character. When you do, spend 3 focus (instead of 1) to target a character within your reach who is Unconscious or who died within a number of rounds equal to your ranks in Medicine. That talent's test DC increases by 5 for each injury the target has beyond the first. On a failure, the target doesn't regain health. On a success, the target recovers health as usual for that talent, and if they were dead, they return to life. If they were Unconscious, they can choose to remove that condition if they wish.",actionCost:-2,specialActivation:"Use Field Medicine on Unconscious or recently dead target",prerequisites:[{type:"skill",target:"medicine",value:3},{type:"talent",target:"swift_healer"}],tier:4,bonuses:[],otherEffects:["Use Field Medicine to resuscitate","Spend 3 focus instead of 1","Target Unconscious or died within Medicine rank rounds","DC +5 per injury beyond first","Success: recover health, return to life if dead, optionally remove Unconscious"]}]};var Pk={name:"Scholar",paths:[Ek,Sk,Ok],talentNodes:[{id:"education",name:"Education",description:"Temporarily gain a cultural or utility expertise and a rank in two non-surge cognative skills. Reassign these after a long rest with library access.",actionCost:-2,specialActivation:"After a long rest with library access, reassign expertise and skill ranks",prerequisites:[],tier:0,bonuses:[],otherEffects:["Gain temporary cultural/utility expertise","Gain temporary rank in two non-surge cognative skills"]}]};var kk={pathName:"Archer",nodes:[{id:"combat_training",name:"Combat Training",description:"Once per round, when you miss on a weapon attack, you can graze one target without spending focus. Additionally, when you acquire this talent, gain a weapon expertise and an armor expertise of your choice, and gain a cultural expertise in Military Life.",actionCost:-2,specialActivation:"Once per round when you miss on a weapon attack",prerequisites:[{type:"talent",target:"seek_quarry"}],tier:1,bonuses:[],otherEffects:["Once per round, can graze on miss without spending focus","Gain weapon expertise","Gain armor expertise","Gain Military Life cultural expertise"]},{id:"steady_aim",name:"Steady Aim",description:"Until the end of your turn, both the short and long ranges of your ranged weapons increase by half, and when you hit with a ranged weapon attack, you deal extra damage equal to your ranks in Perception.",actionCost:1,prerequisites:[{type:"skill",target:"agility",value:1},{type:"talent",target:"combat_training"}],tier:2,bonuses:[],otherEffects:["Ranged weapon ranges increase by 50%","Deal extra damage equal to Perception ranks on ranged weapon hits"]},{id:"tagging_shot",name:"Tagging Shot",description:"Move up to 5 feet and make a ranged weapon attack against the Physical defense of a target. On a hit or a graze, you also make the target your quarry for your Seek Quarry talent.",actionCost:3,prerequisites:[{type:"skill",target:"perception",value:2},{type:"talent",target:"seek_quarry"}],tier:1,bonuses:[],otherEffects:["Move up to 5 feet and make ranged attack","On hit or graze, target becomes your quarry"]},{id:"backstep",name:"Backstep",description:"After you make a ranged attack, spend 2 focus to Disengage as a free action. If you then end your turn in cover or an area where your enemy's senses are obscured, you gain the benefit of the Brace action.",actionCost:0,prerequisites:[{type:"skill",target:"agility",value:2},{type:"talent",target:"steady_aim"}],tier:3,bonuses:[],otherEffects:["After ranged attack, spend 2 focus to Disengage as free action","If ending turn in cover/obscured area, gain Brace action benefit"]},{id:"hardy",name:"Hardy",description:"When you acquire this talent, your maximum and current health increase by 1 per level. This applies to all previous and future levels.",actionCost:1/0,prerequisites:[{type:"talent",target:"steady_aim"}],tier:4,bonuses:[],otherEffects:["Increase max and current health by 1 per level (retroactive and future)"]},{id:"sharp_eye",name:"Sharp Eye",description:"After you observe your quarry for an action, or after you observe another character for at least 1 minute, make a Perception test against their Cognitive defense. On a success, you learn one of the following: the target's lowest attribute score, the target's lowest defense, or whether the target has lost more than half of their maximum health, focus, or Investiture (choose one).",actionCost:-2,specialActivation:"After observing quarry for 1 action, or other character for 1 minute",prerequisites:[{type:"talent",target:"tagging_shot"}],tier:2,bonuses:[],otherEffects:["Test Perception vs Cognitive defense to learn: lowest attribute, lowest defense, or if lost >50% of health/focus/Investiture"]},{id:"exploit_weakness",name:"Exploit Weakness",description:"Use the Gain Advantage action as a free action, targeting only your quarry.",actionCost:0,prerequisites:[{type:"skill",target:"perception",value:3},{type:"talent",target:"sharp_eye"}],tier:3,bonuses:[],otherEffects:["Use Gain Advantage as free action against quarry only"]},{id:"unrelenting_salvo",name:"Unrelenting Salvo",description:"You can use the same ranged weapon to Strike against your quarry more than once a turn, instead of being limited to one Strike per hand.",actionCost:1/0,prerequisites:[{type:"skill",target:"agility",value:3},{type:"talent",target:"hardy"}],tier:4,bonuses:[],otherEffects:["Can Strike quarry multiple times per turn with same ranged weapon"]}]};var Ik={pathName:"Assassin",nodes:[{id:"killing_edge",name:"Killing Edge",description:"When you acquire this talent, gain weapon expertises in Knives and Slings. Additionally, while you wield a knife or sling, it also has the Deadly and Quickdraw expert traits for you.",actionCost:1/0,prerequisites:[{type:"skill",target:"perception",value:2},{type:"talent",target:"seek_quarry"}],tier:1,bonuses:[],otherEffects:["Gain Knives weapon expertise","Gain Slings weapon expertise","Knives and slings gain Deadly and Quickdraw traits"]},{id:"startling_blow",name:"Startling Blow",description:"Make an unarmed or improvised weapon attack against the Cognitive defense of a target of your size or smaller. On a hit or graze, the target also becomes Surprised until the end of your next turn.",actionCost:1,prerequisites:[{type:"skill",target:"stealth",value:1},{type:"talent",target:"seek_quarry"}],tier:1,bonuses:[],otherEffects:["Attack unarmed/improvised weapon vs Cognitive defense","On hit or graze, target becomes Surprised until end of next turn","Only works on targets of same size or smaller"]},{id:"shadowing",name:"Shadowing",description:"You gain an advantage on tests to avoid being sensed by your quarry, and your quarry gains a disadvantage on tests to sense you. Additionally, when you succeed on a test against an enemy's Spiritual defense while you're in cover or an area where your target's senses are obscured, you can spend 3 focus to designate that target as your quarry for your Seek Quarry talent.",actionCost:-2,specialActivation:"Special activation for marking quarry when succeeding on test vs Spiritual defense while in cover",prerequisites:[{type:"skill",target:"stealth",value:2},{type:"talent",target:"killing_edge"}],tier:2,bonuses:[],grantsAdvantage:["avoid_being_sensed_by_quarry"],otherEffects:["Quarry has disadvantage on tests to sense you","While in cover/obscured, can spend 3 focus after succeeding vs Spiritual to mark target as quarry"]},{id:"cold_eyes",name:"Cold Eyes",description:"After you kill or incapacitate an enemy who is your quarry, you recover 1 focus and can designate another enemy you can sense as your quarry for your Seek Quarry talent.",actionCost:1/0,prerequisites:[{type:"talent",target:"shadowing"}],tier:3,bonuses:[],otherEffects:["After killing/incapacitating quarry, recover 1 focus and designate new quarry"]},{id:"fatal_thrust",name:"Fatal Thrust",description:"Using a light weapon, make a melee attack against the Cognitive defense of a target who is Surprised, doesn't sense you, or doesn't view you as a threat. If this weapon has the Discreet trait, you gain two advantages on the test. When you roll damage for this attack, add an extra 4d4 damage, then count the number of your damage dice that rolled their maximum value. For each die that rolled its maximum, your target must subtract 2 from any injury roll they make for that attack. Scales with tier: tier 3 (6d4), tier 4 (8d4), tier 5 (10d4).",actionCost:2,prerequisites:[{type:"skill",target:"perception",value:3},{type:"talent",target:"startling_blow"}],tier:2,bonuses:[],otherEffects:["Attack vs Cognitive defense with light weapon against Surprised/unaware target","Discreet weapon grants two advantages","Add 4d4 damage (6d4 at tier 3, 8d4 at tier 4, 10d4 at tier 5)","Each max die roll subtracts 2 from target's injury roll"]},{id:"mighty",name:"Mighty",description:"When you hit with a weapon or unarmed attack, for each action you used on that attack's action, increase the damage you deal by 1 + your tier.",actionCost:1/0,prerequisites:[{type:"talent",target:"cold_eyes"}],tier:3,bonuses:[],otherEffects:["When hitting with weapon/unarmed attack, each action spent increases damage by 1 + tier"]},{id:"sidestep",name:"Sidestep",description:"Gain an additional reaction at the start of combat and at the start of each of your turns, which you can use only to Dodge. You can't benefit from this talent while wearing armor with a deflect value of 2 or higher.",actionCost:-2,specialActivation:"Gain additional reaction for Dodge at start of combat and each turn",prerequisites:[{type:"skill",target:"stealth",value:3},{type:"talent",target:"shadowing"}],tier:4,bonuses:[],otherEffects:["Gain 1 reaction for Dodge only at combat start and each turn start","Cannot use while wearing armor with deflect 2+"]},{id:"swift_strikes",name:"Swift Strikes",description:"Spend 1 focus to make a second Strike action with a hand you already used for a Strike this turn.",actionCost:1,prerequisites:[{type:"talent",target:"cold_eyes"}],tier:4,bonuses:[],otherEffects:["Spend 1 focus to Strike again with same hand"]}]};var Dk={pathName:"Tracker",nodes:[{id:"animal_bond",name:"Animal Bond",description:"Upgrades an animal companion you've gained as a reward. You can communicate simple concepts with your animal companion. They alert you of danger (+1 to all defenses while within 10 feet). During combat, can use free action to have them act with 1-2 actions immediately (borrowing from their next turn). Animal companion can use Track action (2 actions) to mark target as quarry.",actionCost:-2,specialActivation:"Free action to command animal companion during your turn",prerequisites:[{type:"talent",target:"seek_quarry"}],tier:1,bonuses:[{type:"defense",target:"physical",value:1,condition:"while animal companion within 10 feet"},{type:"defense",target:"cognitive",value:1,condition:"while animal companion within 10 feet"},{type:"defense",target:"spiritual",value:1,condition:"while animal companion within 10 feet"}],otherEffects:["Requires animal companion reward","Communicate simple concepts with companion","Companion moves with you automatically","Free action to give companion 1-2 actions (borrowed from next turn)","Companion can Track (2 actions) to mark quarry","Companion retreats at 0 health instead of becoming Unconscious"]},{id:"deadly_trap",name:"Deadly Trap",description:"Create and conceal a trap within your reach using foraged supplies or equipment. Choose entangling trap (2d4 impact damage, Immobilized 1 round, difficult terrain) or impaling trap (2d4 keen damage, Afflicted [vital 3+Survival ranks], can spend opportunity for injury). Trap covers 5-foot diameter, triggers when touched. Max traps equal to Survival ranks. Disarm DC equals your Spiritual defense. Gain advantage if target is quarry.",actionCost:2,prerequisites:[{type:"skill",target:"survival",value:1},{type:"talent",target:"seek_quarry"}],tier:1,bonuses:[],otherEffects:["Create entangling or impaling trap","Entangling: 2d4 impact, Immobilized 1 round, difficult terrain","Impaling: 2d4 keen, Afflicted [vital 3+Survival], opportunity for injury","5-foot diameter area","Max active traps = Survival ranks","Advantage against quarry","Disarm DC = your Spiritual defense"]},{id:"protective_bond",name:"Protective Bond",description:"Assign your animal companion to protect an ally within 30 feet. Animal companion moves to ally's side. While within reach of that ally, you lose the Animal Bond defense bonus and the ally gains it instead. Ends when you use action within 30 feet of companion or at end of scene.",actionCost:1,prerequisites:[{type:"talent",target:"animal_bond"}],tier:2,bonuses:[],otherEffects:["Assign companion to protect ally within 30 feet","Ally gains +1 to all defenses while companion in reach","You lose Animal Bond defense bonus while active","End with action if within 30 feet, or at end of scene"]},{id:"experienced_trapper",name:"Experienced Trapper",description:"Forage during short rest without using full attention (can roll recovery die). Auto-succeed on Survival tests to forage for food/water (sustains Survival ranks number of characters). After long rest in wilderness, can fashion survival tool using Survival instead of Crafting. Deadly Trap damage increases to 2d6 and conditions last 2 rounds.",actionCost:-2,specialActivation:"Various automatic benefits when foraging and resting",prerequisites:[{type:"skill",target:"perception",value:2},{type:"talent",target:"deadly_trap"}],tier:2,bonuses:[],otherEffects:["Forage during short rest without losing recovery die","Auto-succeed foraging for food/water (sustains Survival rank characters)","Fashion tool after long rest using Survival","Deadly Trap: 2d4\u21922d6 damage, 1\u21922 round conditions"]},{id:"feral_connection",name:"Feral Connection",description:"Animal companion's max and current health increase by 5 \xD7 your tier (scales with tier increases). Companion's Physical, Cognitive, and Spiritual defenses increase by 2 each. Companion adds your Survival ranks as bonus to their tests. Gain Animal Care utility expertise.",actionCost:1/0,prerequisites:[{type:"skill",target:"survival",value:2},{type:"talent",target:"protective_bond"}],tier:3,bonuses:[],otherEffects:["Companion gains 5\xD7tier max health (scales with tier)","Companion gains +2 to all three defenses","Companion adds Survival ranks to tests","Gain Animal Care utility expertise"]},{id:"hunter_edge",name:"Hunter's Edge",description:"Your animal companion gains an advantage on tests against your quarry. Deadly Trap damage increases to 2d8 and conditions last 3 rounds.",actionCost:1/0,prerequisites:[{type:"skill",target:"survival",value:3},{type:"talent",target:"experienced_trapper"}],tier:4,bonuses:[],otherEffects:["Companion has advantage on tests against quarry","Deadly Trap: 2d6\u21922d8 damage, 2\u21923 round conditions"]},{id:"pack_hunting",name:"Pack Hunting",description:"When an ally in your line of effect attacks your quarry, you can use this reaction and spend 1 focus to add your ranks in Survival to either the result of their attack test or their damage roll (your choice).",actionCost:-1,prerequisites:[{type:"skill",target:"perception",value:3},{type:"talent",target:"protective_bond"}],tier:4,bonuses:[],otherEffects:["Reaction when ally attacks your quarry","Spend 1 focus to add Survival ranks to attack roll or damage"]},{id:"surefooted",name:"Surefooted",description:"Increase your movement rate by 10. Before taking damage from dangerous terrain or falling, reduce that damage by 2 \xD7 your tier.",actionCost:1/0,prerequisites:[{type:"talent",target:"experienced_trapper"}],tier:3,bonuses:[{type:"derived",target:"movement",value:10}],otherEffects:["Reduce terrain/falling damage by 2\xD7tier"]}]};var Tk={name:"Hunter",paths:[kk,Ik,Dk],talentNodes:[{id:"seek_quarry",name:"Seek Quarry",description:"Choose a character to be your quarry, gaining an advantage on tests to find, attack and study them.",actionCost:-2,specialActivation:"Choose a character as your quarry. Gain advantage on tests to find, attack, and study them.",prerequisites:[],tier:0,bonuses:[]}]};var Ak={pathName:"Champion",nodes:[{id:"combat_coordination",name:"Combat Coordination",description:"After you use the Strike action, use Decisive Command as a free action. If your Strike didn't hit, you also don't have to spend the usual focus for Decisive Command.",actionCost:0,prerequisites:[{type:"skill",target:"leadership",value:2},{type:"talent",target:"decisive_command"}],tier:1,bonuses:[],otherEffects:["After Strike, use Decisive Command as free action","If Strike missed, don't spend focus for Decisive Command"]},{id:"valiant_intervention",name:"Valiant Intervention",description:"Spend 1 focus to move up to 10 feet, then make an Athletics test against the Spiritual defense of an enemy you can influence. On a success, they gain a disadvantage on tests against your allies until the end of the target's next turn. A target can resist this influence, but after they do, you gain an advantage on your next test against them until the end of your next turn.",actionCost:1,prerequisites:[{type:"skill",target:"athletics",value:1},{type:"talent",target:"decisive_command"}],tier:1,bonuses:[],otherEffects:["Spend 1 focus to move 10 feet and test Athletics vs Spiritual","Success: target has disadvantage on tests vs allies until end of their next turn","If resisted: gain advantage on next test vs them"]},{id:"hardy",name:"Hardy",description:"When you acquire this talent, your maximum and current health increase by 1 per level. This applies to all previous and future levels.",actionCost:1/0,prerequisites:[{type:"talent",target:"valiant_intervention"}],tier:2,bonuses:[],otherEffects:["Increase max and current health by 1 per level (retroactive and future)"]},{id:"imposing_posture",name:"Imposing Posture",description:"After an enemy resists your influence while within your weapon's reach, they become Disoriented until the end of their next turn.",actionCost:1/0,prerequisites:[{type:"skill",target:"athletics",value:2},{type:"talent",target:"combat_coordination"}],tier:2,bonuses:[],otherEffects:["Enemy who resists influence within weapon reach becomes Disoriented until end of next turn"]},{id:"resolute_stand",name:"Resolute Stand",description:"When you use your Valiant Intervention, you can spend focus up to your ranks in Leadership to target that many additional characters. Additionally, after you affect a target with Valiant Intervention, they can't make Reactive Strikes against your allies until the end of that target's next turn.",actionCost:-2,specialActivation:"Enhances Valiant Intervention with multi-target and Reactive Strike prevention",prerequisites:[{type:"skill",target:"athletics",value:1},{type:"talent",target:"hardy"}],tier:3,bonuses:[],otherEffects:["Can spend focus up to Leadership ranks to add targets to Valiant Intervention","Targets of Valiant Intervention can't Reactive Strike allies until end of their next turn"]},{id:"mighty",name:"Mighty",description:"When you hit with a weapon or unarmed attack, for each action you used on that attack's action, increase the damage you deal by 1 + your tier.",actionCost:1/0,prerequisites:[{type:"talent",target:"imposing_posture"}],tier:3,bonuses:[],otherEffects:["When hitting with weapon/unarmed attack, each action spent increases damage by 1 + tier"]},{id:"demonstrative_command",name:"Demonstrative Command",description:"Before you make an Athletics, Agility, or Leadership test, you can spend 1 focus to roll your command die and add the result to your d20 roll. Additionally, when you acquire this talent, increase the size of your command die by one size (such as from a d4 to a d6).",actionCost:-2,specialActivation:"Before Athletics, Agility, or Leadership test",prerequisites:[{type:"skill",target:"leadership",value:2},{type:"talent",target:"resolute_stand"}],tier:4,bonuses:[],otherEffects:["Spend 1 focus to add command die to Athletics/Agility/Leadership test","Increase command die size by one (d4\u2192d6, d6\u2192d8, etc.)"]},{id:"resilient_hero",name:"Resilient Hero",description:"Once per scene, before you are reduced to 0 health, you can use this reaction to instead change your health to equal your Athletics modifier.",actionCost:-1,prerequisites:[{type:"skill",target:"athletics",value:3},{type:"talent",target:"resolute_stand"}],tier:4,bonuses:[],otherEffects:["Once per scene, when reduced to 0 health, use reaction to set health to Athletics modifier instead"]}]};var Rk={pathName:"Officer",nodes:[{id:"composed",name:"Composed",description:"When you acquire this talent, your maximum and current focus increase by a number equal to your tier. When your tier increases by 1, your maximum and current focus do as well.",actionCost:1/0,prerequisites:[{type:"talent",target:"decisive_command"}],tier:1,bonuses:[],otherEffects:["Increase max and current focus by tier","Increase focus by 1 when tier increases"]},{id:"through_the_fray",name:"Through the Fray",description:"Choose an ally you can influence within 20 feet of you. Before the end of your turn, they can use the Disengage or Gain Advantage action as a reaction.",actionCost:1,prerequisites:[{type:"skill",target:"persuasion",value:1},{type:"talent",target:"decisive_command"}],tier:1,bonuses:[],otherEffects:["Target ally within 20 feet can use Disengage or Gain Advantage as reaction before end of your turn"]},{id:"customary_garb",name:"Customary Garb",description:"While you're visibly wearing Presentable armor or clothing appropriate for your station, your Physical and Spiritual defenses increase by 2.",actionCost:1/0,prerequisites:[{type:"talent",target:"through_the_fray"}],tier:2,bonuses:[],otherEffects:["While wearing Presentable armor or appropriate clothing: +2 Physical and Spiritual defenses"]},{id:"well_supplied",name:"Well Supplied",description:"When you make a test to requisition or allocate resources, you can spend 2 focus to add an Opportunity to the result. Additionally, when you acquire this talent, gain a utility expertise in Military Logistics.",actionCost:-2,specialActivation:"When making test to requisition or allocate resources",prerequisites:[{type:"skill",target:"persuasion",value:2},{type:"talent",target:"composed"}],tier:2,bonuses:[],otherEffects:["Spend 2 focus to add Opportunity to requisition/allocation tests","Gain Military Logistics utility expertise"]},{id:"confident_command",name:"Confident Command",description:"Before you make an Intimidation, Leadership, or Persuasion test, you can spend 1 focus to roll your command die and add the result to your d20 roll. Additionally, when you acquire this talent, increase the size of your command die by one size (such as from a d4 to a d6).",actionCost:-2,specialActivation:"Before Intimidation, Leadership, or Persuasion test",prerequisites:[{type:"skill",target:"leadership",value:2},{type:"talent",target:"customary_garb"}],tier:3,bonuses:[],otherEffects:["Spend 1 focus to add command die to Intimidation/Leadership/Persuasion test","Increase command die size by one (d4\u2192d6, d6\u2192d8, etc.)"]},{id:"relentless_march",name:"Relentless March",description:"After you use your Decisive Command on an ally, until the end of their next turn, their movement rate increases by 10 feet and they ignore the effects of the Exhausted, Slowed, and Surprised conditions.",actionCost:1/0,prerequisites:[{type:"skill",target:"persuasion",value:3},{type:"talent",target:"confident_command"}],tier:3,bonuses:[],otherEffects:["After using Decisive Command on ally: +10 movement and ignore Exhausted/Slowed/Surprised until end of next turn"]},{id:"authority",name:"Authority",description:"Your Leader talents that affect allies now have double the range (if they had one) and can affect up to twice as many allies as usual.",actionCost:1/0,prerequisites:[{type:"talent",target:"confident_command"}],tier:4,bonuses:[],otherEffects:["Double range of Leader talents affecting allies","Double number of allies affected by Leader talents"],specialActivation:"Requires title granting command over at least 5 people"},{id:"synchronized_assault",name:"Synchronized Assault",description:"Spend 2 focus to make a Leadership test against the Cognitive defense of an enemy you can sense. On a success, choose a number of allies up to your ranks in Leadership. On a failure, choose one ally you can influence. On the next turn of each of your chosen allies, they gain 1 action that can be spent only to Strike against that enemy. This Strike doesn't count against their allowed number of Strike actions for the hands holding that weapon.",actionCost:3,prerequisites:[{type:"skill",target:"leadership",value:3},{type:"talent",target:"authority"}],tier:4,bonuses:[],otherEffects:["Spend 2 focus, test Leadership vs Cognitive","Success: choose Leadership rank allies; Failure: choose 1 ally","Chosen allies gain 1 action next turn for Strike only (doesn't count against Strike limit)"]}]};var Nk={pathName:"Politico",nodes:[{id:"cutthroat_tactics",name:"Cutthroat Tactics",description:"Before an ally rolls your command die on a test, they can choose to instead raise the stakes on that test. If they do so and roll a Complication, you recover 1 focus.",actionCost:-2,specialActivation:"Ally chooses to raise stakes before rolling command die",prerequisites:[{type:"skill",target:"deception",value:1},{type:"talent",target:"decisive_command"}],tier:1,bonuses:[],otherEffects:["Ally can raise stakes on command die test","If Complication rolled, you recover 1 focus"]},{id:"tactical_ploy",name:"Tactical Ploy",description:"Make a Deception test against the Cognitive defense of an enemy you can influence. On a success, your target loses one reaction and gains a disadvantage on their next cognitive or spiritual test. A target can resist this influence, but after they do, you gain an advantage on your next test targeting them before the end of your next turn.",actionCost:1,prerequisites:[{type:"talent",target:"decisive_command"}],tier:1,bonuses:[],otherEffects:["Test Deception vs Cognitive","Success: target loses 1 reaction and has disadvantage on next Cognitive/Spiritual test","If resisted: gain advantage on next test vs them"]},{id:"rumormonger",name:"Rumormonger",description:"When you make a test to spread misinformation or gather rumors, you can spend 2 focus to add an Opportunity to the result. Additionally, when you acquire this talent, gain a utility expertise in Scandal.",actionCost:-2,specialActivation:"When making test to spread misinformation or gather rumors",prerequisites:[{type:"talent",target:"cutthroat_tactics"}],tier:2,bonuses:[],otherEffects:["Spend 2 focus to add Opportunity to misinformation/rumor tests","Gain Scandal utility expertise","Requires having a patron"]},{id:"well_dressed",name:"Well Dressed",description:"While visibly wearing Presentable armor or fashionable clothing, you gain an advantage on the first Deception, Leadership, or Persuasion test you make during each scene. Additionally, when you acquire this talent, gain a cultural expertise in Fashion.",actionCost:-2,specialActivation:"Advantage on first social test per scene while well-dressed",prerequisites:[{type:"talent",target:"rumormonger"}],tier:2,bonuses:[],grantsAdvantage:["first_deception_per_scene","first_leadership_per_scene","first_persuasion_per_scene"],otherEffects:["While wearing Presentable armor/fashionable clothing: advantage on first Deception/Leadership/Persuasion test per scene","Gain Fashion cultural expertise"]},{id:"baleful",name:"Baleful",description:"To resist your influence, a character must spend additional focus equal to your tier.",actionCost:1/0,prerequisites:[{type:"talent",target:"rumormonger"}],tier:3,bonuses:[],otherEffects:["Characters resisting your influence must spend additional focus equal to your tier"]},{id:"set_at_odds",name:"Set at Odds",description:"Choose two or more characters you can influence and spend that many focus to seed division among them. Describe a potential source of conflict, then make a Leadership test (DC equals highest Spiritual defense among those targets). On a success, you influence each target to become hostile toward the other targets, which sparks an argument, combat, or other conflict until they find a way to resolve it. A target can resist this influence, but after they do, they lose additional focus equal to your ranks in Leadership. If only some of the targets resist influence, the others remain hostile, but their conflict might become easier to resolve.",actionCost:2,prerequisites:[{type:"skill",target:"leadership",value:3},{type:"talent",target:"baleful"}],tier:3,bonuses:[],otherEffects:["Choose 2+ targets, spend that many focus","Test Leadership vs highest Spiritual defense","Success: targets become hostile to each other","Resisting costs additional focus equal to Leadership ranks"]},{id:"shrewd_command",name:"Shrewd Command",description:"Before you make a Deception, Insight, or Leadership test, you can spend 1 focus to roll your command die and add the result to your d20 roll. Additionally, when you acquire this talent, increase the size of your command die by one size (such as from a d4 to a d6).",actionCost:-2,specialActivation:"Before Deception, Insight, or Leadership test",prerequisites:[{type:"skill",target:"leadership",value:2},{type:"talent",target:"rumormonger"}],tier:4,bonuses:[],otherEffects:["Spend 1 focus to add command die to Deception/Insight/Leadership test","Increase command die size by one (d4\u2192d6, d6\u2192d8, etc.)"]},{id:"grand_deception",name:"Grand Deception",description:"Spend 3 focus to make a DC 15 Deception test. On a success, choose a detail you established since the start of the last scene and reveal that it was actually a ruse. This ruse must be plausible. The GM is the final arbiter of what sort of ruse you can reveal.",actionCost:3,prerequisites:[{type:"skill",target:"deception",value:3},{type:"talent",target:"shrewd_command"}],tier:4,bonuses:[],otherEffects:["Spend 3 focus, test Deception DC 15","Success: reveal established detail was a ruse (must be plausible)","GM determines validity of ruse"]}]};var Fk={name:"Leader",paths:[Ak,Rk,Nk],talentNodes:[{id:"decisive_command",name:"Decisive Command",description:"spend 1 focus to give an ally within 20 feet a d4 command die. They can add it to one die roll on their next test.",actionCost:1,prerequisites:[],tier:0,bonuses:[],otherEffects:["Spend 1 focus to give ally within 20 feet a d4 command die for next test"]}]};var Lk={pathName:"Diplomat",nodes:[{id:"steadfast_challenge",name:"Steadfast Challenge",description:"Spend 1 focus to test Discipline vs. an enemy's Spiritual. On success, they are Disoriented and gain a disadvantage on tests against you.",actionCost:1,prerequisites:[{type:"skill",target:"discipline",value:1}],tier:1,bonuses:[],otherEffects:["Costs 1 focus","Test Discipline vs enemy Spiritual defense","On success: target is Disoriented and has disadvantage on tests against you"]},{id:"withering_retort",name:"Withering Retort",description:"Use your Steadfast Challenge before an attack and increase your deflect against the attack by your ranks in Discipline.",actionCost:-1,prerequisites:[{type:"skill",target:"discipline",value:2},{type:"talent",target:"steadfast_challenge"}],tier:2,bonuses:[],otherEffects:["When using Steadfast Challenge before an attack, gain deflect equal to Discipline ranks against that attack"]},{id:"calm_appeal",name:"Calm Appeal",description:"When your Steadfast Challenge makes a target Disoriented, spend 1 focus to pacify them. Resisting your Steadfast Challenge costs additional focus equal to your ranks in Discipline.",actionCost:-2,prerequisites:[{type:"skill",target:"discipline",value:2},{type:"talent",target:"steadfast_challenge"}],specialActivation:"Costs 1 focus to pacify Disoriented target. Resisting costs additional focus equal to Discipline ranks.",tier:2,bonuses:[]},{id:"peaceful_solution",name:"Peaceful Solution",description:"If all non-minion enemies are pacified, you ease tensions and end combat.",actionCost:-1,prerequisites:[{type:"skill",target:"discipline",value:3},{type:"talent",target:"calm_appeal"}],tier:3,bonuses:[],otherEffects:["End combat if all non-minion enemies are pacified"]},{id:"collected",name:"Collected",description:"Increase your Cognitive and Spiritual defenses by 2.",actionCost:1/0,prerequisites:[],tier:1,bonuses:[{type:"defense",target:"cognitive",value:2},{type:"defense",target:"spiritual",value:2}]},{id:"well_dressed",name:"Well Dressed",description:"Gain Fashion expertise. While wearing Presentable armor or fashionable clothing, gain an advantage on your first Deception, Leadership, or Persuasion test.",actionCost:-2,prerequisites:[{type:"talent",target:"steadfast_challenge"}],specialActivation:"While wearing Presentable armor or fashionable clothing, gain an advantage on your first Deception, Leadership, or Persuasion test.",tier:2,bonuses:[],grantsAdvantage:["deception_first","leadership_first","persuasion_first"],otherEffects:["Gain Fashion expertise"]},{id:"high_society_contacts",name:"High Society Contacts",description:"Gain High Society expertise. Spend 2 focus to add additional effects to a test to interact in high society.",actionCost:1,prerequisites:[{type:"talent",target:"well_dressed"}],tier:2,bonuses:[],otherEffects:["Gain High Society expertise","Spend 2 focus for additional effects in high society interactions"]},{id:"practiced_oratory",name:"Practiced Oratory",description:"When you use Rousing Presence or Steadfast Challenge, spend focus up to your ranks in Persuasion to add that many targets.",actionCost:-2,specialActivation:"Spend focus up to Persuasion ranks to add additional targets to Rousing Presence or Steadfast Challenge.",prerequisites:[{type:"skill",target:"persuasion",value:3},{type:"talent",target:"practiced_oratory"}],tier:2,bonuses:[],otherEffects:["Spend focus up to Persuasion ranks to add additional targets to Rousing Presence or Steadfast Challenge"]}]};var Vk={pathName:"Faithful",nodes:[{id:"galvanize",name:"Galvanize",description:"Once per scene, choose an ally you can influence. They can roll their recovery die (no action required) and recover focus equal to the result.",actionCost:2,prerequisites:[{type:"talent",target:"rousing_presence"}],tier:1,bonuses:[],otherEffects:["Once per scene","Target ally rolls recovery die and recovers focus equal to result"]},{id:"applied_motivation",name:"Applied Motivation",description:"When you cause a character to recover focus, they recover additional focus equal to half your ranks in Lore (rounded up).",actionCost:1/0,prerequisites:[{type:"skill",target:"discipline",value:2},{type:"talent",target:"galvanize"}],tier:2,bonuses:[],otherEffects:["When causing focus recovery, add additional focus equal to half Lore ranks (rounded up)"]},{id:"composed",name:"Composed",description:"When you acquire this talent, your maximum and current focus increase by a number equal to your tier. When your tier increases by 1, your maximum and current focus do as well.",actionCost:1/0,prerequisites:[{type:"talent",target:"galvanize"}],tier:2,bonuses:[],otherEffects:["Increase max and current focus by tier","Increase focus by 1 when tier increases"]},{id:"customary_garb",name:"Customary Garb",description:"While you're visibly wearing Presentable armor or clothing appropriate for your station, your Physical and Spiritual defenses increase by 2.",actionCost:1/0,prerequisites:[{type:"talent",target:"rousing_presence"}],tier:1,bonuses:[],otherEffects:["While wearing Presentable armor or appropriate clothing: +2 Physical and Spiritual defenses"]},{id:"devoted_presence",name:"Devoted Presence",description:"When you use your Rousing Presence on one or more allies, you can spend 1 focus per target to remove any number of the following conditions from them: Prone, Slowed, Stunned, and Surprised.",actionCost:-2,specialActivation:"Spend 1 focus per target to remove Prone, Slowed, Stunned, or Surprised conditions when using Rousing Presence.",prerequisites:[{type:"skill",target:"lore",value:1},{type:"talent",target:"customary_garb"}],tier:2,bonuses:[]},{id:"inspired_zeal",name:"Inspired Zeal",description:"After an ally you can sense uses their Determined condition to add an Opportunity to a test, you can choose a number of other allies you can influence up to your ranks in Discipline. Each target recovers 1 focus (no action required).",actionCost:-2,specialActivation:"After ally uses Determined condition for Opportunity, choose up to Discipline rank allies to recover 1 focus each",prerequisites:[{type:"skill",target:"discipline",value:3},{type:"talent",target:"applied_motivation",operator:"OR"},{type:"talent",target:"stalwart_presence",operator:"OR"}],tier:4,bonuses:[]},{id:"sage_counsel",name:"Sage Counsel",description:"After you use the Aid reaction on an ally, spend 1 focus to grant that ally the benefits of your Rousing Presence (no action required).",actionCost:-2,specialActivation:"After using Aid reaction, spend 1 focus to grant ally Rousing Presence benefits",prerequisites:[{type:"skill",target:"lore",value:3},{type:"talent",target:"stalwart_presence"}],tier:4,bonuses:[]},{id:"stalwart_presence",name:"Stalwart Presence",description:"When you use your Rousing Presence, you can spend 1 focus to increase one of the target's defenses (your choice) by 2 until the end of the next round.",actionCost:-2,specialActivation:"When using Rousing Presence, spend 1 focus to increase target's defense by 2 until end of next round",prerequisites:[{type:"skill",target:"discipline",value:2},{type:"talent",target:"devoted_presence"}],tier:3,bonuses:[]}]};var Bk={pathName:"Mentor",nodes:[{id:"practical_demonstration",name:"Practical Demonstration",description:"After you succeed on a test to attack or Gain Advantage, you can use your Rousing Presence as a free action.",actionCost:0,prerequisites:[{type:"skill",target:"leadership",value:1},{type:"talent",target:"rousing_presence"}],tier:1,bonuses:[],otherEffects:["After successful attack or Gain Advantage test, can use Rousing Presence as free action"]},{id:"sound_advice",name:"Sound Advice",description:"After an ally you can influence fails a skill test, you can spend 1 focus to use your Rousing Presence on them as a free action.",actionCost:-1,prerequisites:[{type:"talent",target:"rousing_presence"}],tier:1,bonuses:[],otherEffects:["After ally fails skill test, spend 1 focus to use Rousing Presence as free action"]},{id:"lessons_in_patience",name:"Lessons in Patience",description:"After you use your Rousing Presence, the target recovers 1 focus. Additionally, when you acquire this talent, gain a utility expertise in Motivational Speech.",actionCost:1/0,prerequisites:[{type:"skill",target:"discipline",value:2},{type:"talent",target:"sound_advice"}],tier:2,bonuses:[],otherEffects:["After using Rousing Presence, target recovers 1 focus","Gain Motivational Speech utility expertise"]},{id:"mighty",name:"Mighty",description:"When you hit with a weapon or unarmed attack, for each action you used on that attack's action, increase the damage you deal by 1 + your tier.",actionCost:1/0,prerequisites:[{type:"talent",target:"practical_demonstration"}],tier:2,bonuses:[],otherEffects:["When hitting with weapon/unarmed attack, each action spent increases damage by 1 + tier"]},{id:"instill_confidence",name:"Instill Confidence",description:"When you use your Rousing Presence, instead of the target becoming Determined, you can make them Focused until the end of the scene.",actionCost:-2,specialActivation:"Requires having a companion. When you use your Rousing Presence, instead of the target becoming Determined, you can make them Focused until the end of the scene.",prerequisites:[{type:"talent",target:"lessons_in_patience"}],tier:3,bonuses:[]},{id:"guiding_oration",name:"Guiding Oration",description:"After you succeed on a test to Gain Advantage, you can choose an ally you can influence within 10 feet of your target. Until the end of their next turn, that ally gains an advantage on their next test against your target.",actionCost:1/0,prerequisites:[{type:"skill",target:"leadership",value:2},{type:"talent",target:"mighty"}],tier:3,bonuses:[],otherEffects:["After successful Gain Advantage test, ally within 10 feet gains advantage on next test against target"]},{id:"foresight",name:"Foresight",description:"At the beginning of combat and at the start of each of your turns, gain an additional reaction.",actionCost:1/0,prerequisites:[{type:"skill",target:"discipline",value:3},{type:"talent",target:"instill_confidence"}],tier:4,bonuses:[],otherEffects:["Gain 1 additional reaction at beginning of combat and start of each turn"]},{id:"rallying_shout",name:"Rallying Shout",description:"When you use your Rousing Presence, you can target an Unconscious ally you can sense. When you do, the target is no longer Unconscious, and if they have 0 health, they roll their recovery die and recover health equal to the result + your ranks in Leadership.",actionCost:1/0,prerequisites:[{type:"skill",target:"leadership",value:3},{type:"talent",target:"guiding_oration"}],tier:3,bonuses:[],otherEffects:["Can target Unconscious ally with Rousing Presence","If at 0 health, ally rolls recovery die and recovers health equal to result + Leadership ranks"]}]};var jk={name:"Envoy",paths:[Lk,Vk,Bk],talentNodes:[{id:"rousingPresence",name:"Rousing Presence",description:"An ally becomes Determined until end of scene",actionCost:1,prerequisites:[],tier:0,bonuses:[],otherEffects:["An ally becomes Determined until end of scene"]}]};var zk={pathName:"Investigator",nodes:[{id:"watchfulEye",name:"Watchful Eye",description:"Use Opportunist on the plot die of a willing ally within 20 feet.",actionCost:-1,prerequisites:[{type:"skill",target:"Deduction",value:1}],tier:1,bonuses:[],otherEffects:["Can use Opportunist on the plot die of a willing ally within 20 feet."]},{id:"getEmTalking",name:"Get 'Em Talking",description:"Spend 1 focus to test Deduction vs. Spiritual to learn the target's motivation. During this scene, you cna raise the stakes on tests to leverage this motivation.",actionCost:2,prerequisites:[{type:"skill",target:"Insight",value:2}],tier:1,bonuses:[],otherEffects:["Spend 1 focus to test Deduction vs. Spiritual to learn the target's motivation. During this scene, you can raise the stakes on tests to leverage this motivation."]},{id:"quickAnalysis",name:"Quick Analysis",description:"Spend 2 focus to gain 2 action points for cognitive tests with use as skill, Gain Advantage, or an agent talent.",actionCost:0,prerequisites:[{type:"talent",target:"watchfulEye"}],tier:2,bonuses:[],otherEffects:["Spend 2 focus to gain 2 action points for cognitive tests with use as skill, Gain Advantage, or an agent talent."]},{id:"baleful",name:"Baleful",description:"To resist your influence, a character must spend additional focus equal to your tier.",actionCost:1/0,prerequisites:[{type:"talent",target:"Get 'Em Talking"}],tier:2,bonuses:[],otherEffects:["To resist your influence, a character must spend additional focus equal to your tier."]},{id:"gatherEvidence",name:"Gather Evidence",description:"Gain Legal codes expertise. When you succeed on a cognitive test against a target, you become focused.",actionCost:1/0,prerequisites:[{type:"talent",target:"quickAnalysis"},{type:"skill",target:"Insight",value:2}],tier:3,bonuses:[],otherEffects:["Gain Legal codes expertise. When you succeed on a cognitive test against a target, you become focused."]},{id:"hardy",name:"Hardy",description:"Gain +1 max health per level(Including previous levels).",actionCost:1/0,prerequisites:[{type:"talent",target:"baleful",operator:"OR"},{type:"talent",target:"sleuthsInstincts",operator:"OR"}],tier:3,bonuses:[],otherEffects:["Gain +1 max health per level(Including previous levels)."]},{id:"sleuth'sInstincts",name:"Sleuth's Instincts",description:"Gain an advantage on cognitive tests against characters whose motiviation you know. You know when those characters lie to you.",actionCost:1/0,prerequisites:[{type:"talent",target:"gatherEvidence"},{type:"skill",target:"Deduction",value:3}],tier:4,bonuses:[],otherEffects:["Gain an advantage on cognitive tests against characters whose motivation you know. You know when those characters lie to you."]},{id:"closeTheCase",name:"Close the Case",description:" Spend 3 focus to test Deduction vs. Cognitive, gaining an advantage if you know the target's motivation. On failure, the target gains an advantage against you. On success, they back donwn.",actionCost:3,prerequisites:[{type:"talent",target:"sleuthsInstincts"},{type:"skill",target:"Deduction",value:3}],tier:4,bonuses:[],otherEffects:[" Spend 3 focus to test Deduction vs. Cognitive, gaining an advantage if you know the target's motivation. On failure, the target gains an advantage against you. On success, they back down."]}]};var Uk={pathName:"Spy",nodes:[{id:"sureOutcome",name:"Sure Outcome",description:"When you use Opportunist, spend 2 focus to change an opportunity to 4 consequences, or change any consequence to an opportunity.",actionCost:-2,specialActivation:"When you use Opportunist, spend 2 focus to change an opportunity to 4 consequences, or change any consequence to an opportunity.",prerequisites:[{type:"talent",target:"opportunist"},{type:"skill",target:"Insight",value:2}],tier:1,bonuses:[],otherEffects:["When you use Opportunist, spend 2 focus to change an opportunity to 4 consequences, or change any consequence to an opportunity."]},{id:"plasibleExcuse",name:"Plausible Excuse",description:"Gain Sleight of Hand expertise. When discovered skulking, spend 2 focus to feign innocence.",actionCost:-1,prerequisites:[{type:"talent",target:"opportunist"},{type:"skill",target:"Deception",value:1}],tier:1,bonuses:[],otherEffects:["Gain Sleight of Hand expertise. When discovered skulking, spend 2 focus to feign innocence."]},{id:"collected",name:"Collected",description:"Increase your Cognitive and Spiritual defenses by 2.",actionCost:1/0,prerequisites:[{type:"talent",target:"sureOutcome"}],tier:2,bonuses:[{type:"defense",target:"Cognitive",value:2},{type:"defense",target:"Spiritual",value:2}]},{id:"coverStory",name:"Cover Story",description:"Gain a false identity and a relevant cultural expertise.",actionCost:1/0,prerequisites:[{type:"talent",target:"plasibleExcuse"}],tier:2,bonuses:[],otherEffects:["Gain a false identity and a relevant cultural expertise."]},{id:"subtleTakedown",name:"Subtle Takedown",description:"Make an unarmed attack with Insight vs. an unsuspecting target's Cognitive, raising the stakes. On a hit, they can't communicate.",actionCost:2,prerequisites:[{type:"talent",target:"coverStory"},{type:"skill",target:"Insight",value:3}],tier:3,bonuses:[],otherEffects:["Make an unarmed attack with Insight vs. an unsuspecting target's Cognitive, raising the stakes. On a hit, they can't communicate."]},{id:"mighty",name:"Mighty",description:"When you hit with a weapon or unarmed attack, for each action point spent deal extra damage equal to 1 + your tier.",actionCost:1/0,prerequisites:[{type:"talent",target:"coverStory"}],tier:3,bonuses:[],otherEffects:["When you hit with a weapon or unarmed attack, for each action point spent deal extra damage equal to 1 + your tier."]},{id:"highSocietyContacts",name:"High Society Contacts",description:"Gain High Society expertise. Spend 2 focus to add a opportunity to a test to interact in high society.",actionCost:-2,specialActivation:"Spend 2 focus to add a opportunity to a test to interact in high society.",prerequisites:[{type:"talent",target:"coverStory"}],tier:4,bonuses:[]},{id:"mercurialFacade",name:"Mercurial Facade",description:"Disguise yourself using Deception without needing physical supplies. The first character to see through your disguise is surprised.",actionCost:-2,specialActivation:"Disguise yourself using Deception without needing physical supplies.",prerequisites:[{type:"talent",target:"subtleTakedown"}],tier:4,bonuses:[]}]};var Hk={pathName:"Thief",nodes:[{id:"riskyBehavior",name:"Risky Behavior",description:"Spend 1 focus to raise the stakes on your test.",actionCost:-1,specialActivation:"Spend 1 focus to raise the stakes on your test.",prerequisites:[{type:"skill",target:"Insight",value:2}],tier:1,bonuses:[]},{id:"cheapShot",name:"Cheap Shot",description:"Spend 1 focus to make an unarmed attack with Thievery vs Cognitive, raising the stakes. On a hit, the target is stunned.",actionCost:1,prerequisites:[],tier:1,bonuses:[],otherEffects:["Spend 1 focus to make an unarmed attack with Thievery vs Cognitive, raising the stakes. On a hit, the target is stunned."]},{id:"doubleDown",name:"Double Down",description:"You can reroll again with Opportunist, but on a complication, you lose 2 focus.",actionCost:-2,specialActivation:"You can reroll again with Opportunist, but on a complication, you lose 2 focus.",prerequisites:[{type:"talent",target:"opportunist"},{type:"talent",target:"riskyBehavior"}],tier:2,bonuses:[]},{id:"surefooted",name:"Surefooted",description:"Your movement increases by 10. Reduce Damage from falling and dnagerous terrain by twice your tier.",actionCost:1/0,prerequisites:[{type:"talent",target:"cheapShot"}],tier:2,bonuses:[]},{id:"underworldContacts",name:"Underworld Contacts",description:"Gain Criminal Groups expertise. Spend 2 focus to add an opportunity to a social test against criminals.",actionCost:-2,specialActivation:"Spend 2 focus to add an opportunity to a social test against criminals.",prerequisites:[{type:"talent",target:"doubleDown"}],tier:3,bonuses:[]},{id:"shadowStep",name:"Shadow Step",description:"After you Disengage, spend 2 focus to test Thievery vs each enemy's Cognitive to hide from them. You gain an advantage if in cover or obscured.",actionCost:0,prerequisites:[{type:"talent",target:"surefooted"},{type:"skill",target:"Thievery",value:3}],tier:3,bonuses:[],otherEffects:["After you Disengage, spend 2 focus to test Thievery vs each enemy's Cognitive to hide from them. You gain an advantage if in cover or obscured."]},{id:"fastTalker",name:"Fast Talker",description:"Spend 2 focus to gain two actions for spiritual tests with use a skill, gain advantage, or an agent talent.",actionCost:0,prerequisites:[{type:"talent",target:"doubleDown"},{type:"skill",target:"Insight",value:3}],tier:4,bonuses:[],otherEffects:["Spend 2 focus to gain two actions for spiritual tests with use a skill, gain advantage, or an agent talent."]},{id:"trickster'shand",name:"Trickster's Hand",description:"Spend 2 focus to gain two actions for physical tests with Use a Skill, gain advantage, or an agent talent.",actionCost:0,prerequisites:[{type:"talent",target:"surefooted"}],tier:4,bonuses:[],otherEffects:["Spend 2 focus to gain two actions for physical tests with Use a Skill, gain advantage, or an agent talent."]}]};var qk={name:"Agent",paths:[zk,Uk,Hk],talentNodes:[{id:"opportunist",name:"Opportunist",description:"Once per round, you can reroll your plot die.",actionCost:-2,specialActivation:"Reroll your plot die once per round.",prerequisites:[],tier:0,bonuses:[]}]};var $k={name:"Windrunner",paths:[],talentNodes:[{id:"windrunner_key_talent",name:"Windrunner's Blessing",description:"You have bonded an Honorspren and become a Windrunner. Philosophy: Protect the innocent and the defenseless. You may now speak the First Ideal to unlock your Surges of Adhesion and Gravitation.",actionCost:1/0,prerequisites:[],tier:0,bonuses:[],otherEffects:["Grants access to Adhesion and Gravitation surge trees upon speaking the First Ideal."]}]};var Gk={name:"Skybreaker",paths:[],talentNodes:[{id:"skybreaker_key_talent",name:"Skybreaker's Justice",description:"You have bonded a Highspren and become a Skybreaker. Philosophy: Enforce the law and strive for justice. You may now speak the First Ideal to unlock your Surges of Division and Gravitation.",actionCost:1/0,prerequisites:[],tier:0,bonuses:[],otherEffects:["Grants access to Division and Gravitation surge trees upon speaking the First Ideal."]}]};var Wk={name:"Dustbringer",paths:[],talentNodes:[{id:"dustbringer_key_talent",name:"Dustbringer's Discipline",description:"You have bonded an Ashspren and become a Dustbringer. Philosophy: Great power requires strong discipline. You may now speak the First Ideal to unlock your Surges of Division and Abrasion.",actionCost:1/0,prerequisites:[],tier:0,bonuses:[],otherEffects:["Grants access to Division and Abrasion surge trees upon speaking the First Ideal."]}]};var Yk={name:"Edgedancer",paths:[],talentNodes:[{id:"edgedancer_key_talent",name:"Edgedancer's Memory",description:"You have bonded a Cultivationspren and become an Edgedancer. Philosophy: Remember and serve those who others forget. You may now speak the First Ideal to unlock your Surges of Abrasion and Progression.",actionCost:1/0,prerequisites:[],tier:0,bonuses:[],otherEffects:["Grants access to Abrasion and Progression surge trees upon speaking the First Ideal."]}]};var Kk={name:"Truthwatcher",paths:[],talentNodes:[{id:"truthwatcher_key_talent",name:"Truthwatcher's Insight",description:"You have bonded a Mistspren and become a Truthwatcher. Philosophy: Search for fundamental truth and share it. You may now speak the First Ideal to unlock your Surges of Illumination and Progression.",actionCost:1/0,prerequisites:[],tier:0,bonuses:[],otherEffects:["Grants access to Illumination and Progression surge trees upon speaking the First Ideal."]}]};var Qk={name:"Lightweaver",paths:[],talentNodes:[{id:"lightweaver_key_talent",name:"Lightweaver's Truth",description:"You have bonded a Cryptic and become a Lightweaver. Philosophy: Separate truth from lies. You may now speak the First Ideal to unlock your Surges of Illumination and Transformation.",actionCost:1/0,prerequisites:[],tier:0,bonuses:[],otherEffects:["Grants access to Illumination and Transformation surge trees upon speaking the First Ideal."]}]};var Zk={name:"Elsecaller",paths:[],talentNodes:[{id:"elsecaller_key_talent",name:"Elsecaller's Potential",description:"You have bonded an Inkspren and become an Elsecaller. Philosophy: Strive to reach your true potential. You may now speak the First Ideal to unlock your Surges of Transformation and Transportation.",actionCost:1/0,prerequisites:[],tier:0,bonuses:[],otherEffects:["Grants access to Transformation and Transportation surge trees upon speaking the First Ideal."]}]};var Xk={name:"Willshaper",paths:[],talentNodes:[{id:"willshaper_key_talent",name:"Willshaper's Freedom",description:"You have bonded a Lightspren and become a Willshaper. Philosophy: Seek freedom and choice for all peoples. You may now speak the First Ideal to unlock your Surges of Cohesion and Transportation.",actionCost:1/0,prerequisites:[],tier:0,bonuses:[],otherEffects:["Grants access to Cohesion and Transportation surge trees upon speaking the First Ideal."]}]};var Jk={name:"Stoneward",paths:[],talentNodes:[{id:"stoneward_key_talent",name:"Stoneward's Resolve",description:"You have bonded a Peakspren and become a Stoneward. Philosophy: Be the support on which others can depend. You may now speak the First Ideal to unlock your Surges of Cohesion and Tension.",actionCost:1/0,prerequisites:[],tier:0,bonuses:[],otherEffects:["Grants access to Cohesion and Tension surge trees upon speaking the First Ideal."]}]};var eI={name:"Bondsmith",paths:[],talentNodes:[{id:"bondsmith_key_talent",name:"Bondsmith's Unity",description:"You have bonded a unique spren and become a Bondsmith. Philosophy: Unite before you divide, and strive for peace before engaging in war. You may now speak the First Ideal to unlock your Surges of Adhesion and Tension.",actionCost:1/0,prerequisites:[],tier:0,bonuses:[],otherEffects:["Grants access to Adhesion and Tension surge trees upon speaking the First Ideal."]}]};var tI={pathName:"Adhesion",nodes:[{id:"adhesion_placeholder_1",name:"Adhesion Power (Placeholder)",description:"Surge ability to be populated from rulebook.",actionCost:1,prerequisites:[{type:"skill",target:"ADHESION",value:1}],tier:1,bonuses:[],otherEffects:["To be populated with actual surge power."]},{id:"adhesion_placeholder_2",name:"Advanced Adhesion (Placeholder)",description:"Advanced surge ability to be populated from rulebook.",actionCost:1,prerequisites:[{type:"skill",target:"ADHESION",value:3},{type:"talent",target:"adhesion_placeholder_1"}],tier:2,bonuses:[],otherEffects:["To be populated with actual surge power."]}]};var nI={pathName:"Gravitation",nodes:[{id:"gravitation_placeholder_1",name:"Gravitation Power (Placeholder)",description:"Surge ability to be populated from rulebook.",actionCost:1,prerequisites:[{type:"skill",target:"GRAVITATION",value:1}],tier:1,bonuses:[],otherEffects:["To be populated with actual surge power."]},{id:"gravitation_placeholder_2",name:"Advanced Gravitation (Placeholder)",description:"Advanced surge ability to be populated from rulebook.",actionCost:1,prerequisites:[{type:"skill",target:"GRAVITATION",value:3},{type:"talent",target:"gravitation_placeholder_1"}],tier:2,bonuses:[],otherEffects:["To be populated with actual surge power."]}]};var iI={pathName:"Division",nodes:[{id:"division_placeholder_1",name:"Division Power (Placeholder)",description:"Surge ability to be populated from rulebook.",actionCost:1,prerequisites:[{type:"skill",target:"DIVISION",value:1}],tier:1,bonuses:[],otherEffects:["To be populated with actual surge power."]},{id:"division_placeholder_2",name:"Advanced Division (Placeholder)",description:"Advanced surge ability to be populated from rulebook.",actionCost:1,prerequisites:[{type:"skill",target:"DIVISION",value:3},{type:"talent",target:"division_placeholder_1"}],tier:2,bonuses:[],otherEffects:["To be populated with actual surge power."]}]};var rI={pathName:"Abrasion",nodes:[{id:"abrasion_placeholder_1",name:"Abrasion Power (Placeholder)",description:"Surge ability to be populated from rulebook.",actionCost:1,prerequisites:[{type:"skill",target:"ABRASION",value:1}],tier:1,bonuses:[],otherEffects:["To be populated with actual surge power."]},{id:"abrasion_placeholder_2",name:"Advanced Abrasion (Placeholder)",description:"Advanced surge ability to be populated from rulebook.",actionCost:1,prerequisites:[{type:"skill",target:"ABRASION",value:3},{type:"talent",target:"abrasion_placeholder_1"}],tier:2,bonuses:[],otherEffects:["To be populated with actual surge power."]}]};var oI={pathName:"Progression",nodes:[{id:"progression_placeholder_1",name:"Progression Power (Placeholder)",description:"Surge ability to be populated from rulebook.",actionCost:1,prerequisites:[{type:"skill",target:"PROGRESSION",value:1}],tier:1,bonuses:[],otherEffects:["To be populated with actual surge power."]},{id:"progression_placeholder_2",name:"Advanced Progression (Placeholder)",description:"Advanced surge ability to be populated from rulebook.",actionCost:1,prerequisites:[{type:"skill",target:"PROGRESSION",value:3},{type:"talent",target:"progression_placeholder_1"}],tier:2,bonuses:[],otherEffects:["To be populated with actual surge power."]}]};var aI={pathName:"Illumination",nodes:[{id:"illumination_placeholder_1",name:"Illumination Power (Placeholder)",description:"Surge ability to be populated from rulebook.",actionCost:1,prerequisites:[{type:"skill",target:"ILLUMINATION",value:1}],tier:1,bonuses:[],otherEffects:["To be populated with actual surge power."]},{id:"illumination_placeholder_2",name:"Advanced Illumination (Placeholder)",description:"Advanced surge ability to be populated from rulebook.",actionCost:1,prerequisites:[{type:"skill",target:"ILLUMINATION",value:3},{type:"talent",target:"illumination_placeholder_1"}],tier:2,bonuses:[],otherEffects:["To be populated with actual surge power."]}]};var sI={pathName:"Transformation",nodes:[{id:"transformation_placeholder_1",name:"Transformation Power (Placeholder)",description:"Surge ability to be populated from rulebook.",actionCost:1,prerequisites:[{type:"skill",target:"TRANSFORMATION",value:1}],tier:1,bonuses:[],otherEffects:["To be populated with actual surge power."]},{id:"transformation_placeholder_2",name:"Advanced Transformation (Placeholder)",description:"Advanced surge ability to be populated from rulebook.",actionCost:1,prerequisites:[{type:"skill",target:"TRANSFORMATION",value:3},{type:"talent",target:"transformation_placeholder_1"}],tier:2,bonuses:[],otherEffects:["To be populated with actual surge power."]}]};var cI={pathName:"Transportation",nodes:[{id:"transportation_placeholder_1",name:"Transportation Power (Placeholder)",description:"Surge ability to be populated from rulebook.",actionCost:1,prerequisites:[{type:"skill",target:"TRANSPORTATION",value:1}],tier:1,bonuses:[],otherEffects:["To be populated with actual surge power."]},{id:"transportation_placeholder_2",name:"Advanced Transportation (Placeholder)",description:"Advanced surge ability to be populated from rulebook.",actionCost:1,prerequisites:[{type:"skill",target:"TRANSPORTATION",value:3},{type:"talent",target:"transportation_placeholder_1"}],tier:2,bonuses:[],otherEffects:["To be populated with actual surge power."]}]};var lI={pathName:"Cohesion",nodes:[{id:"cohesion_placeholder_1",name:"Cohesion Power (Placeholder)",description:"Surge ability to be populated from rulebook.",actionCost:1,prerequisites:[{type:"skill",target:"COHESION",value:1}],tier:1,bonuses:[],otherEffects:["To be populated with actual surge power."]},{id:"cohesion_placeholder_2",name:"Advanced Cohesion (Placeholder)",description:"Advanced surge ability to be populated from rulebook.",actionCost:1,prerequisites:[{type:"skill",target:"COHESION",value:3},{type:"talent",target:"cohesion_placeholder_1"}],tier:2,bonuses:[],otherEffects:["To be populated with actual surge power."]}]};var dI={pathName:"Tension",nodes:[{id:"tension_placeholder_1",name:"Tension Power (Placeholder)",description:"Surge ability to be populated from rulebook.",actionCost:1,prerequisites:[{type:"skill",target:"TENSION",value:1}],tier:1,bonuses:[],otherEffects:["To be populated with actual surge power."]},{id:"tension_placeholder_2",name:"Advanced Tension (Placeholder)",description:"Advanced surge ability to be populated from rulebook.",actionCost:1,prerequisites:[{type:"skill",target:"TENSION",value:3},{type:"talent",target:"tension_placeholder_1"}],tier:2,bonuses:[],otherEffects:["To be populated with actual surge power."]}]};var uj={singerForms:cC,singer:cC,adhesion:tI,gravitation:nI,division:iI,abrasion:rI,progression:oI,illumination:aI,transformation:sI,transportation:cI,cohesion:lI,tension:dI},hs={warrior:Mk,scholar:Pk,hunter:Tk,leader:Fk,envoy:jk,agent:qk,windrunner:$k,skybreaker:Gk,dustbringer:Wk,edgedancer:Yk,truthwatcher:Kk,lightweaver:Qk,elsecaller:Zk,willshaper:Xk,stoneward:Jk,bondsmith:eI};function nr(n){return uj[n.toLowerCase()]}function jn(n){return hs[n.toLowerCase()]}function $d(n){return n.buttons===0||n.detail===0}function Gd(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var lC;function uI(){if(lC==null){let n=typeof document<"u"?document.head:null;lC=!!(n&&(n.createShadowRoot||n.attachShadow))}return lC}function dC(n){if(uI()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function fs(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Mn(n){return n.composedPath?n.composedPath()[0]:n.target}var uC;try{uC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{uC=!1}var Fe=(()=>{class n{_platformId=f(Ka);isBrowser=this._platformId?ZO(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||uC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Wd;function mI(){if(Wd==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Wd=!0}))}finally{Wd=Wd||!1}return Wd}function oa(n){return mI()?n:!!n.capture}function An(n,t=0){return pI(n)?Number(n):arguments.length===2?t:0}function pI(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function zn(n){return n instanceof G?n.nativeElement:n}var hI=new I("cdk-input-modality-detector-options"),fI={ignoreKeys:[18,17,224,91,16]},gI=650,mC={passive:!0,capture:!0},_I=(()=>{class n{_platform=f(Fe);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new ut(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(i=>i===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Mn(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<gI||(this._modality.next($d(e)?"keyboard":"mouse"),this._mostRecentTarget=Mn(e))};_onTouchstart=e=>{if(Gd(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Mn(e)};constructor(){let e=f($),i=f(ee),r=f(hI,{optional:!0});if(this._options=R(R({},fI),r),this.modalityDetected=this._modality.pipe(_l(1)),this.modalityChanged=this.modalityDetected.pipe(mm()),this._platform.isBrowser){let o=f(Nt).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[o.listen(i,"keydown",this._onKeydown,mC),o.listen(i,"mousedown",this._onMousedown,mC),o.listen(i,"touchstart",this._onTouchstart,mC)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yd=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(Yd||{}),vI=new I("cdk-focus-monitor-default-options"),Mf=oa({passive:!0,capture:!0}),hi=(()=>{class n{_ngZone=f($);_platform=f(Fe);_inputModalityDetector=f(_I);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=f(ee);_stopInputModalityDetector=new P;constructor(){let e=f(vI,{optional:!0});this._detectionMode=e?.detectionMode||Yd.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let i=Mn(e);for(let r=i;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,i=!1){let r=zn(e);if(!this._platform.isBrowser||r.nodeType!==1)return te();let o=dC(r)||this._document,a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;let s={checkChildren:i,subject:new P,rootNode:o};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){let i=zn(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){let o=zn(e),a=this._document.activeElement;o===a?this._getClosestElementsInfo(o).forEach(([s,d])=>this._originChanged(s,i,d)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===Yd.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===Yd.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?gI:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,i){let r=this._elementInfo.get(i),o=Mn(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Mf),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Mf)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(L(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Mf),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Mf),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ic(n){return Array.isArray(n)?n:[n]}var yI=new Set,gs,Ef=(()=>{class n{_platform=f(Fe);_nonce=f(rc,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):pj}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&mj(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mj(n,t){if(!yI.has(n))try{gs||(gs=document.createElement("style"),t&&gs.setAttribute("nonce",t),gs.setAttribute("type","text/css"),document.head.appendChild(gs)),gs.sheet&&(gs.sheet.insertRule(`@media ${n} {body{ }}`,0),yI.add(n))}catch(e){console.error(e)}}function pj(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var Kd=(()=>{class n{_mediaMatcher=f(Ef);_zone=f($);_queries=new Map;_destroySubject=new P;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return bI(Ic(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=bI(Ic(e)).map(a=>this._registerQuery(a).observable),o=Qr(r);return o=Ao(o.pipe(wt(1)),o.pipe(_l(1),yi(0))),o.pipe(se(a=>{let s={matches:!1,breakpoints:{}};return a.forEach(({matches:d,query:p})=>{s.matches=s.matches||d,s.breakpoints[p]=d}),s}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),o={observable:new we(a=>{let s=d=>this._zone.run(()=>a.next(d));return i.addListener(s),()=>{i.removeListener(s)}}).pipe(Mt(i),se(({matches:a})=>({query:e,matches:a})),L(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bI(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function hj(n){if(n.type==="characterData"&&n.target instanceof Comment)return!0;if(n.type==="childList"){for(let t=0;t<n.addedNodes.length;t++)if(!(n.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<n.removedNodes.length;t++)if(!(n.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var CI=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xI=(()=>{class n{_mutationObserverFactory=f(CI);_observedElements=new Map;_ngZone=f($);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){let i=zn(e);return new we(r=>{let a=this._observeElement(i).pipe(se(s=>s.filter(d=>!hj(d))),be(s=>!!s.length)).subscribe(s=>{this._ngZone.run(()=>{r.next(s)})});return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let i=new P,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pC=(()=>{class n{_contentObserver=f(xI);_elementRef=f(G);event=new U;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(e){this._debounce=An(e),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(yi(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",ce],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return n})(),Dc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({providers:[CI]})}return n})();var sa=(()=>{class n{_platform=f(Fe);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return gj(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let i=fj(Mj(e));if(i&&(wI(i)===-1||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=wI(e);return e.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!xj(e)?!1:r==="audio"?e.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,i){return wj(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fj(n){try{return n.frameElement}catch{return null}}function gj(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function _j(n){let t=n.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function vj(n){return bj(n)&&n.type=="hidden"}function yj(n){return Cj(n)&&n.hasAttribute("href")}function bj(n){return n.nodeName.toLowerCase()=="input"}function Cj(n){return n.nodeName.toLowerCase()=="a"}function SI(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let t=n.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function wI(n){if(!SI(n))return null;let t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function xj(n){let t=n.nodeName.toLowerCase(),e=t==="input"&&n.type;return e==="text"||e==="password"||t==="select"||t==="textarea"}function wj(n){return vj(n)?!1:_j(n)||yj(n)||n.hasAttribute("contenteditable")||SI(n)}function Mj(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var Sf=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,e,i,r,o=!1,a){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._injector=a,o||this.attachAnchors()}destroy(){let t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){let e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?$t(t,{injector:this._injector}):setTimeout(t)}},Qd=(()=>{class n{_checker=f(sa);_ngZone=f($);_document=f(ee);_injector=f(ae);constructor(){f(Ot).load(tr)}create(e,i=!1){return new Sf(e,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var OI=new I("liveAnnouncerElement",{providedIn:"root",factory:()=>null}),PI=new I("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),Ej=0,Zd=(()=>{class n{_ngZone=f($);_defaultOptions=f(PI,{optional:!0});_liveElement;_document=f(ee);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=f(OI,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...i){let r=this._defaultOptions,o,a;return i.length===1&&typeof i[0]=="number"?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),a==null&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(s=>this._currentResolve=s)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${Ej++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],a=o.getAttribute("aria-owns");a?a.indexOf(e)===-1&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var aa=(function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n})(aa||{}),MI="cdk-high-contrast-black-on-white",EI="cdk-high-contrast-white-on-black",hC="cdk-high-contrast-active",kI=(()=>{class n{_platform=f(Fe);_hasCheckedHighContrastMode;_document=f(ee);_breakpointSubscription;constructor(){this._breakpointSubscription=f(Kd).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return aa.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return aa.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return aa.BLACK_ON_WHITE}return aa.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(hC,MI,EI),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===aa.BLACK_ON_WHITE?e.add(hC,MI):i===aa.WHITE_ON_BLACK&&e.add(hC,EI)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_s=(()=>{class n{constructor(){f(kI)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[Dc]})}return n})();var fC={},nt=class n{_appId=f($o);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(t,e=!1){return this._appId!=="ng"&&(t+=this._appId),fC.hasOwnProperty(t)||(fC[t]=0),`${t}${e?n._infix+"-":""}${fC[t]++}`}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var Sj=200,Of=class{_letterKeyStream=new P;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new P;selectedItem=this._selectedItem;constructor(t,e){let i=typeof e?.debounceInterval=="number"?e.debounceInterval:Sj;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let e=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(Ht(e=>this._pressedLetters.push(e)),yi(t),be(()=>this._pressedLetters.length>0),se(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function jt(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Tc=class{_items;_activeItemIndex=$e(-1);_activeItem=$e(null);_wrap=!1;_typeaheadSubscription=je.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,e){this._items=t,t instanceof ci?this._itemChangesSubscription=t.changes.subscribe(i=>this._itemsChanged(i.toArray())):so(t)&&(this._effectRef=Ho(()=>this._itemsChanged(t()),{injector:e}))}tabOut=new P;change=new P;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new Of(e,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem();this.updateActiveItem(t),this._activeItem()!==e&&this.change.next(this._activeItemIndex())}onKeydown(t){let e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(o<a?o:a-1,-1);break}else return;default:(r||jt(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),i=typeof t=="number"?t:e.indexOf(t),r=e[i];this._activeItem.set(r??null),this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let i=1;i<=e.length;i++){let r=(this._activeItemIndex()+t*i+e.length)%e.length,o=e[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex()+t,t)}_setActiveItemByIndex(t,e){let i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(t+=e,!i[t])return;this.setActiveItem(t)}}_getItemsArray(){return so(this._items)?this._items():this._items instanceof ci?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let e=this._activeItem();if(e){let i=t.indexOf(e);i>-1&&i!==this._activeItemIndex()&&(this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i))}}};var Xd=class extends Tc{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}};var vo=class extends Tc{_origin="program";setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};var AI=" ";function bC(n,t,e){let i=If(n,t);e=e.trim(),!i.some(r=>r.trim()===e)&&(i.push(e),n.setAttribute(t,i.join(AI)))}function Df(n,t,e){let i=If(n,t);e=e.trim();let r=i.filter(o=>o!==e);r.length?n.setAttribute(t,r.join(AI)):n.removeAttribute(t)}function If(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}var RI="cdk-describedby-message",kf="cdk-describedby-host",yC=0,Tf=(()=>{class n{_platform=f(Fe);_document=f(ee);_messageRegistry=new Map;_messagesContainer=null;_id=`${yC++}`;constructor(){f(Ot).load(tr),this._id=f($o)+"-"+yC++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;let o=vC(i,r);typeof i!="string"?(TI(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;let o=vC(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),typeof i=="string"){let a=this._messageRegistry.get(o);a&&a.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${kf}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(kf);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){let r=this._document.createElement("div");TI(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(vC(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){let i=If(e,"aria-describedby").filter(r=>r.indexOf(RI)!=0);e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){let r=this._messageRegistry.get(i);bC(e,"aria-describedby",r.messageElement.id),e.setAttribute(kf,this._id),r.referenceCount++}_removeMessageReference(e,i){let r=this._messageRegistry.get(i);r.referenceCount--,Df(e,"aria-describedby",r.messageElement.id),e.removeAttribute(kf)}_isElementDescribedByMessage(e,i){let r=If(e,"aria-describedby"),o=this._messageRegistry.get(i),a=o&&o.messageElement.id;return!!a&&r.indexOf(a)!=-1}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&typeof i=="object")return!0;let r=i==null?"":`${i}`.trim(),o=e.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vC(n,t){return typeof n=="string"?`${t||""}/${n}`:n}function TI(n,t){n.id||(n.id=`${RI}-${t}-${yC++}`)}var ir=(function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n})(ir||{}),Af,vs;function Rf(){if(vs==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return vs=!1,vs;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)vs=!0;else{let n=Element.prototype.scrollTo;n?vs=!/\{\s*\[native code\]\s*\}/.test(n.toString()):vs=!1}}return vs}function Ac(){if(typeof document!="object"||!document)return ir.NORMAL;if(Af==null){let n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";let e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Af=ir.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,Af=n.scrollLeft===0?ir.NEGATED:ir.INVERTED),n.remove()}return Af}function CC(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Rc,NI=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function xC(){if(Rc)return Rc;if(typeof document!="object"||!document)return Rc=new Set(NI),Rc;let n=document.createElement("input");return Rc=new Set(NI.filter(t=>(n.setAttribute("type",t),n.type===t))),Rc}var FI={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Oj=new I("MATERIAL_ANIMATIONS"),LI=null;function Jd(){return f(Oj,{optional:!0})?.animationsDisabled||f(Go,{optional:!0})==="NoopAnimations"?"di-disabled":(LI??=f(Ef).matchMedia("(prefers-reduced-motion)").matches,LI?"reduced-motion":"enabled")}function at(){return Jd()!=="enabled"}function Gt(n){return n==null?"":typeof n=="string"?n:`${n}px`}function ht(n){return n!=null&&`${n}`!="false"}var Pi=(function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n})(Pi||{}),wC=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Pi.HIDDEN;constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},VI=oa({passive:!0,capture:!0}),MC=class{_events=new Map;addHandler(t,e,i,r){let o=this._events.get(e);if(o){let a=o.get(i);a?a.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,VI)})}removeHandler(t,e,i){let r=this._events.get(t);if(!r)return;let o=r.get(e);o&&(o.delete(i),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,VI)))}_delegateEventHandler=t=>{let e=Mn(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}},eu={enterDuration:225,exitDuration:150},Pj=800,BI=oa({passive:!0,capture:!0}),jI=["mousedown","touchstart"],zI=["mouseup","mouseleave","touchend","touchcancel"],kj=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),ys=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new MC;constructor(t,e,i,r,o){this._target=t,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=zn(i)),o&&o.get(Ot).load(kj)}fadeInRipple(t,e,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=R(R({},eu),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let a=i.radius||Ij(t,e,r),s=t-r.left,d=e-r.top,p=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${s-a}px`,h.style.top=`${d-a}px`,h.style.height=`${a*2}px`,h.style.width=`${a*2}px`,i.color!=null&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(h);let _=window.getComputedStyle(h),b=_.transitionProperty,y=_.transitionDuration,M=b==="none"||y==="0s"||y==="0s, 0s"||r.width===0&&r.height===0,A=new wC(this,h,i,M);h.style.transform="scale3d(1, 1, 1)",A.state=Pi.FADING_IN,i.persistent||(this._mostRecentTransientRipple=A);let B=null;return!M&&(p||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let z=()=>{B&&(B.fallbackTimer=null),clearTimeout(We),this._finishRippleTransition(A)},de=()=>this._destroyRipple(A),We=setTimeout(de,p+100);h.addEventListener("transitionend",z),h.addEventListener("transitioncancel",de),B={onTransitionEnd:z,onTransitionCancel:de,fallbackTimer:We}}),this._activeRipples.set(A,B),(M||!p)&&this._finishRippleTransition(A),A}fadeOutRipple(t){if(t.state===Pi.FADING_OUT||t.state===Pi.HIDDEN)return;let e=t.element,i=R(R({},eu),t.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=Pi.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=zn(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,jI.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{zI.forEach(e=>{this._triggerElement.addEventListener(e,this,BI)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Pi.FADING_IN?this._startFadeOutTransition(t):t.state===Pi.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=Pi.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Pi.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=$d(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Pj;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Gd(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===Pi.VISIBLE||t.config.terminateOnPointerUp&&t.state===Pi.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(jI.forEach(e=>n._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(zI.forEach(e=>t.removeEventListener(e,this,BI)),this._pointerUpEventsRegistered=!1))}};function Ij(n,t,e){let i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}var bs=new I("mat-ripple-global-options"),UI=(()=>{class n{_elementRef=f(G);_animationsDisabled=at();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=f($),i=f(Fe),r=f(bs,{optional:!0}),o=f(ae);this._globalOptions=r||{},this._rippleRenderer=new ys(this,e,this._elementRef,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:R(R(R({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,i,R(R({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,R(R({},this.rippleConfig),e))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&T("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var Dj={capture:!0},Tj=["focus","mousedown","mouseenter","touchstart"],EC="mat-ripple-loader-uninitialized",SC="mat-ripple-loader-class-name",HI="mat-ripple-loader-centered",Nf="mat-ripple-loader-disabled",Ff=(()=>{class n{_document=f(ee);_animationsDisabled=at();_globalRippleOptions=f(bs,{optional:!0});_platform=f(Fe);_ngZone=f($);_injector=f(ae);_eventCleanups;_hosts=new Map;constructor(){let e=f(Nt).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>Tj.map(i=>e.listen(this._document,i,this._onInteraction,Dj)))}ngOnDestroy(){let e=this._hosts.keys();for(let i of e)this.destroyRipple(i);this._eventCleanups.forEach(i=>i())}configureRipple(e,i){e.setAttribute(EC,this._globalRippleOptions?.namespace??""),(i.className||!e.hasAttribute(SC))&&e.setAttribute(SC,i.className||""),i.centered&&e.setAttribute(HI,""),i.disabled&&e.setAttribute(Nf,"")}setDisabled(e,i){let r=this._hosts.get(e);r?(r.target.rippleDisabled=i,!i&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(e))):i?e.setAttribute(Nf,""):e.removeAttribute(Nf)}_onInteraction=e=>{let i=Mn(e);if(i instanceof HTMLElement){let r=i.closest(`[${EC}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(SC)),e.append(i);let r=this._globalRippleOptions,o=this._animationsDisabled?0:r?.animation?.enterDuration??eu.enterDuration,a=this._animationsDisabled?0:r?.animation?.exitDuration??eu.exitDuration,s={rippleDisabled:this._animationsDisabled||r?.disabled||e.hasAttribute(Nf),rippleConfig:{centered:e.hasAttribute(HI),terminateOnPointerUp:r?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:a}}},d=new ys(s,this._ngZone,i,this._platform,this._injector),p=!s.rippleDisabled;p&&d.setupTriggerEvents(e),this._hosts.set(e,{target:s,renderer:d,hasSetUpEvents:p}),e.removeAttribute(EC)}destroyRipple(e){let i=this._hosts.get(e);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus-visible::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var Aj=["mat-icon-button",""],Rj=["*"],Nj=new I("MAT_BUTTON_CONFIG");function qI(n){return n==null?void 0:Vt(n)}var OC=(()=>{class n{_elementRef=f(G);_ngZone=f($);_animationsDisabled=at();_config=f(Nj,{optional:!0});_focusMonitor=f(hi);_cleanupClick;_renderer=f(rt);_rippleLoader=f(Ff);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(e){this.tabIndex=e}constructor(){f(Ot).load(rr);let e=this._elementRef.nativeElement;this._isAnchor=e.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(e,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",e=>{this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(i,r){i&2&&(X("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled())("tabindex",r._getTabIndex()),Ie(r.color?"mat-"+r.color:""),T("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("mat-unthemed",!r.color)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",ce],disabled:[2,"disabled","disabled",ce],ariaDisabled:[2,"aria-disabled","ariaDisabled",ce],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ce],tabIndex:[2,"tabIndex","tabIndex",qI],_tabindex:[2,"tabindex","_tabindex",qI]}})}return n})(),an=(()=>{class n extends OC{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[ye],attrs:Aj,ngContentSelectors:Rj,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(Ue(),tn(0,"span",0),J(1),tn(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var ca=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[Oe]})}return n})();var Fj=["matButton",""],Lj=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Vj=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var $I=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),Pe=(()=>{class n extends OC{get appearance(){return this._appearance}set appearance(e){this.setAppearance(e||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let e=Bj(this._elementRef.nativeElement);e&&this.setAppearance(e)}setAppearance(e){if(e===this._appearance)return;let i=this._elementRef.nativeElement.classList,r=this._appearance?$I.get(this._appearance):null,o=$I.get(e);r&&i.remove(...r),i.add(...o),this._appearance=e}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[ye],attrs:Fj,ngContentSelectors:Vj,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(Ue(Lj),tn(0,"span",0),J(1),Je(2,"span",1),J(3,1),et(),J(4,2),tn(5,"span",2)(6,"span",3)),i&2&&T("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}@media(hover: none){.mat-mdc-button-base:hover>span.mat-mdc-button-persistent-ripple::before{opacity:0}}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}@media(hover: hover){.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-raised-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus-visible>.mat-focus-indicator::before,.mat-tonal-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();function Bj(n){return n.hasAttribute("mat-raised-button")?"elevated":n.hasAttribute("mat-stroked-button")?"outlined":n.hasAttribute("mat-flat-button")?"filled":n.hasAttribute("mat-button")?"text":null}var ge=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[ca,Oe]})}return n})();var zt=class n{validationState=new Map;validationSubject=new ut(new Map);validation$=this.validationSubject.asObservable();setStepValid(t,e){this.validationState.set(t,e),this.validationSubject.next(new Map(this.validationState))}isStepValid(t){return this.validationState.get(t)??!1}clearStep(t){this.validationState.delete(t),this.validationSubject.next(new Map(this.validationState))}reset(){this.validationState.clear(),this.validationSubject.next(new Map)}validateAllSteps(t){this.validateAncestry(t),this.validateCulture(t),this.validateName(t),this.validateAttributes(t),this.validateSkills(t),this.validateExpertises(t),this.validatePath(t),this.validateTalents(t),this.validateEquipment(t),this.validateReview(t)}validateAncestry(t){let e=!!t.ancestry;this.setStepValid(0,e)}validateCulture(t){let e=t.cultures&&t.cultures.length>0;this.setStepValid(1,e)}validateName(t){let e=!!t.name&&t.name.trim().length>=2;this.setStepValid(2,e)}validateAttributes(t){if(!t.attributes){this.setStepValid(3,!1);return}let e=t.attributes,i=e.strength+e.speed+e.intellect+e.willpower+e.awareness+e.presence,r=18,o=t.level||1,s=r+12,d=i===s;this.setStepValid(3,d)}validateSkills(t){if(!t.skills){this.setStepValid(4,!1);return}let i=8+(t.level||1)*2,r=0,o=t.skills.getAllSkillRanks();Object.values(o).forEach(s=>{r+=s});let a=r===i;this.setStepValid(4,a)}validateExpertises(t){this.setStepValid(5,!0)}validatePath(t){let e=t.paths&&t.paths.length>0;this.setStepValid(6,e)}validateTalents(t){if(!t.unlockedTalents){this.setStepValid(7,!1);return}let e=0;e=t.unlockedTalents.size;let i=t.level||1;(t.ancestry==="singer"||t.ancestry==="human")&&(i+=1);let r=e>=i;this.setStepValid(7,r)}validateEquipment(t){this.setStepValid(8,!0)}validateReview(t){this.setStepValid(9,!0)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var Nc=class n{constructor(t,e){this.characterState=t;this.validationService=e}steps=[{label:"Ancestry",route:"ancestry"},{label:"Culture",route:"culture"},{label:"Name",route:"name"},{label:"Attributes",route:"attributes"},{label:"Skills",route:"skills"},{label:"Expertises",route:"expertises"},{label:"Paths",route:"paths"},{label:"Talents",route:"talents"},{label:"Equipment",route:"equipment"},{label:"Review",route:"review"}];currentStepSubject=new ut(0);currentStep$=this.currentStepSubject.asObservable();getSteps(){return this.steps}getCurrentStep(){return this.currentStepSubject.value}setCurrentStep(t){t>=0&&t<this.steps.length&&this.currentStepSubject.next(t)}setCurrentStepByRoute(t){let e=this.steps.findIndex(i=>t.endsWith(`/${i.route}`)||t.includes(`/${i.route}?`));e!==-1&&this.currentStepSubject.next(e)}getStepRoute(t){return this.steps[t]?.route||null}canGoNext(){let t=this.currentStepSubject.value;return t>=this.steps.length-1?!1:this.validationService.isStepValid(t)}canGoPrevious(){return this.currentStepSubject.value>0}reset(){this.currentStepSubject.next(0)}static \u0275fac=function(e){return new(e||n)(ne(Ne),ne(zt))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};function jj(n,t){n&1&&q(0,"span",9)}function zj(n,t){if(n&1){let e=F();l(0,"div",4),C("click",function(){let r=E(e).$implicit,o=v(2);return S(o.navigateToStep(r))}),l(1,"div",5)(2,"span",6),u(3),c(),x(4,jj,1,0,"span",7),c(),l(5,"span",8),u(6),c()()}if(n&2){let e=t.$implicit,i=v(2);T("completed",e.completed)("has-pending",e.hasPending)("current",i.isCurrentStep(e)),m(3),w(e.icon),m(),g("ngIf",e.hasPending),m(2),w(e.label)}}function Uj(n,t){if(n&1&&(l(0,"div",2),x(1,zj,7,9,"div",3),c()),n&2){let e=v();m(),g("ngForOf",e.steps)}}function Hj(n,t){n&1&&q(0,"span",9)}function qj(n,t){n&1&&q(0,"div",18)}function $j(n,t){if(n&1&&(l(0,"div",13)(1,"div",14)(2,"span",15),u(3),c(),x(4,Hj,1,0,"span",7),c(),l(5,"span",16),u(6),c(),x(7,qj,1,0,"div",17),c()),n&2){let e=t.$implicit,i=t.index,r=v(2);T("completed",e.completed)("current",r.isCurrentStep(e))("has-pending",e.hasPending),m(3),w(e.icon),m(),g("ngIf",e.hasPending),m(2),w(e.label),m(),g("ngIf",i<r.steps.length-1)}}function Gj(n,t){if(n&1&&(l(0,"div",10)(1,"div",11),x(2,$j,8,10,"div",12),c()()),n&2){let e=v();m(2),g("ngForOf",e.steps)}}var la=class n{constructor(t,e,i){this.router=t;this.flowService=e;this.characterState=i}displayMode="navigation-grid";character=null;isLevelUpMode=!1;destroy$=new P;steps=[];currentStepIndex=0;ngOnInit(){this.initializeSteps(),this.flowService.currentStep$.pipe(L(this.destroy$)).subscribe(t=>{this.currentStepIndex=t}),this.characterState.character$.pipe(L(this.destroy$)).subscribe(t=>{this.character=t,this.updateStepStatuses()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeSteps(){this.steps=[{label:"Ancestry",icon:"groups",route:"ancestry",stepNumber:0,completed:!1,hasPending:!1},{label:"Culture",icon:"public",route:"culture",stepNumber:1,completed:!1,hasPending:!1},{label:"Name",icon:"badge",route:"name",stepNumber:2,completed:!1,hasPending:!1},{label:"Attributes",icon:"fitness_center",route:"attributes",stepNumber:3,completed:!1,hasPending:!1},{label:"Skills",icon:"school",route:"skills",stepNumber:4,completed:!1,hasPending:!1},{label:"Expertises",icon:"auto_stories",route:"expertises",stepNumber:5,completed:!1,hasPending:!1},{label:"Path",icon:"explore",route:"paths",stepNumber:6,completed:!1,hasPending:!1},{label:"Talents",icon:"stars",route:"talents",stepNumber:7,completed:!1,hasPending:!1},{label:"Equipment",icon:"inventory_2",route:"equipment",stepNumber:8,completed:!1,hasPending:!1},{label:"Review",icon:"check_circle",route:"review",stepNumber:9,completed:!1,hasPending:!1}],this.updateStepStatuses()}updateStepStatuses(){this.character&&(this.steps[0].completed=!!this.character.ancestry,this.steps[1].completed=this.character.cultures&&this.character.cultures.length>0,this.steps[2].completed=!!(this.character.name&&this.character.name.length>0),this.steps[3].completed=this.hasAttributesAllocated(),this.steps[4].completed=this.hasSkillsAllocated(),this.steps[5].completed=(this.character.selectedExpertises?.length??0)>0,this.steps[6].completed=!!this.character.radiantPath,this.steps[7].completed=(this.character.unlockedTalents?.size??0)>0,this.steps[8].completed=!0,this.steps[9].completed=!1)}hasAttributesAllocated(){if(!this.character)return!1;let t=this.character.attributes;return t.strength>0||t.speed>0||t.awareness>0||t.intellect>0||t.willpower>0||t.presence>0}hasSkillsAllocated(){if(!this.character?.skills)return!1;let t=this.character.skills.getAllSkillRanks();return Object.values(t).some(e=>e>0)}updateStepPending(t,e){let i=this.steps.find(r=>r.stepNumber===t);i&&(i.hasPending=e)}navigateToStep(t){this.router.navigate(["/character-creator-view",t.route])}isCurrentStep(t){return t.stepNumber===this.currentStepIndex}static \u0275fac=function(e){return new(e||n)(k(Pt),k(Nc),k(Ne))};static \u0275cmp=D({type:n,selectors:[["app-creation-progress"]],inputs:{displayMode:"displayMode",character:"character",isLevelUpMode:"isLevelUpMode"},decls:2,vars:2,consts:[["class","navigation-grid",4,"ngIf"],["class","inline-progress",4,"ngIf"],[1,"navigation-grid"],["class","nav-card",3,"completed","has-pending","current","click",4,"ngFor","ngForOf"],[1,"nav-card",3,"click"],[1,"card-icon-wrapper"],[1,"card-icon","material-icons"],["class","pending-dot",4,"ngIf"],[1,"card-label"],[1,"pending-dot"],[1,"inline-progress"],[1,"progress-track"],["class","progress-step",3,"completed","current","has-pending",4,"ngFor","ngForOf"],[1,"progress-step"],[1,"step-indicator"],[1,"step-icon","material-icons"],[1,"step-label"],["class","step-connector",4,"ngIf"],[1,"step-connector"]],template:function(e,i){e&1&&x(0,Uj,2,1,"div",0)(1,Gj,3,1,"div",1),e&2&&(g("ngIf",i.displayMode==="navigation-grid"),m(),g("ngIf",i.displayMode==="inline-progress"))},dependencies:[Q,ue,ie],styles:[".navigation-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:.75rem;padding:1rem}.nav-card[_ngcontent-%COMP%]{background-color:var(--gpSystemDarkerGrey);border:2px solid transparent;border-radius:4px;padding:1rem .5rem;display:flex;flex-direction:column;align-items:center;gap:.5rem;cursor:pointer;transition:all .3s ease;position:relative}.nav-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #66c0f44d;border-color:var(--gpColor-ChalkyBlue)}.nav-card.current[_ngcontent-%COMP%]{border-color:var(--gpColor-ChalkyBlue);background-color:#66c0f41a}.nav-card.completed[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{color:var(--gpColor-Green)}.nav-card.has-pending[_ngcontent-%COMP%]{border-color:var(--gpColor-RedHi);box-shadow:0 4px 20px #ee563b4d}.card-icon-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}.card-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;color:var(--gpColor-ChalkyBlue)}.card-label[_ngcontent-%COMP%]{font-size:.875rem;text-align:center;color:var(--gpSystemLightestGrey);line-height:1.2}.pending-dot[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;width:12px;height:12px;background:var(--gpColor-RedHi);border-radius:50%;border:2px solid var(--gpSystemDarkerGrey);animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:.8}}.inline-progress[_ngcontent-%COMP%]{padding:1.5rem;background-color:var(--gpSystemDarkestGrey);border-radius:4px;margin-bottom:1.5rem}.progress-track[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:.5rem}.progress-step[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;gap:.5rem;position:relative}.step-indicator[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;background-color:var(--gpSystemDarkGrey);border:2px solid var(--gpSystemGrey);display:flex;align-items:center;justify-content:center;position:relative;transition:all .3s ease;z-index:2}.step-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--gpSystemLightGrey)}.progress-step.current[_ngcontent-%COMP%]   .step-indicator[_ngcontent-%COMP%]{background-color:var(--gpColor-ChalkyBlue);border-color:var(--gpColor-ChalkyBlue);box-shadow:0 0 20px #66c0f480}.progress-step.current[_ngcontent-%COMP%]   .step-indicator[_ngcontent-%COMP%]   .step-icon[_ngcontent-%COMP%]{color:var(--gpSystemDarkestGrey)}.progress-step.completed[_ngcontent-%COMP%]   .step-indicator[_ngcontent-%COMP%]{background-color:var(--gpColor-Green);border-color:var(--gpColor-Green)}.progress-step.completed[_ngcontent-%COMP%]   .step-indicator[_ngcontent-%COMP%]   .step-icon[_ngcontent-%COMP%]{color:var(--gpSystemDarkestGrey)}.progress-step.has-pending[_ngcontent-%COMP%]   .step-indicator[_ngcontent-%COMP%]{border-color:var(--gpColor-RedHi);box-shadow:0 0 20px #ee563b80}.step-label[_ngcontent-%COMP%]{font-size:.75rem;text-align:center;color:var(--gpSystemLightestGrey);max-width:80px;line-height:1.2}.progress-step.current[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{font-weight:600;color:var(--gpColor-ChalkyBlue)}.progress-step.completed[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:var(--gpColor-Green)}.step-connector[_ngcontent-%COMP%]{position:absolute;top:1.5rem;left:50%;width:calc(100% + .5rem);height:2px;background-color:var(--gpSystemGrey);z-index:1}.progress-step.completed[_ngcontent-%COMP%]   .step-connector[_ngcontent-%COMP%]{background-color:var(--gpColor-Green)}@media(max-width:768px){.navigation-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:.5rem;padding:.75rem}.nav-card[_ngcontent-%COMP%]{padding:.75rem .25rem}.card-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}.card-label[_ngcontent-%COMP%]{font-size:.75rem}.inline-progress[_ngcontent-%COMP%]{padding:1rem;overflow-x:auto}.progress-track[_ngcontent-%COMP%]{min-width:max-content}.step-indicator[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem}.step-icon[_ngcontent-%COMP%]{font-size:1.25rem}.step-label[_ngcontent-%COMP%]{font-size:.625rem;max-width:60px}}"]})};function Wj(n,t){n&1&&(l(0,"div",7)(1,"mat-card",8)(2,"mat-icon"),u(3,"trending_up"),c(),l(4,"div",9)(5,"strong"),u(6,"Level-Up Mode"),c(),l(7,"span"),u(8,"Complete the following steps to advance your character"),c()()()())}function Yj(n,t){if(n&1){let e=F();l(0,"button",10),C("click",function(){E(e);let r=v();return S(r.nextStep())}),u(1),c()}if(n&2){let e=v();g("disabled",!e.canGoNext()),m(),O(" ",e.isLevelUpMode&&e.currentStep>=e.steps.length-2?"Complete Level-Up":"Next"," ")}}function Kj(n,t){if(n&1&&(l(0,"div",15)(1,"span")(2,"strong"),u(3,"Culture:"),c(),u(4),c()()),n&2){let e=v().ngIf,i=v(2);m(4),O(" ",i.getCultureNames(e))}}function Qj(n,t){if(n&1&&(l(0,"div",15)(1,"span")(2,"strong"),u(3,"Path:"),c(),u(4),c()()),n&2){let e=v().ngIf,i=v(2);m(4),O(" ",i.getPathNames(e))}}function Zj(n,t){if(n&1&&(l(0,"div",26)(1,"span",27),u(2),c(),l(3,"span",28),u(4),c()()),n&2){let e=t.$implicit;m(2),w(e.name),m(2),w(e.rank)}}function Xj(n,t){n&1&&(l(0,"p",29),u(1,"No skills trained"),c())}function Jj(n,t){if(n&1&&(l(0,"div",32)(1,"span",33),u(2),c(),l(3,"span",34),u(4),c()()),n&2){let e=t.$implicit,i=v(4);m(2),w(e.name),m(),Ie("source-"+e.source),m(),O(" ",i.getExpertiseSourceBadge(e.source)," ")}}function ez(n,t){if(n&1&&(l(0,"div",17)(1,"h3"),u(2,"Expertises"),c(),l(3,"div",30),x(4,Jj,5,4,"div",31),c()()),n&2){let e=v().ngIf;m(4),g("ngForOf",e.selectedExpertises)}}function tz(n,t){if(n&1&&(l(0,"div",37)(1,"strong"),u(2),c(),l(3,"span",38),u(4),c()()),n&2){let e=t.$implicit;m(2),w(e.name),m(2),O("Tier ",e.tier)}}function nz(n,t){if(n&1&&(l(0,"div",17)(1,"h3"),u(2,"Talents"),c(),l(3,"div",35),x(4,tz,5,2,"div",36),c()()),n&2){let e=v().ngIf,i=v(2);m(4),g("ngForOf",i.getUnlockedTalents(e))}}function iz(n,t){if(n&1&&(l(0,"div",13)(1,"div",14)(2,"h3"),u(3),c(),l(4,"div",15)(5,"span")(6,"strong"),u(7,"Level:"),c(),u(8),c(),l(9,"span")(10,"strong"),u(11,"Ancestry:"),c(),u(12),c()(),x(13,Kj,5,1,"div",16)(14,Qj,5,1,"div",16),c(),l(15,"div",17)(16,"h3"),u(17,"Attributes"),c(),l(18,"div",18)(19,"div",19)(20,"span",20),u(21,"STR:"),c(),l(22,"span",21),u(23),c()(),l(24,"div",19)(25,"span",20),u(26,"SPD:"),c(),l(27,"span",21),u(28),c()(),l(29,"div",19)(30,"span",20),u(31,"INT:"),c(),l(32,"span",21),u(33),c()(),l(34,"div",19)(35,"span",20),u(36,"WIL:"),c(),l(37,"span",21),u(38),c()(),l(39,"div",19)(40,"span",20),u(41,"AWR:"),c(),l(42,"span",21),u(43),c()(),l(44,"div",19)(45,"span",20),u(46,"PRE:"),c(),l(47,"span",21),u(48),c()()()(),l(49,"div",17)(50,"h3"),u(51,"Skills"),c(),l(52,"div",22),x(53,Zj,5,2,"div",23)(54,Xj,2,0,"p",24),c()(),x(55,ez,5,1,"div",25)(56,nz,5,1,"div",25),c()),n&2){let e=t.ngIf,i=v(2);m(3),w(e.name||"Unnamed"),m(5),O(" ",e.level),m(4),O(" ",e.ancestry||"Not selected"),m(),g("ngIf",e.cultures.length>0),m(),g("ngIf",e.paths.length>0),m(9),w(e.attributes.strength),m(5),w(e.attributes.speed),m(5),w(e.attributes.intellect),m(5),w(e.attributes.willpower),m(5),w(e.attributes.awareness),m(5),w(e.attributes.presence),m(5),g("ngForOf",i.getTrainedSkills(e)),m(),g("ngIf",i.getTrainedSkills(e).length===0),m(),g("ngIf",e.selectedExpertises&&e.selectedExpertises.length>0),m(),g("ngIf",i.getUnlockedTalents(e).length>0)}}function rz(n,t){if(n&1&&(l(0,"div",11)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),u(4,"Character Preview"),c()(),l(5,"mat-card-content"),x(6,iz,57,15,"div",12),Wi(7,"async"),c()()()),n&2){let e=v();m(6),g("ngIf",Sb(7,1,e.characterState.character$))}}var Lf=class n{constructor(t,e,i,r,o){this.router=t;this.activatedRoute=e;this.characterState=i;this.flowService=r;this.validationService=o;this.steps=this.flowService.getSteps()}creationProgress;destroy$=new P;steps;currentStep=0;isLevelUpMode=!1;ngOnInit(){if(this.activatedRoute.queryParams.pipe(L(this.destroy$)).subscribe(e=>{this.isLevelUpMode=e.levelUp==="true",console.log("[Character Creator] Level-up mode:",this.isLevelUpMode)}),this.flowService.currentStep$.pipe(L(this.destroy$)).subscribe(e=>{this.currentStep=e}),this.flowService.setCurrentStepByRoute(this.router.url),!(this.activatedRoute.firstChild!==null)){let e=this.isLevelUpMode?this.getNextLevelUpStep(0):this.flowService.getStepRoute(0);e&&this.router.navigate([e],{relativeTo:this.activatedRoute,queryParamsHandling:"preserve"})}this.router.events.pipe(be(e=>e instanceof Jn),L(this.destroy$)).subscribe(()=>{this.flowService.setCurrentStepByRoute(this.router.url)}),this.characterState.character$.pipe(L(this.destroy$)).subscribe(e=>{this.validationService.validateAllSteps(e)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}nextStep(){if(this.isLevelUpMode){let t=this.flowService.getCurrentStep(),e=this.getNextLevelUpStep(t+1);e?(console.log("[Character Creator] Navigating to next level-up step:",e),this.router.navigate([e],{relativeTo:this.activatedRoute,queryParamsHandling:"preserve"})):this.completeLevelUp()}else if(this.flowService.canGoNext()){let t=this.flowService.getCurrentStep()+1,e=this.flowService.getStepRoute(t);e&&(console.log("Navigating to next step route:",e),this.router.navigate([e],{relativeTo:this.activatedRoute}))}}previousStep(){if(this.isLevelUpMode){let t=this.flowService.getCurrentStep(),e=this.getPreviousLevelUpStep(t-1);e&&this.router.navigate([e],{relativeTo:this.activatedRoute,queryParamsHandling:"preserve"})}else if(this.flowService.canGoPrevious()){let t=this.flowService.getCurrentStep()-1,e=this.flowService.getStepRoute(t);e&&this.router.navigate([e],{relativeTo:this.activatedRoute})}}getNextLevelUpStep(t){let e=["attributes","skills","talents","review"],i=this.characterState.getCharacter(),r=new gn;for(let o=t;o<this.steps.length;o++){let a=this.steps[o];if(e.includes(a.route)){if(a.route==="attributes"&&i&&r.getAttributePointsForLevel(i.level||1)===0)continue;return a.route}}return null}getPreviousLevelUpStep(t){let e=["attributes","skills","talents","review"];for(let i=t;i>=0;i--){let r=this.steps[i];if(e.includes(r.route))return r.route}return null}completeLevelUp(){let t=this.characterState.getCharacter();t&&t.pendingLevelPoints>0&&(t.pendingLevelPoints-=1,this.characterState.updateCharacter(t),console.log("[Character Creator] Level-up completed, pending points:",t.pendingLevelPoints),this.router.navigate(["/character-sheet"],{queryParams:{}}))}canGoNext(){return this.isLevelUpMode?!0:this.flowService.canGoNext()}canGoPrevious(){return this.flowService.canGoPrevious()}getTrainedSkills(t){let e=[];if(t?.skills)try{let i=t.skills.getAllSkillRanks();Object.entries(i).forEach(([r,o])=>{o>0&&e.push({name:this.formatSkillName(r),rank:o})})}catch(i){console.error("Error accessing skill ranks:",i)}return e}formatSkillName(t){return t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}getCultureNames(t){return!t?.cultures||t.cultures.length===0?"None":t.cultures.map(e=>e.name).join(", ")}getPathNames(t){return!t?.paths||t.paths.length===0?"None":t.paths.join(", ")}getTalentIds(t){return Array.from(t.unlockedTalents||[])}getUnlockedTalents(t){let e=[];return t?.unlockedTalents&&t.unlockedTalents.size>0&&t.unlockedTalents.forEach(i=>{let r=this.findTalentById(i);r&&e.push({name:r.name,tier:r.tier})}),e.sort((i,r)=>i.tier-r.tier||i.name.localeCompare(r.name))}findTalentById(t){let e=[];Object.values(hs).forEach(r=>{r.talentNodes&&e.push({pathName:r.name,nodes:r.talentNodes}),e.push(...r.paths)});let i=nr("singer");i&&e.push(i);for(let r of e){let o=r.nodes.find(a=>a.id===t);if(o)return o}return null}getTalentName(t){let e=this.findTalentById(t);return e?e.name:t.split("_").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ")}getExpertiseSourceBadge(t){return{culture:"Culture",manual:"Selected",talent:"Talent",gm:"GM Grant"}[t]||t}onStepPendingChange(t,e){this.creationProgress&&this.creationProgress.updateStepPending(t,e)}static \u0275fac=function(e){return new(e||n)(k(Pt),k(Bt),k(Ne),k(Nc),k(zt))};static \u0275cmp=D({type:n,selectors:[["app-character-creator-view"]],viewQuery:function(e,i){if(e&1&&tt(la,5),e&2){let r;W(r=Y())&&(i.creationProgress=r.first)}},decls:9,vars:4,consts:[[1,"character-creator-container"],["class","level-up-banner",4,"ngIf"],[1,"creator-main"],[1,"stepper-buttons"],["mat-button","",3,"click","disabled"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["class","character-preview",4,"ngIf"],[1,"level-up-banner"],[1,"level-up-info-card"],[1,"level-up-text"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"character-preview"],["class","preview-content",4,"ngIf"],[1,"preview-content"],[1,"preview-section","compact"],[1,"basic-info-grid"],["class","basic-info-grid",4,"ngIf"],[1,"preview-section"],[1,"attributes-grid"],[1,"attribute-item"],[1,"attr-label"],[1,"attr-value"],[1,"skills-grid"],["class","skill-item",4,"ngFor","ngForOf"],["class","empty-text",4,"ngIf"],["class","preview-section",4,"ngIf"],[1,"skill-item"],[1,"skill-name"],[1,"skill-rank"],[1,"empty-text"],[1,"expertises-list"],["class","expertise-item",4,"ngFor","ngForOf"],[1,"expertise-item"],[1,"expertise-name"],[1,"expertise-source"],[1,"talents-list"],["class","talent-item",4,"ngFor","ngForOf"],[1,"talent-item"],[1,"talent-tier"]],template:function(e,i){e&1&&(l(0,"div",0),x(1,Wj,9,0,"div",1),l(2,"div",2),q(3,"router-outlet"),l(4,"div",3)(5,"button",4),C("click",function(){return i.previousStep()}),u(6," Back "),c(),x(7,Yj,2,2,"button",5),c()(),x(8,rz,8,3,"div",6),c()),e&2&&(m(),g("ngIf",i.isLevelUpMode),m(4),g("disabled",!i.canGoPrevious()),m(2),g("ngIf",i.currentStep<i.steps.length-1||i.isLevelUpMode),m(),g("ngIf",i.currentStep>=4))},dependencies:[qe,dt,lt,Ke,Q,ue,ie,ds,ge,Pe,oe,le,Gb],styles:[".character-creator-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 350px;gap:2rem;padding:2rem;max-width:1400px;margin:0 auto}@media(max-width:768px){.character-creator-container[_ngcontent-%COMP%]{padding:1rem;gap:1rem}}.level-up-banner[_ngcontent-%COMP%]{grid-column:1/-1;margin-bottom:1rem}.level-up-banner[_ngcontent-%COMP%]   .level-up-info-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a1a,#2a1a17);border:2px solid #e74c3c;padding:1rem;display:flex;align-items:center;gap:1rem}.level-up-banner[_ngcontent-%COMP%]   .level-up-info-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;color:#e74c3c}.level-up-banner[_ngcontent-%COMP%]   .level-up-info-card[_ngcontent-%COMP%]   .level-up-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.level-up-banner[_ngcontent-%COMP%]   .level-up-info-card[_ngcontent-%COMP%]   .level-up-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem;color:#e74c3c}.level-up-banner[_ngcontent-%COMP%]   .level-up-info-card[_ngcontent-%COMP%]   .level-up-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#bbb;font-size:.9rem}.creator-main[_ngcontent-%COMP%]{min-height:600px;display:flex;flex-direction:column}@media(max-width:768px){.creator-main[_ngcontent-%COMP%]{min-height:calc(100vh - 120px)}}.stepper-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:2rem;padding-top:1rem;border-top:1px solid #ddd;position:relative;z-index:1}@media(max-width:768px){.stepper-buttons[_ngcontent-%COMP%]{position:sticky;bottom:6rem;width:100%;background-color:var(--gpSystemDarkerGrey);padding:1rem;margin:0;border-radius:0;border-top:2px solid var(--gpSystemDarkGrey);box-shadow:0 -4px 8px #0003;z-index:100;box-sizing:border-box}}.stepper-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:500}.stepper-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:disabled){color:#fff;background-color:var(--gpSystemDarkGrey)}.stepper-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:disabled):hover{background-color:var(--gpSystemGrey)}.stepper-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:#666;background-color:var(--gpSystemDarkerGrey);border:1px solid var(--gpSystemDarkGrey);opacity:.7;cursor:not-allowed}@media(max-width:768px){.stepper-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;max-width:48%}}.character-preview[_ngcontent-%COMP%]{position:sticky;top:2rem;height:fit-content;max-height:calc(100vh - 4rem);overflow:hidden;min-width:0}.character-preview[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{background-color:var(--gpSystemDarkerGrey)!important}.character-preview[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background-color:var(--gpSystemDarkGrey);color:#fff;padding:1rem;margin:-16px -16px 1rem}.character-preview[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#fff;margin:0}.character-preview[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1rem}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]{word-wrap:break-word;overflow-wrap:break-word}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid var(--gpSystemDarkGrey)}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--gpColor-ChalkyBlue);margin:0 0 .75rem;text-transform:uppercase;letter-spacing:.5px}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .preview-section.compact[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5rem;text-transform:none;letter-spacing:normal}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .preview-section.compact[_ngcontent-%COMP%]   .basic-info-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;margin-bottom:.25rem;font-size:.85rem}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .preview-section.compact[_ngcontent-%COMP%]   .basic-info-grid[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#e8e8e8}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .preview-section.compact[_ngcontent-%COMP%]   .basic-info-grid[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0;font-size:.9rem;line-height:1.4;color:#e8e8e8}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]{color:#999;font-style:italic;font-size:.85rem;margin:0}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .attributes-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:.4rem}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .attributes-grid[_ngcontent-%COMP%]   .attribute-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.3rem .5rem;background-color:var(--gpSystemDarkGrey);border-radius:4px}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .attributes-grid[_ngcontent-%COMP%]   .attribute-item[_ngcontent-%COMP%]   .attr-label[_ngcontent-%COMP%]{font-weight:600;color:#e8e8e8;font-size:.8rem}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .attributes-grid[_ngcontent-%COMP%]   .attribute-item[_ngcontent-%COMP%]   .attr-value[_ngcontent-%COMP%]{font-weight:700;color:var(--gpColor-ChalkyBlue);font-size:.9rem}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:.3rem}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.3rem .5rem;background-color:var(--gpSystemDarkGrey);border-radius:4px;font-size:.85rem}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%]{font-weight:500;color:#e8e8e8}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-rank[_ngcontent-%COMP%]{font-weight:700;color:var(--gpColor-ChalkyBlue)}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .expertises-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.3rem}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.4rem .5rem;background-color:var(--gpSystemDarkGrey);border-radius:4px;font-size:.85rem}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-name[_ngcontent-%COMP%]{flex:1;font-weight:500;color:#e8e8e8}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-source[_ngcontent-%COMP%]{font-size:.7rem;padding:.15rem .5rem;border-radius:10px;font-weight:600;text-transform:uppercase;letter-spacing:.3px}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-source.source-culture[_ngcontent-%COMP%]{background:#7e57c2;color:#fff}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-source.source-talent[_ngcontent-%COMP%]{background:#ff9800;color:#fff}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-source.source-gm[_ngcontent-%COMP%]{background:#f44336;color:#fff}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-source.source-manual[_ngcontent-%COMP%]{background:#ffffff26;color:#fff}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .talents-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .talents-list[_ngcontent-%COMP%]   .talent-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.4rem .5rem;background-color:var(--gpSystemDarkGrey);border-radius:4px;font-size:.85rem}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .talents-list[_ngcontent-%COMP%]   .talent-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{flex:1;color:#e8e8e8;font-weight:600}.character-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .talents-list[_ngcontent-%COMP%]   .talent-item[_ngcontent-%COMP%]   .talent-tier[_ngcontent-%COMP%]{font-size:.75rem;color:#999;font-weight:500}@media(max-width:1400px){.character-creator-container[_ngcontent-%COMP%]{grid-template-columns:1fr}.character-preview[_ngcontent-%COMP%]{display:none}}"]})};var eD=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(k(rt),k(G))};static \u0275dir=H({type:n})}return n})(),tD=(()=>{class n extends eD{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275dir=H({type:n,features:[ye]})}return n})(),au=new I("");var oz={provide:au,useExisting:yn(()=>Lr),multi:!0};function az(){let n=Ei()?Ei().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var sz=new I(""),Lr=(()=>{class n extends eD{_compositionMode;_composing=!1;constructor(e,i,r){super(e,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!az())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(k(rt),k(G),k(sz,8))};static \u0275dir=H({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&C("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},standalone:!1,features:[De([oz]),ye]})}return n})();function IC(n){return n==null||DC(n)===0}function DC(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Bc=new I(""),TC=new I(""),cz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Vc=class{static min(t){return nD(t)}static max(t){return iD(t)}static required(t){return lz(t)}static requiredTrue(t){return dz(t)}static email(t){return uz(t)}static minLength(t){return mz(t)}static maxLength(t){return rD(t)}static pattern(t){return pz(t)}static nullValidator(t){return Bf()}static compose(t){return dD(t)}static composeAsync(t){return uD(t)}};function nD(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function iD(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function lz(n){return IC(n.value)?{required:!0}:null}function dz(n){return n.value===!0?null:{required:!0}}function uz(n){return IC(n.value)||cz.test(n.value)?null:{email:!0}}function mz(n){return t=>{let e=t.value?.length??DC(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function rD(n){return t=>{let e=t.value?.length??DC(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function pz(n){if(!n)return Bf;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(IC(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Bf(n){return null}function oD(n){return n!=null}function aD(n){return co(n)?Tt(n):n}function sD(n){let t={};return n.forEach(e=>{t=e!=null?R(R({},t),e):t}),Object.keys(t).length===0?null:t}function cD(n,t){return t.map(e=>e(n))}function hz(n){return!n.validate}function lD(n){return n.map(t=>hz(t)?t:e=>t.validate(e))}function dD(n){if(!n)return null;let t=n.filter(oD);return t.length==0?null:function(e){return sD(cD(e,t))}}function AC(n){return n!=null?dD(lD(n)):null}function uD(n){if(!n)return null;let t=n.filter(oD);return t.length==0?null:function(e){let i=cD(e,t).map(aD);return hl(i).pipe(se(sD))}}function RC(n){return n!=null?uD(lD(n)):null}function WI(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function mD(n){return n._rawValidators}function pD(n){return n._rawAsyncValidators}function PC(n){return n?Array.isArray(n)?n:[n]:[]}function jf(n,t){return Array.isArray(n)?n.includes(t):n===t}function YI(n,t){let e=PC(t);return PC(n).forEach(r=>{jf(e,r)||e.push(r)}),e}function KI(n,t){return PC(t).filter(e=>!jf(n,e))}var zf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=AC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=RC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Cs=class extends zf{name;get formDirective(){return null}get path(){return null}},yo=class extends zf{_parent=null;name=null;valueAccessor=null},kC=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var ki=(()=>{class n extends kC{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(k(yo,2))};static \u0275dir=H({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&T("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[ye]})}return n})();var tu="VALID",Vf="INVALID",Fc="PENDING",nu="DISABLED",da=class{},Uf=class extends da{value;source;constructor(t,e){super(),this.value=t,this.source=e}},ru=class extends da{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},ou=class extends da{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Lc=class extends da{status;source;constructor(t,e){super(),this.status=t,this.source=e}},Hf=class extends da{source;constructor(t){super(),this.source=t}},qf=class extends da{source;constructor(t){super(),this.source=t}};function hD(n){return(Qf(n)?n.validators:n)||null}function fz(n){return Array.isArray(n)?AC(n):n||null}function fD(n,t){return(Qf(t)?t.asyncValidators:n)||null}function gz(n){return Array.isArray(n)?RC(n):n||null}function Qf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function _z(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new V(1e3,"");if(!i[e])throw new V(1001,"")}function vz(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new V(1002,"")})}var $f=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Rt(this.statusReactive)}set status(t){Rt(()=>this.statusReactive.set(t))}_status=Yi(()=>this.statusReactive());statusReactive=$e(void 0);get valid(){return this.status===tu}get invalid(){return this.status===Vf}get pending(){return this.status==Fc}get disabled(){return this.status===nu}get enabled(){return this.status!==nu}errors;get pristine(){return Rt(this.pristineReactive)}set pristine(t){Rt(()=>this.pristineReactive.set(t))}_pristine=Yi(()=>this.pristineReactive());pristineReactive=$e(!0);get dirty(){return!this.pristine}get touched(){return Rt(this.touchedReactive)}set touched(t){Rt(()=>this.touchedReactive.set(t))}_touched=Yi(()=>this.touchedReactive());touchedReactive=$e(!1);get untouched(){return!this.touched}_events=new P;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(YI(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(YI(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(KI(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(KI(t,this._rawAsyncValidators))}hasValidator(t){return jf(this._rawValidators,t)}hasAsyncValidator(t){return jf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(xe(R({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new ou(!0,i))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new ou(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(xe(R({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new ru(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new ru(!0,i))}markAsPending(t={}){this.status=Fc;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Lc(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(xe(R({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=nu,this.errors=null,this._forEachChild(r=>{r.disable(xe(R({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Uf(this.value,i)),this._events.next(new Lc(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(xe(R({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=tu,this._forEachChild(i=>{i.enable(xe(R({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(xe(R({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tu||this.status===Fc)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Uf(this.value,e)),this._events.next(new Lc(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(xe(R({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nu:tu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Fc,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let i=aD(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Lc(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new U,this.statusChanges=new U}_calculateStatus(){return this._allControlsDisabled()?nu:this.errors?Vf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fc)?Fc:this._anyControlsHaveStatus(Vf)?Vf:tu}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new ru(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new ou(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Qf(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=fz(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=gz(this._rawAsyncValidators)}},Gf=class extends $f{constructor(t,e,i){super(hD(e),fD(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){vz(this,!0,t),Object.keys(t).forEach(i=>{_z(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,xe(R({},e),{onlySelf:!0}))}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new qf(this))}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Zf=new I("",{factory:()=>NC}),NC="always";function yz(n,t){return[...t.path,n]}function Wf(n,t,e=NC){FC(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),Cz(n,t),wz(n,t),xz(n,t),bz(n,t)}function QI(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Kf(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Yf(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function bz(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function FC(n,t){let e=mD(n);t.validator!==null?n.setValidators(WI(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=pD(n);t.asyncValidator!==null?n.setAsyncValidators(WI(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Yf(t._rawValidators,r),Yf(t._rawAsyncValidators,r)}function Kf(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=mD(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let r=pD(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}let i=()=>{};return Yf(t._rawValidators,i),Yf(t._rawAsyncValidators,i),e}function Cz(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&gD(n,t)})}function xz(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&gD(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function gD(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function wz(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function _D(n,t){n==null,FC(n,t)}function Mz(n,t){return Kf(n,t)}function Ez(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Sz(n){return Object.getPrototypeOf(n.constructor)===tD}function vD(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Oz(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(o=>{o.constructor===Lr?e=o:Sz(o)?i=o:r=o}),r||i||e||null}function Pz(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var kz={provide:Cs,useExisting:yn(()=>su)},iu=Promise.resolve(),su=(()=>{class n extends Cs{callSetDisabledState;get submitted(){return Rt(this.submittedReactive)}_submitted=Yi(()=>this.submittedReactive());submittedReactive=$e(!1);_directives=new Set;form;ngSubmit=new U;options;constructor(e,i,r){super(),this.callSetDisabledState=r,this.form=new Gf({},AC(e),RC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){iu.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Wf(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){iu.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){iu.then(()=>{let i=this._findContainer(e.path),r=new Gf({});_D(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){iu.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){iu.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),vD(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new Hf(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(i){return new(i||n)(k(Bc,10),k(TC,10),k(Zf,8))};static \u0275dir=H({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&C("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[De([kz]),ye]})}return n})();function ZI(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function XI(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var yD=class extends $f{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(hD(e),fD(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qf(e)&&(e.nonNullable||e.initialValueIsDefault)&&(XI(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),e.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new qf(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ZI(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ZI(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){XI(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Iz=n=>n instanceof yD;var Dz={provide:yo,useExisting:yn(()=>fi)},JI=Promise.resolve(),fi=(()=>{class n extends yo{_changeDetectorRef;callSetDisabledState;control=new yD;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new U;constructor(e,i,r,o,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Oz(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Ez(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Wf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){JI.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&ce(i);JI.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?yz(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(k(Cs,9),k(Bc,10),k(TC,10),k(au,10),k(fe,8),k(Zf,8))};static \u0275dir=H({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[De([Dz]),ye,it]})}return n})();var Tz={provide:au,useExisting:yn(()=>cu),multi:!0},cu=(()=>{class n extends tD{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275dir=H({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&C("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[De([Tz]),ye]})}return n})();var Az=(()=>{class n extends Cs{callSetDisabledState;get submitted(){return Rt(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Yi(()=>this._submittedReactive());_submittedReactive=$e(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(e,i,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this.onChanges(e)}ngOnDestroy(){this.onDestroy()}onChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(Kf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(e){let i=this.form.get(e.path);return Wf(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){QI(e.control||null,e,!1),Pz(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}getFormArray(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}updateModel(e,i){this.form.get(e.path).setValue(i)}onReset(){this.resetForm()}resetForm(e=void 0,i={}){this.form.reset(e,i),this._submittedReactive.set(!1)}onSubmit(e){return this.submitted=!0,vD(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Hf(this.control)),e?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(QI(i||null,e),Iz(r)&&(Wf(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);_D(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&Mz(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){FC(this.form,this),this._oldForm&&Kf(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(i){return new(i||n)(k(Bc,10),k(TC,10),k(Zf,8))};static \u0275dir=H({type:n,features:[ye,it]})}return n})();var Rz={provide:Cs,useExisting:yn(()=>lu)},lu=(()=>{class n extends Az{form=null;ngSubmit=new U;get control(){return this.form}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275dir=H({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&C("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[De([Rz]),ye]})}return n})();function Nz(n){return typeof n=="number"?n:parseInt(n,10)}function bD(n){return typeof n=="number"?n:parseFloat(n)}var LC=(()=>{class n{_validator=Bf;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Bf,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,features:[it]})}return n})(),Fz={provide:Bc,useExisting:yn(()=>VC),multi:!0},VC=(()=>{class n extends LC{max;inputName="max";normalizeInput=e=>bD(e);createValidator=e=>iD(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275dir=H({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&X("max",r._enabled?r.max:null)},inputs:{max:"max"},standalone:!1,features:[De([Fz]),ye]})}return n})(),Lz={provide:Bc,useExisting:yn(()=>du),multi:!0},du=(()=>{class n extends LC{min;inputName="min";normalizeInput=e=>bD(e);createValidator=e=>nD(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275dir=H({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&X("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[De([Lz]),ye]})}return n})();var Vz={provide:Bc,useExisting:yn(()=>BC),multi:!0},BC=(()=>{class n extends LC{maxlength;inputName="maxlength";normalizeInput=e=>Nz(e);createValidator=e=>rD(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275dir=H({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&X("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[De([Vz]),ye]})}return n})();var Bz=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({})}return n})();var Ii=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Zf,useValue:e.callSetDisabledState??NC}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[Bz]})}return n})();var jC=class{_box;_destroyed=new P;_resizeSubject=new P;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new we(e=>{let i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(be(e=>e.some(i=>i.target===t)),fm({bufferSize:1,refCount:!0}),L(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},CD=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=f($);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new jC(r)),this._observers.get(r).observe(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var jz=["notch"],zz=["matFormFieldNotchedOutline",""],Uz=["*"],xD=["iconPrefixContainer"],wD=["textPrefixContainer"],MD=["iconSuffixContainer"],ED=["textSuffixContainer"],Hz=["textField"],qz=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],$z=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Gz(n,t){n&1&&q(0,"span",21)}function Wz(n,t){if(n&1&&(l(0,"label",20),J(1,1),Ee(2,Gz,1,0,"span",21),c()),n&2){let e=v(2);g("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),X("for",e._control.disableAutomaticLabeling?null:e._control.id),m(2),Se(!e.hideRequiredMarker&&e._control.required?2:-1)}}function Yz(n,t){if(n&1&&Ee(0,Wz,3,5,"label",20),n&2){let e=v();Se(e._hasFloatingLabel()?0:-1)}}function Kz(n,t){n&1&&q(0,"div",7)}function Qz(n,t){}function Zz(n,t){if(n&1&&x(0,Qz,0,0,"ng-template",13),n&2){v(2);let e=St(1);g("ngTemplateOutlet",e)}}function Xz(n,t){if(n&1&&(l(0,"div",9),Ee(1,Zz,1,1,null,13),c()),n&2){let e=v();g("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),m(),Se(e._forceDisplayInfixLabel()?-1:1)}}function Jz(n,t){n&1&&(l(0,"div",10,2),J(2,2),c())}function e8(n,t){n&1&&(l(0,"div",11,3),J(2,3),c())}function t8(n,t){}function n8(n,t){if(n&1&&x(0,t8,0,0,"ng-template",13),n&2){v();let e=St(1);g("ngTemplateOutlet",e)}}function i8(n,t){n&1&&(l(0,"div",14,4),J(2,4),c())}function r8(n,t){n&1&&(l(0,"div",15,5),J(2,5),c())}function o8(n,t){n&1&&q(0,"div",16)}function a8(n,t){n&1&&(l(0,"div",18),J(1,6),c())}function s8(n,t){if(n&1&&(l(0,"mat-hint",22),u(1),c()),n&2){let e=v(2);g("id",e._hintLabelId),m(),w(e.hintLabel)}}function c8(n,t){if(n&1&&(l(0,"div",19),Ee(1,s8,2,2,"mat-hint",22),J(2,7),q(3,"div",23),J(4,8),c()),n&2){let e=v();m(),Se(e.hintLabel?1:-1)}}var gi=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["mat-label"]]})}return n})(),l8=new I("MatError");var xs=(()=>{class n{align="start";id=f(nt).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){i&2&&(In("id",r.id),X("align",null),T("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return n})(),TD=new I("MatPrefix"),zC=(()=>{class n{set _isTextSelector(e){this._isText=!0}_isText=!1;static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:[0,"matTextPrefix","_isTextSelector"]},features:[De([{provide:TD,useExisting:n}])]})}return n})(),d8=new I("MatSuffix");var AD=new I("FloatingLabelParent"),SD=(()=>{class n{_elementRef=f(G);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=f(CD);_ngZone=f($);_parent=f(AD);_resizeSubscription=new je;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return u8(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){i&2&&T("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();function u8(n){let t=n;if(t.offsetParent!==null)return t.scrollWidth;let e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let i=e.scrollWidth;return e.remove(),i}var OD="mdc-line-ripple--active",Xf="mdc-line-ripple--deactivating",PD=(()=>{class n{_elementRef=f(G);_cleanupTransitionEnd;constructor(){let e=f($),i=f(rt);e.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(Xf),e.add(OD)}deactivate(){this._elementRef.nativeElement.classList.add(Xf)}_handleTransitionEnd=e=>{let i=this._elementRef.nativeElement.classList,r=i.contains(Xf);e.propertyName==="opacity"&&r&&i.remove(OD,Xf)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),kD=(()=>{class n{_elementRef=f(G);_ngZone=f($);open=!1;_notch;ngAfterViewInit(){let e=this._elementRef.nativeElement,i=e.querySelector(".mdc-floating-label");i?(e.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):e.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){let i=this._notch.nativeElement;!this.open||!e?i.style.width="":i.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}_setMaxWidth(e){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${e}px)`)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(i&1&&tt(jz,5),i&2){let o;W(o=Y())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){i&2&&T("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:zz,ngContentSelectors:Uz,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){i&1&&(Ue(),tn(0,"div",1),Je(1,"div",2,0),J(3),et(),tn(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),uu=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n})}return n})();var mu=new I("MatFormField"),m8=new I("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ID="fill",p8="auto",DD="fixed",h8="translateY(-50%)",ti=(()=>{class n{_elementRef=f(G);_changeDetectorRef=f(fe);_platform=f(Fe);_idGenerator=f(nt);_ngZone=f($);_defaults=f(m8,{optional:!0});_currentDirection;_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=id("iconPrefixContainer");_textPrefixContainerSignal=id("textPrefixContainer");_iconSuffixContainerSignal=id("iconSuffixContainer");_textSuffixContainerSignal=id("textSuffixContainer");_prefixSuffixContainers=Yi(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(e=>e?.nativeElement).filter(e=>e!==void 0));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=xO(gi);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ht(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||p8}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearanceSignal()}set appearance(e){let i=e||this._defaults?.appearance||ID;this._appearanceSignal.set(i)}_appearanceSignal=$e(ID);get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||DD}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||DD}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new P;_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_outlineLabelOffsetResizeObserver=null;_animationsDisabled=at();constructor(){let e=this._defaults,i=f(on);e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color)),Ho(()=>this._currentDirection=i.valueSignal()),this._syncOutlineLabelOffset()}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Yi(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let i=this._control,r="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(Mt([void 0,void 0]),se(()=>[i.errorState,i.userAriaDescribedBy]),hm(),be(([[o,a],[s,d]])=>o!==s||a!==d)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(L(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),dn(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){let e=this._control.focused;e&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!e&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._elementRef.nativeElement.classList.toggle("mat-focused",e),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",e)}_syncOutlineLabelOffset(){EO({earlyRead:()=>{if(this._appearanceSignal()!=="outline")return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset())});for(let e of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(e,{box:"border-box"})}return this._getOutlinedLabelOffset()},write:e=>this._writeOutlinedLabelStyles(e())})}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Yi(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let i=this._control?this._control.ngControl:null;return i&&i[e]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let o=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,a=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;o?e.push(o.id):this._hintLabel&&e.push(this._hintLabelId),a&&e.push(a.id)}else this._errorChildren&&e.push(...this._errorChildren.map(o=>o.id));let i=this._control.describedByIds,r;if(i){let o=this._describedByIds||e;r=e.concat(i.filter(a=>a&&!o.includes(a)))}else r=e;this._control.setDescribedByIds(r),this._describedByIds=e}}_getOutlinedLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;let e=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,r=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,a=e?.getBoundingClientRect().width??0,s=i?.getBoundingClientRect().width??0,d=r?.getBoundingClientRect().width??0,p=o?.getBoundingClientRect().width??0,h=this._currentDirection==="rtl"?"-1":"1",_=`${a+s}px`,y=`calc(${h} * (${_} + var(--mat-mdc-form-field-label-offset-x, 0px)))`,M=`var(--mat-mdc-form-field-label-transform, ${h8} translateX(${y}))`,A=a+s+d+p;return[M,A]}_writeOutlinedLabelStyles(e){if(e!==null){let[i,r]=e;this._floatingLabel&&(this._floatingLabel.element.style.transform=i),r!==null&&this._notchedOutline?._setMaxWidth(r)}}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(i&1&&(Rp(o,r._labelChild,gi,5),Lt(o,uu,5)(o,TD,5)(o,d8,5)(o,l8,5)(o,xs,5)),i&2){Fp();let a;W(a=Y())&&(r._formFieldControl=a.first),W(a=Y())&&(r._prefixChildren=a),W(a=Y())&&(r._suffixChildren=a),W(a=Y())&&(r._errorChildren=a),W(a=Y())&&(r._hintChildren=a)}},viewQuery:function(i,r){if(i&1&&(Np(r._iconPrefixContainerSignal,xD,5)(r._textPrefixContainerSignal,wD,5)(r._iconSuffixContainerSignal,MD,5)(r._textSuffixContainerSignal,ED,5),tt(Hz,5)(xD,5)(wD,5)(MD,5)(ED,5)(SD,5)(kD,5)(PD,5)),i&2){Fp(4);let o;W(o=Y())&&(r._textField=o.first),W(o=Y())&&(r._iconPrefixContainer=o.first),W(o=Y())&&(r._textPrefixContainer=o.first),W(o=Y())&&(r._iconSuffixContainer=o.first),W(o=Y())&&(r._textSuffixContainer=o.first),W(o=Y())&&(r._floatingLabel=o.first),W(o=Y())&&(r._notchedOutline=o.first),W(o=Y())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:38,hostBindings:function(i,r){i&2&&T("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[De([{provide:mu,useExisting:n},{provide:AD,useExisting:n}])],ngContentSelectors:$z,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],["aria-atomic","true","aria-live","polite",1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(i&1){let o=F();Ue(qz),x(0,Yz,1,1,"ng-template",null,0,di),l(2,"div",6,1),C("click",function(s){return E(o),S(r._control.onContainerClick(s))}),Ee(4,Kz,1,0,"div",7),l(5,"div",8),Ee(6,Xz,2,2,"div",9),Ee(7,Jz,3,0,"div",10),Ee(8,e8,3,0,"div",11),l(9,"div",12),Ee(10,n8,1,1,null,13),J(11),c(),Ee(12,i8,3,0,"div",14),Ee(13,r8,3,0,"div",15),c(),Ee(14,o8,1,0,"div",16),c(),l(15,"div",17),Ee(16,a8,2,0,"div",18)(17,c8,5,1,"div",19),c()}if(i&2){let o;m(2),T("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),m(2),Se(!r._hasOutline()&&!r._control.disabled?4:-1),m(2),Se(r._hasOutline()?6:-1),m(),Se(r._hasIconPrefix?7:-1),m(),Se(r._hasTextPrefix?8:-1),m(2),Se(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),m(2),Se(r._hasTextSuffix?12:-1),m(),Se(r._hasIconSuffix?13:-1),m(),Se(r._hasOutline()?-1:14),m(),T("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let a=r._getSubscriptMessageType();m(),Se((o=a)==="error"?16:o==="hint"?17:-1)}},dependencies:[SD,kD,Za,PD,xs],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator,.mdc-text-field__input::-webkit-search-cancel-button{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return n})();var Un=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[Dc,ti,Oe]})}return n})();var f8=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return n})(),g8={passive:!0},RD=(()=>{class n{_platform=f(Fe);_ngZone=f($);_renderer=f(Nt).createRenderer(null,null);_styleLoader=f(Ot);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return Wt;this._styleLoader.load(f8);let i=zn(e),r=this._monitoredElements.get(i);if(r)return r.subject;let o=new P,a="cdk-text-field-autofilled",s=p=>{p.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(a)?(i.classList.add(a),this._ngZone.run(()=>o.next({target:p.target,isAutofilled:!0}))):p.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>o.next({target:p.target,isAutofilled:!1})))},d=this._ngZone.runOutsideAngular(()=>(i.classList.add("cdk-text-field-autofill-monitored"),this._renderer.listen(i,"animationstart",s,g8)));return this._monitoredElements.set(i,{subject:o,unlisten:d}),o}stopMonitoring(e){let i=zn(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ND=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({})}return n})();var FD=new I("MAT_INPUT_VALUE_ACCESSOR");var zc=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Uc=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(t,e,i,r,o){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o}updateErrorState(){let t=this.errorState,e=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,e)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var _8=["button","checkbox","file","hidden","image","radio","range","reset","submit"],v8=new I("MAT_INPUT_CONFIG"),Hc=(()=>{class n{_elementRef=f(G);_platform=f(Fe);ngControl=f(yo,{optional:!0,self:!0});_autofillMonitor=f(RD);_ngZone=f($);_formField=f(mu,{optional:!0});_renderer=f(rt);_uid=f(nt).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=f(v8,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new P;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=ht(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(Vc.required)??!1}set required(e){this._required=ht(e)}_required;get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&xC().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ht(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>xC().has(e));constructor(){let e=f(su,{optional:!0}),i=f(lu,{optional:!0}),r=f(zc),o=f(FD,{optional:!0,self:!0}),a=this._elementRef.nativeElement,s=a.nodeName.toLowerCase();o?so(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=a,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(a,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Uc(r,this.ngControl,i,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=s==="select",this._isTextarea=s==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=a.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&Ho(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let i=this._elementRef.nativeElement;i.type==="number"?(i.type="text",i.setSelectionRange(0,0),i.type="number"):i.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){_8.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}else return this.focused&&!this.disabled||!this.empty}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(e){let i=this._elementRef.nativeElement;e.length?i.setAttribute("aria-describedby",e.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let i=e.target;!i.value&&i.selectionStart===0&&i.selectionEnd===0&&(i.setSelectionRange(1,1),i.setSelectionRange(0,0))};_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(i,r){i&1&&C("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),i&2&&(In("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),X("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),T("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",ce]},exportAs:["matInput"],features:[De([{provide:uu,useExisting:n}]),it]})}return n})(),ua=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[Un,Un,ND,Oe]})}return n})();var y8=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],b8=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function C8(n,t){n&1&&(l(0,"span",3),J(1,1),c())}function x8(n,t){n&1&&(l(0,"span",6),J(1,2),c())}var w8=["*"];var M8=new I("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),LD=new I("MatChipAvatar"),VD=new I("MatChipTrailingIcon"),BD=new I("MatChipEdit"),HC=new I("MatChipRemove"),jD=new I("MatChip"),zD=(()=>{class n{_elementRef=f(G);_parentChip=f(jD);_isPrimary=!0;_isLeading=!1;get disabled(){return this._disabled||this._parentChip?.disabled||!1}set disabled(e){this._disabled=e}_disabled=!1;tabIndex=-1;_allowFocusWhenDisabled=!1;_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}constructor(){f(Ot).load(rr),this._elementRef.nativeElement.nodeName==="BUTTON"&&this._elementRef.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["","matChipContent",""]],hostAttrs:[1,"mat-mdc-chip-action","mdc-evolution-chip__action","mdc-evolution-chip__action--presentational"],hostVars:8,hostBindings:function(i,r){i&2&&(X("disabled",r._getDisabledAttribute())("aria-disabled",r.disabled),T("mdc-evolution-chip__action--primary",r._isPrimary)("mdc-evolution-chip__action--secondary",!r._isPrimary)("mdc-evolution-chip__action--trailing",!r._isPrimary&&!r._isLeading))},inputs:{disabled:[2,"disabled","disabled",ce],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?-1:Vt(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"}})}return n})(),UD=(()=>{class n extends zD{_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled?null:this.tabIndex.toString()}_handleClick(e){!this.disabled&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!this.disabled&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275dir=H({type:n,selectors:[["","matChipAction",""]],hostVars:3,hostBindings:function(i,r){i&1&&C("click",function(a){return r._handleClick(a)})("keydown",function(a){return r._handleKeydown(a)}),i&2&&(X("tabindex",r._getTabindex()),T("mdc-evolution-chip__action--presentational",!1))},features:[ye]})}return n})();var Jf=(()=>{class n extends UD{_isPrimary=!1;_handleClick(e){this.disabled||(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!this.disabled&&(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275dir=H({type:n,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(i,r){i&2&&X("aria-hidden",null)},features:[De([{provide:HC,useExisting:n}]),ye]})}return n})(),sn=(()=>{class n{_changeDetectorRef=f(fe);_elementRef=f(G);_tagName=f(bO);_ngZone=f($);_focusMonitor=f(hi);_globalRippleOptions=f(bs,{optional:!0});_document=f(ee);_onFocus=new P;_onBlur=new P;_isBasicChip;role=null;_hasFocusInternal=!1;_pendingFocus;_actionChanges;_animationsDisabled=at();_allLeadingIcons;_allTrailingIcons;_allEditIcons;_allRemoveIcons;_hasFocus(){return this._hasFocusInternal}id=f(nt).getId("mat-mdc-chip-");ariaLabel=null;ariaDescription=null;_chipListDisabled=!1;_hadFocusOnRemove=!1;_textElement;get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}_value;color;removable=!0;highlighted=!1;disableRipple=!1;get disabled(){return this._disabled||this._chipListDisabled}set disabled(e){this._disabled=e}_disabled=!1;removed=new U;destroyed=new U;basicChipAttrName="mat-basic-chip";leadingIcon;editIcon;trailingIcon;removeIcon;primaryAction;_rippleLoader=f(Ff);_injector=f(ae);constructor(){let e=f(Ot);e.load(rr),e.load(tr),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){this._isBasicChip=this._elementRef.nativeElement.hasAttribute(this.basicChipAttrName)||this._tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=dn(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allEditIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&(this._hadFocusOnRemove=this._hasFocus(),this.removed.emit({chip:this}))}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!this._hasInteractiveActions()||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(e){(e.keyCode===8&&!e.repeat||e.keyCode===46)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(i=>{let r=i._elementRef.nativeElement;return r===e||r.contains(e)})}_getActions(){let e=[];return this.editIcon&&e.push(this.editIcon),this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),e}_handlePrimaryActionInteraction(){}_hasInteractiveActions(){return this._getActions().length>0}_edit(e){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{let i=e!==null;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):(this._changeDetectorRef.markForCheck(),setTimeout(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})))))})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(i,r,o){if(i&1&&Lt(o,LD,5)(o,BD,5)(o,VD,5)(o,HC,5)(o,LD,5)(o,VD,5)(o,BD,5)(o,HC,5),i&2){let a;W(a=Y())&&(r.leadingIcon=a.first),W(a=Y())&&(r.editIcon=a.first),W(a=Y())&&(r.trailingIcon=a.first),W(a=Y())&&(r.removeIcon=a.first),W(a=Y())&&(r._allLeadingIcons=a),W(a=Y())&&(r._allTrailingIcons=a),W(a=Y())&&(r._allEditIcons=a),W(a=Y())&&(r._allRemoveIcons=a)}},viewQuery:function(i,r){if(i&1&&tt(UD,5),i&2){let o;W(o=Y())&&(r.primaryAction=o.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(i,r){i&1&&C("keydown",function(a){return r._handleKeydown(a)}),i&2&&(In("id",r.id),X("role",r.role)("aria-label",r.ariaLabel),Ie("mat-"+(r.color||"primary")),T("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-basic-chip",r._isBasicChip)("mat-mdc-standard-chip",!r._isBasicChip)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon())("_mat-animation-noopable",r._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",ce],highlighted:[2,"highlighted","highlighted",ce],disableRipple:[2,"disableRipple","disableRipple",ce],disabled:[2,"disabled","disabled",ce]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[De([{provide:jD,useExisting:n}])],ngContentSelectors:b8,decls:8,vars:2,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipContent",""],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,r){i&1&&(Ue(y8),q(0,"span",0),l(1,"span",1)(2,"span",2),Ee(3,C8,2,0,"span",3),l(4,"span",4),J(5),q(6,"span",5),c()()(),Ee(7,x8,2,0,"span",6)),i&2&&(m(3),Se(r.leadingIcon?3:-1),m(4),Se(r._hasTrailingIcon()?7:-1))},dependencies:[zD],styles:[`.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}@media(forced-colors: active){.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{forced-color-adjust:none}}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-outline-width, 1px);border-radius:var(--mat-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mat-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--secondary{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mat-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mat-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mat-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mat-chip-with-avatar-avatar-size, 24px);height:var(--mat-chip-with-avatar-avatar-size, 24px);font-size:var(--mat-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__graphic{padding-left:0}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mat-chip-container-shape-radius, 8px);height:var(--mat-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mat-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mat-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mat-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mat-chip-with-icon-icon-size, 18px);height:var(--mat-chip-with-icon-icon-size, 18px);font-size:var(--mat-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mat-chip-with-icon-icon-color: var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mat-chip-elevated-container-color: var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mat-chip-label-text-color: var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mat-chip-outline-width: var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mat-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mat-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-edit,.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-edit:focus,.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-edit:hover::after,.mat-mdc-chip-remove:hover::after{opacity:calc(var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)) + var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)))}.mat-mdc-chip-edit:focus::after,.mat-mdc-chip-remove:focus::after{opacity:calc(var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)) + var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-edit:focus::after,.mat-mdc-chip.cdk-focused .mat-mdc-chip-remove:focus::after{opacity:calc(var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)) + var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-edit:hover::after,.mat-mdc-chip.cdk-focused .mat-mdc-chip-remove:hover::after{opacity:calc(var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)) + var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mat-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-edit::before,.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus-visible .mat-focus-indicator::before{content:""}.mdc-evolution-chip__icon,.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{min-height:fit-content}img.mdc-evolution-chip__icon{min-height:0}
`],encapsulation:2,changeDetection:0})}return n})();var Ti=(()=>{class n{_elementRef=f(G);_changeDetectorRef=f(fe);_dir=f(on,{optional:!0});_lastDestroyedFocusedChipIndex=null;_keyManager;_destroyed=new P;_defaultRole="presentation";get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get chipRemovedChanges(){return this._getChipStream(e=>e.removed)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}_disabled=!1;get empty(){return!this._chips||this._chips.length===0}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}tabIndex=0;set role(e){this._explicitRole=e}_explicitRole=null;get focused(){return this._hasFocusedChip()}_chips;_chipActions=new ci;constructor(){}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips?.forEach(e=>{e._chipListDisabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){let e=this._elementRef.nativeElement.tabIndex;e!==-1&&(this._elementRef.nativeElement.tabIndex=-1,setTimeout(()=>this._elementRef.nativeElement.tabIndex=e))}_getChipStream(e){return this._chips.changes.pipe(Mt(null),un(()=>dn(...this._chips.map(e))))}_originatesFromChip(e){let i=e.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-mdc-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(Mt(this._chips)).subscribe(e=>{let i=[];e.forEach(r=>r._getActions().forEach(o=>i.push(o))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new vo(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(L(this._destroyed)).subscribe(({chip:e})=>{let i=e._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe(L(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(Mt(null),L(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(L(this._destroyed)).subscribe(e=>{let r=this._chips.toArray().indexOf(e.chip),o=e.chip._hasFocus(),a=e.chip._hadFocusOnRemove&&this._keyManager.activeItem&&e.chip._getActions().includes(this._keyManager.activeItem),s=o||a;this._isValidIndex(r)&&s&&(this._lastDestroyedFocusedChipIndex=r)})}_redirectDestroyedChipFocus(){if(this._lastDestroyedFocusedChipIndex!=null){if(this._chips.length){let e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[e];i.disabled?this._chips.length===1?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-chip-set"]],contentQueries:function(i,r,o){if(i&1&&Lt(o,sn,5),i&2){let a;W(a=Y())&&(r._chips=a)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(i,r){i&1&&C("keydown",function(a){return r._handleKeydown(a)}),i&2&&X("role",r.role)},inputs:{disabled:[2,"disabled","disabled",ce],role:"role",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Vt(e)]},ngContentSelectors:w8,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){i&1&&(Ue(),Je(0,"div",0),J(1),et())},styles:[`.mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-moz-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-webkit-input-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input:-ms-input-placeholder{opacity:1}.mat-mdc-chip-set+input.mat-mdc-chip-input{margin-left:0;margin-right:0}
`],encapsulation:2,changeDetection:0})}return n})();var Ut=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({providers:[zc,{provide:M8,useValue:{separatorKeyCodes:[13]}}],imports:[ca,Oe]})}return n})();function E8(n,t){if(n&1&&(l(0,"mat-hint"),u(1),c()),n&2){let e=v();m(),O(" ",e.characterName.length,"/50 characters ")}}function S8(n,t){if(n&1&&(l(0,"div",11)(1,"p",12),u(2),c()()),n&2){let e=v();m(2),w(e.nameError)}}function O8(n,t){n&1&&(l(0,"div",13)(1,"p"),u(2,"Choose a name that reflects your character's heritage and destiny."),c(),l(3,"p",14)(4,"small"),u(5,"Must be 2-50 characters. Only letters, spaces, hyphens, and apostrophes allowed."),c()()())}function P8(n,t){if(n&1&&(l(0,"div",15)(1,"p"),u(2,"Greetings, "),l(3,"strong"),u(4),c(),u(5,"! Let's build your legend."),c()()),n&2){let e=v();m(4),w(e.characterName)}}function k8(n,t){if(n&1){let e=F();l(0,"mat-chip",20),C("click",function(){let r=E(e).$implicit,o=v(2);return S(o.selectSuggestedName(r))}),u(1),c()}if(n&2){let e=t.$implicit;m(),O(" ",e," ")}}function I8(n,t){if(n&1&&(l(0,"mat-card",16)(1,"mat-card-header")(2,"mat-card-title")(3,"mat-icon"),u(4,"person"),c(),u(5," Suggested Names "),c()(),l(6,"mat-card-content")(7,"p",17),u(8),c(),l(9,"div",18)(10,"mat-chip-set"),x(11,k8,2,1,"mat-chip",19),c()()()()),n&2){let e=v();m(8),O("Based on your selected culture",((e.character==null||e.character.cultures==null?null:e.character.cultures.length)??0)>1?"s":""),m(3),g("ngForOf",e.suggestedNames)}}var eg=class n{constructor(t,e){this.characterState=t;this.validationService=e}destroy$=new P;STEP_INDEX=2;character=null;characterName="";nameError="";suggestedNames=[];ngOnInit(){setTimeout(()=>{let t=document.querySelector(".app-sidenav-content");t&&t.scrollTo({top:0,behavior:"smooth"})},0),this.characterState.character$.pipe(L(this.destroy$)).subscribe(t=>{this.character=t,this.characterName||(this.characterName=t.name||""),this.updateSuggestedNames(),this.validateName(),this.updateValidation()})}updateSuggestedNames(){if(!this.character?.cultures||this.character.cultures.length===0){this.suggestedNames=[];return}let t=new Set;this.character.cultures.forEach(e=>{e.suggestedNames&&e.suggestedNames.forEach(i=>t.add(i))}),this.suggestedNames=Array.from(t)}selectSuggestedName(t){this.characterName=t,this.onNameChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onNameChange(){this.validateName(),this.character&&(this.nameError===""?(this.character.name=this.characterName.trim(),this.character.nameInputHasError=!1):(this.character.name="",this.character.nameInputHasError=!0),this.characterState.updateCharacter(this.character),this.updateValidation())}updateValidation(){let t=this.nameError===""&&this.characterName.trim().length>=2;this.validationService.setStepValid(this.STEP_INDEX,t)}validateName(){let t=this.characterName.trim();if(!t){this.nameError="Character name is required";return}if(t.length<2){this.nameError="Name must be at least 2 characters";return}if(t.length>50){this.nameError="Name must be 50 characters or less";return}if(!/^[a-zA-Z\s\-']+$/.test(t)){this.nameError="Name can only contain letters, spaces, hyphens, and apostrophes";return}if(/\s{2,}/.test(t)){this.nameError="Name cannot contain multiple consecutive spaces";return}this.nameError=""}isNameValid(){return this.validateName(),this.nameError===""&&this.characterName.trim().length>=2}static \u0275fac=function(e){return new(e||n)(k(Ne),k(zt))};static \u0275cmp=D({type:n,selectors:[["app-character-name"]],decls:21,vars:6,consts:[["nameInput","ngModel"],[1,"character-name-container"],[1,"name-card"],[1,"intro-text"],["appearance","outline",1,"name-input"],["matInput","","placeholder","Enter your character's name","autocomplete","off","maxlength","50",3,"ngModelChange","ngModel"],[4,"ngIf"],["class","validation-error",4,"ngIf"],["class","hint-text",4,"ngIf"],["class","greeting-text",4,"ngIf"],["class","suggestions-card",4,"ngIf"],[1,"validation-error"],[1,"error-text"],[1,"hint-text"],[1,"requirements"],[1,"greeting-text"],[1,"suggestions-card"],[1,"suggestions-subtitle"],[1,"name-chips"],["class","name-chip",3,"click",4,"ngFor","ngForOf"],[1,"name-chip",3,"click"]],template:function(e,i){if(e&1){let r=F();l(0,"div",1)(1,"mat-card",2)(2,"mat-card-header")(3,"mat-card-title"),u(4,"Welcome, Hero"),c()(),l(5,"mat-card-content")(6,"div",3)(7,"p"),u(8,"Before we begin your journey through the world of Roshar, tell us..."),c(),l(9,"h2"),u(10,"What is your name?"),c()(),l(11,"mat-form-field",4)(12,"mat-label"),u(13,"Character Name"),c(),l(14,"input",5,0),rn("ngModelChange",function(a){return E(r),pn(i.characterName,a)||(i.characterName=a),S(a)}),C("ngModelChange",function(){return E(r),S(i.onNameChange())}),c(),x(16,E8,2,1,"mat-hint",6),c(),x(17,S8,3,1,"div",7)(18,O8,6,0,"div",8)(19,P8,6,1,"div",9),c()(),x(20,I8,12,2,"mat-card",10),c()}e&2&&(m(14),nn("ngModel",i.characterName),m(2),g("ngIf",i.characterName.length>0),m(),g("ngIf",i.nameError),m(),g("ngIf",!i.characterName),m(),g("ngIf",i.characterName&&!i.nameError),m(),g("ngIf",i.suggestedNames.length>0))},dependencies:[Q,ue,ie,Ii,Lr,ki,BC,fi,Un,ti,gi,xs,ua,Hc,Re,qe,Ke,dt,lt,oe,le,Ut,sn,Ti],styles:[".character-name-container[_ngcontent-%COMP%]{display:flex;gap:2rem;justify-content:center;align-items:flex-start;min-height:400px;padding:2rem;flex-wrap:wrap}.name-card[_ngcontent-%COMP%]{max-width:600px;width:100%;flex:1;text-align:center;background-color:var(--gpSystemDarkerGrey)!important}.name-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:2rem}.name-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:300;color:#1976d2}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:2rem}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .intro-text[_ngcontent-%COMP%]{margin-bottom:2rem}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .intro-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#e8e8e8;margin-bottom:1rem}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .intro-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:400;color:#fff;margin:1rem 0}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .name-input[_ngcontent-%COMP%]{width:100%;font-size:1.2rem;margin:2rem 0}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .name-input[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{background-color:#f9f9f9}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .name-input[_ngcontent-%COMP%]     input{text-align:center;font-size:1.3rem;font-weight:500}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .name-input[_ngcontent-%COMP%]     .mat-mdc-form-field-label, .name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .name-input[_ngcontent-%COMP%]     .mdc-floating-label{display:none!important}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .name-input[_ngcontent-%COMP%]     .mat-mdc-form-field-error, .name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .name-input[_ngcontent-%COMP%]     .mat-error{display:none!important}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .name-input[_ngcontent-%COMP%]     .mat-mdc-form-field-hint{color:#fff!important}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .name-input[_ngcontent-%COMP%]     .mat-form-field-invalid .mdc-notched-outline__leading, .name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .name-input[_ngcontent-%COMP%]     .mat-form-field-invalid .mdc-notched-outline__notch, .name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .name-input[_ngcontent-%COMP%]     .mat-form-field-invalid .mdc-notched-outline__trailing{border-color:#ffffff4d!important}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .name-input[_ngcontent-%COMP%]     .mat-focused .mdc-notched-outline__leading, .name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .name-input[_ngcontent-%COMP%]     .mat-focused .mdc-notched-outline__notch, .name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .name-input[_ngcontent-%COMP%]     .mat-focused .mdc-notched-outline__trailing{border-color:#ffffff80!important;border-width:1px!important}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .hint-text[_ngcontent-%COMP%]{margin-top:1rem}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .hint-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:#e8e8e8;font-style:italic}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .hint-text[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]{margin-top:1rem;padding:.75rem;background-color:var(--gpSystemDarkGrey);border-radius:4px;font-style:normal}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .hint-text[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#e8e8e8;font-size:.85rem}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .validation-error[_ngcontent-%COMP%]{margin-top:.5rem;padding:.75rem;background-color:#ffc10726;border-left:4px solid #ffc107;border-radius:4px}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .validation-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{font-size:.9rem;color:#ffc107;margin:0;font-weight:500}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .greeting-text[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background-color:#1976d20d;border-radius:8px}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .greeting-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#fff;margin:0}.name-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .greeting-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#fff}.suggestions-card[_ngcontent-%COMP%]{max-width:350px;width:100%;flex-shrink:0;background-color:var(--gpSystemDarkerGrey)!important}.suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.25rem;font-weight:500;color:#fff}.suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue)}.suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-subtitle[_ngcontent-%COMP%]{font-size:.9rem;color:#e8e8e8;margin:0 0 1rem;font-style:italic}.suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .name-chips[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .name-chips[_ngcontent-%COMP%]   .name-chip[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s ease;background-color:#f5f5f5}.suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .name-chips[_ngcontent-%COMP%]   .name-chip[_ngcontent-%COMP%]:hover{background-color:#1976d2;color:#fff;transform:translateY(-2px);box-shadow:0 2px 8px #00000026}@media(max-width:1024px){.character-name-container[_ngcontent-%COMP%]{padding-bottom:10rem;flex-direction:column;align-items:center}.suggestions-card[_ngcontent-%COMP%]{max-width:600px}}"]})};var qC=(e=>(e.HUMAN="human",e.SINGER="singer",e))(qC||{});function D8(n,t){if(n&1&&(l(0,"li")(1,"mat-icon",14),u(2,"check_circle"),c(),l(3,"span"),u(4),c()()),n&2){let e=t.$implicit;m(4),w(e)}}function T8(n,t){n&1&&(l(0,"div",15)(1,"mat-icon"),u(2,"check"),c(),l(3,"span"),u(4,"Selected"),c()())}function A8(n,t){if(n&1){let e=F();l(0,"mat-card",5),C("click",function(){let r=E(e).$implicit,o=v();return S(o.selectAncestry(r.type))}),l(1,"div",6)(2,"mat-icon",7),u(3),c(),l(4,"div",8),u(5,"Image Placeholder"),c()(),l(6,"mat-card-header")(7,"mat-card-title"),u(8),c(),l(9,"mat-card-subtitle"),u(10),c()(),l(11,"mat-card-content")(12,"p",9),u(13),c(),l(14,"div",10)(15,"h4"),u(16,"Key Features:"),c(),l(17,"ul",11),x(18,D8,5,1,"li",12),c()()(),x(19,T8,5,0,"div",13),c()}if(n&2){let e=t.$implicit,i=v();T("selected",i.selectedAncestry===e.type),m(3),w(e.imagePlaceholder),m(5),w(e.title),m(2),w(e.shortDesc),m(3),w(e.fullDesc),m(5),g("ngForOf",e.features),m(),g("ngIf",i.selectedAncestry===e.type)}}var tg=class n{constructor(t,e,i){this.characterState=t;this.router=e;this.validationService=i}destroy$=new P;STEP_INDEX=0;selectedAncestry=null;Ancestry=qC;ancestries=[{type:"human",title:"Human",shortDesc:"The most common people of Roshar",fullDesc:"Humans are the dominant species on Roshar, having arrived on the world long ago. They inhabit every corner of the planet, from the storm-battered eastern kingdoms to the sheltered western lands of Shinovar. Humans display tremendous diversity in culture, appearance, and ambition.",features:["Versatile and adaptable to any role","Can pursue any path or profession","Most common ancestry across Roshar","Wide variety of cultures and traditions"],imagePlaceholder:"account_circle"},{type:"singer",title:"Singer",shortDesc:"Ancient inhabitants with the ability to change forms",fullDesc:"Singers are humanoid beings with distinctive carapace armor and the extraordinary ability to assume different forms during highstorms by bonding with spren. Once called parshendi or parshmen, they are the original inhabitants of Roshar. In their various forms, singers can adapt their physical and mental capabilities to suit different roles in society.",features:["Can change forms during highstorms","Natural carapace provides protection","Unique connection to Roshar's rhythms","Access to specialized form abilities","Ancient heritage predating humans"],imagePlaceholder:"psychology"}];ngOnInit(){this.characterState.character$.pipe(L(this.destroy$)).subscribe(t=>{this.selectedAncestry=t.ancestry,this.updateValidation()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}selectAncestry(t){this.selectedAncestry=t,this.characterState.setAncestry(t)}updateValidation(){let t=this.selectedAncestry!==null;this.validationService.setStepValid(this.STEP_INDEX,t)}navigateNext(){this.router.navigate(["/character-creator-view/culture"])}static \u0275fac=function(e){return new(e||n)(k(Ne),k(Pt),k(zt))};static \u0275cmp=D({type:n,selectors:[["app-ancestry-selector"]],decls:8,vars:1,consts:[[1,"ancestry-selector"],[1,"selector-header"],[1,"subtitle"],[1,"ancestry-options"],["class","ancestry-card",3,"selected","click",4,"ngFor","ngForOf"],[1,"ancestry-card",3,"click"],[1,"card-image-placeholder"],[1,"ancestry-icon"],[1,"image-overlay"],[1,"full-description"],[1,"features-section"],[1,"features-list"],[4,"ngFor","ngForOf"],["class","selection-indicator",4,"ngIf"],[1,"feature-icon"],[1,"selection-indicator"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"div",1)(2,"h1"),u(3,"Choose Your Ancestry"),c(),l(4,"p",2),u(5,"Your ancestry determines your fundamental nature and capabilities"),c()(),l(6,"div",3),x(7,A8,20,8,"mat-card",4),c()()),e&2&&(m(7),g("ngForOf",i.ancestries))},dependencies:[Q,ue,ie,Re,qe,Ke,dt,na,lt,oe,le],styles:[".ancestry-selector[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:2rem;max-width:1400px;margin:0 auto;min-height:600px}.selector-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.selector-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:400;color:var(--gpColor-ChalkyBlue);margin-bottom:.5rem}.selector-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--gpSystemLighterGrey);font-style:italic}.ancestry-options[_ngcontent-%COMP%]{display:flex;gap:2rem;justify-content:center;flex-wrap:wrap;width:100%}.ancestry-card[_ngcontent-%COMP%]{flex:1;min-width:450px;max-width:600px;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden;background-color:var(--gpSystemDarkerGrey)}.ancestry-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 8px 24px #00000026;background-color:var(--gpSystemDarkGrey)}.ancestry-card[_ngcontent-%COMP%]:hover   .card-image-placeholder[_ngcontent-%COMP%]   .image-overlay[_ngcontent-%COMP%]{opacity:1}.ancestry-card.selected[_ngcontent-%COMP%]{border:3px solid var(--gpColor-Blue);box-shadow:0 8px 24px #1a9fff4d}.ancestry-card[_ngcontent-%COMP%]   .card-image-placeholder[_ngcontent-%COMP%]{height:200px;background:linear-gradient(135deg,var(--gpStoreGrey) 0%,var(--gpStoreDarkGrey) 100%);display:flex;align-items:center;justify-content:center;position:relative}.ancestry-card[_ngcontent-%COMP%]   .card-image-placeholder[_ngcontent-%COMP%]   .ancestry-icon[_ngcontent-%COMP%]{font-size:80px;width:80px;height:80px;color:var(--gpColor-ChalkyBlue)}.ancestry-card[_ngcontent-%COMP%]   .card-image-placeholder[_ngcontent-%COMP%]   .image-overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;background:#000c;color:var(--gpSystemLightestGrey);padding:.5rem;text-align:center;font-size:.9rem;opacity:0;transition:opacity .3s}.ancestry-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:1.5rem 1.5rem 0}.ancestry-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:500;color:#fff}.ancestry-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#e8e8e8;margin-top:.5rem}.ancestry-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1.5rem}.ancestry-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .full-description[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;color:#e8e8e8;margin-bottom:1.5rem}.ancestry-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .features-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;color:var(--gpColor-ChalkyBlue);margin-bottom:.75rem}.ancestry-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .features-section[_ngcontent-%COMP%]   .features-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.ancestry-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .features-section[_ngcontent-%COMP%]   .features-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;margin-bottom:.5rem;font-size:.95rem;color:#e8e8e8}.ancestry-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .features-section[_ngcontent-%COMP%]   .features-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:var(--gpColor-GreenHi);flex-shrink:0;margin-top:2px}.ancestry-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .features-section[_ngcontent-%COMP%]   .features-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.ancestry-card[_ngcontent-%COMP%]   .selection-indicator[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;background:#1976d2;color:#fff;padding:.5rem 1rem;border-radius:20px;display:flex;align-items:center;gap:.5rem;font-weight:500;box-shadow:0 2px 8px #0003}.ancestry-card[_ngcontent-%COMP%]   .selection-indicator[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}@media(max-width:768px){.ancestry-selector[_ngcontent-%COMP%]{padding:1rem 1rem 8rem;min-height:calc(100vh - 200px)}.selector-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.selector-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.95rem}.ancestry-card[_ngcontent-%COMP%]{min-width:100%;max-width:100%}}"]})};var HD={name:"Alethi",description:"Alethkar is ruled by a monarch and ten highprinces, and the nation is driven by war and conquest. The Vorin religion is practiced by proxy, with ardents acting as religious servants of the noble class. Gender roles are strictly enforced in Alethi society: women are expected to engage in scholarly and domestic pursuits, and men in warfare and physical labor. However, ardents have more flexibility to exist outside of the harsh gender binary imposed by Vorinism. The lightness of one's eyes determines their social caste, with the privileged dahn system designated for lighteyes and persecuted nahn for darkeyes. Singers and some darkeyed humans suffer enslavement at the hands of the upper class. Most Alethi people are tall and have tan skin and dark hair. Men typically wear uniforms or work clothes. Women either wear silk dresses called havahs that cover their left hands for propriety, or less ornate work clothes with gloves to conceal their left hands. Due to Vorin custom, few men are literate, though most have a rudimentary understanding of glyphs.",suggestedNames:["Adelar","Arin","Dannic","Elhamir","Ersha","Hilar","Janar","Kalith","Lanerin","Marith","Nar","Ravir","Rilin","Selith","Taren","Tel","Valerin","Varda","Yaladir","Zalith"],expertise:"As a character with the Alethi expertise, you know the names, locations, and highprinces of each princedom. Choose a princedom your character has lived in. You can replicate its regional dialect, and you know how to find vendors, public organizations, and noteworthy landmarks there. Choose how proficient you are in spoken Alethi, and reading and writing glyphs, as well as your literacy in women's script (depending on your gender and regard for gender norms). Regardless of your religious beliefs, you're familiar with the basic tenets of Vorinism, the Almighty, and the Heralds."};var qD={name:"Azish",description:"The Prime Aqasix and a class of elite government scribes called viziers lead the bureaucratic nation of Azir and influence the Azish Empire's member states. While independent thought is encouraged in friendly and official debates, most Azish look down on those who fail to uphold procedure. Following said procedure is made difficult by Azish legislature's expansiveness. Most Azish people have very dark brown skin and black hair. They tend to be slightly shorter than people in Eastern Roshar. Large hats are a fixture of Azish uniforms and civilian fashion. Wraps and robes are worn by all genders, with vibrant colors and symbolic patterns indicating a person's status. Azish is the official language and is spoken, signed, and written by most citizens. It is typically spoken in pleasant, agreeable tones.",suggestedNames:["Adebazik","Arnok","Baxtol","Chivik","Dalwa","Etosha","Falkir","Ganxir","Hauzir","Jirana","Koxi","Kunde","Maliq","Nineka","Raukir","Sigwir","Tama","Tigzir","Uju","Wolu","Yemzil"],expertise:"As a character with the Azish expertise, you know about the bureaucracy, Bronze Palace, Prime Aqasix, and the viziers. You can recall basic facts about each member state in the Azish Empire. Choose how proficient you are in Azish sign language, as well as in spoken and written Azish. You can easily navigate civic buildings to review current laws, request the help of a constable for law enforcement, file a complaint, or take the vizier exam. Regardless of your religious beliefs, you're familiar with the Kadasixes and scions."};var $D={name:"Herdazian",description:"Herdaz is a verdant nation ruled by a monarch. Most of its territory is taken up by its two hundred and three hog ranches, for which Herdaz is famous. There are also large diasporas of Herdazians in neighboring nations, as nearly half of their population has left their ancestral land seeking opportunities or refuge from a long history of foreign occupation. It's common for fellow Herdazians in foreign lands to warmly greet each other as cousins. Vorinism is popular in Herdaz, but the nation has fewer ardents, and people of any status and occupation can practice it personally. Most Herdazian Vorins care deeply about their individual connections to the Almighty and the Heralds, and they place little importance on what they consider outward posturing. Singer ancestry in their ancient history has bestowed nearly all Herdazians with crystalline fingernails that can function like flint when struck with a steel tool called a sparkflicker. They are also more resistant to poisons native to Roshar. Most Herdazians have medium brown skin tones and brown hair.",suggestedNames:["Aloro","Dunal","Duro","Erona","Hanol","Jonio","Kunor","Lurio","Luron","Palor","Pinola","Polino","Relio","Sulio","Torona","Yorino"],expertise:"As a character with the Herdazian expertise, you know of the king and prominent ranching families. You know how to navigate between expansive ranches, including how to avoid the coastal areas inhabited by vicious greatshells. Choose how proficient you are in spoken and written Herdazian, along with reading and writing glyphs. You know about basic tools for ranching, including sparkflickers. Regardless of your religious beliefs, you're familiar with the basic tenets of Herdazian Vorinism."};var GD={name:"Iriali",description:"Iri is ruled by three monarchs. The Iriali descended long ago from offworlders, and most follow the religion of the One. They believe their mission in life is to obtain a vast diversity of experiences so they can eventually merge their consciousnesses together at the end of the Long Trail and become one being of extensive knowledge and understanding. Their destined journey is said to consist of seven worlds, of which they consider Roshar the fourth. It is unknown when they must leave for the fifth, so they remain ever vigilant and prepared. Ethnic Iriali have golden skin and golden hair, which many foreigners consider auspicious. Ornamental body paint adds contrast to their metallic features. Iriali fashion favors pastel colors and flowy fabrics, and people of all genders and ages commonly wear wraps. Many Iriali forgo shirts altogether or wear just a simple bandeau. Due to their religious emphasis on journeying, items like practical shoes are considered indicators of personal preparedness and faith.",suggestedNames:["Byrle","Drin","Ilori","Imral","Jyste","Lalys","Lyre","Lysna","Myi","Rallin","Rellis","Ryli","Syderim","Palir","Ynne"],expertise:"As a character with the Iriali expertise, you know of the Iriali Triumvirate\u2014the two kings and queen who rule together. Choose a city or rural area your character has lived in; you know how to find vendors, public organizations, and noteworthy landmarks there. Choose how proficient you are in spoken and written Iri. Regardless of your religious beliefs, you're familiar with the basic tenets of the One and the Long Trail. You also know basic strategies for travel and journeys, such as management of supplies."};var WD={name:"Kharbranthian",description:"Kharbranth, the City of Bells, is an independent city-state that largely practices Vorinism. The mountain that borders the city largely absorbs the initial impact of highstorms, making them milder than in neighboring regions. Once a pirate town, Kharbranth has become a center of academic and medical achievement, supported by robust trade. Healthcare is free to all, including lower castes and foreigners. Prospective surgeons from all over Roshar compete for expensive educations at the Great Concourse of Kharbranth. Scholars of other subjects flock to the Palanaeum, the largest library in Roshar. Innovations like a plumbing system enhanced by heating fabrials earn the city a reputation of luxury. Ethnically similar to the Veden and Alethi, most Kharbranthians have tan skin and dark hair. Although human slavery is banned in Kharbranth, this basic right doesn't extend to singers.",suggestedNames:["Arivian","Baranam","Dorval","Harnith","Kintar","Korventh","Larnish","Lervian","Lorvis","Navil","Ovelgian","Sartal","Sarvena","Telvar","Trilam","Zorlinth"],expertise:"As a character with the Kharbranthian expertise, you're familiar with the city's major education systems and their designations. Even if you don't know how to use common medicines, you know their names and functions, as well as basic hygiene measures to ward off rotspren. Choose how proficient you are in speaking Kharbranthian and reading and writing glyphs, as well as in women's script (depending on your gender and regard for gender norms). Regardless of your religious beliefs, you're familiar with the basic tenets of Vorinism, the Almighty, and the Heralds."};var YD={name:"Listener",description:"The listeners are a group of singers who defied Odium long ago and settled near the Shattered Plains. Through oral tradition, they retained their sense of identity during 'the long sleep,' a time when they lost access to nearly all of their forms. When they learned King Gavilar of Alethkar intended to bring back the listener 'gods'\u2014the beings who could take away their agency\u2014the listeners had him assassinated in an effort to retain their autonomy and freedom from Odium's influence. The Alethi, who called the listeners 'Parshendi,' waged the War of Reckoning as vengeance for the death of their king. Narak became the listeners' home, and they slowly recovered more forms to fight the humans. The Song of Listing includes upward of ninety-one forms, but only five were recovered before the Everstorm: dullform, mateform, nimbleform, warform, and workform. Similar to other singers, the listeners are humanoid and typically have red and white or red and black marbled skin, along with red carapace, red or black hair strands, and dark gray eyes.",suggestedNames:["Bredol","Eldir","Fenral","Gromil","Istarin","Jarnak","Kethan","Koriel","Lurin","Nalim","Nirith","Orlan","Rishai","Saren","Tirith","Urlan","Varem","Welten"],expertise:"The Listener expertise is generally only available to singer characters. If you're a human who has lived or worked closely with the listener people, your GM can give you permission to choose this expertise. As a character with the Listener expertise, you're aware of dullform, mateform, nimbleform, warform and workform (even if you're human and can't assume them yourself), and you're familiar with the listener council known as the Five. Depending on your interests, you might know some of the songs of the listeners. You know basic facts about Shattered Plains ecology. Choose how proficient you are in the listener language and how familiar you are with the rhythms (though any singer instinctively knows all the rhythms). You know about the War of Reckoning and the Alethi armies that fight for gemhearts on the plateaus."};var KD={name:"Natan",description:"The Vorin city-state of New Natanan is located near the Ocean of Origins. This meager landholding is a remnant of a much larger empire that was destroyed long ago. The ruins of its capital, once called Stormseat, were reclaimed by the listeners and called Narak. Today, some Natans live as nomads that travel the desolate lands previously contained in their empire. Ethnic Natans have pale blue skin and white hair. They mostly exist in isolation, either as nomads or as citizens confined to New Natanan by vigorous highstorms that make sea travel exceptionally perilous. Their sense of loss over their empire, particularly Stormseat and its Oathgate, persists.",suggestedNames:["Atarel","Balar","Cetsa","Farlar","Gerem","Linarat","Lortan","Nalina","Nathural","Oranat","Talinan","Tsalar","Tsorem","Valisha","Valten","Xaltor"],expertise:"As a character with the Natan expertise, you've heard tales of the lands the Natan people lost and what they were like during their full glory. You know what highstorms are like at full potency, as well as defensive measures you can take to protect yourself and your property. Choose how proficient you are in Natan or another Vorin language. Regardless of your religious beliefs, you're familiar with the basic tenets of Vorinism, as well as with the common Natan reverence for the moons."};var QD={name:"Reshi",description:"The Reshi Isles are a series of misty islands and inhabitable Tai-na greatshell carapaces, each ruled by a monarch. The Tai-na islands roam the Reshi Sea, occasionally colliding in brief conflicts. Reshi people worship these greatshell islands as their gods. Tourism is common on the stationary islands. Most Reshi have brown skin, black hair, and round faces. Unfamiliar with the horrors of devastating wars, they tend to fight fiercely with words but resolve disagreements quickly. The intonation of their language is sharp and spoken in quick bursts, making it difficult for foreigners to learn.",suggestedNames:["Ashi","Avand","Calsi","Fashan","Hailor","Ilesh","Isna","Jersa","Lish","Naila","Neshor","Rifta","Sha","Tana","Trin","Vara","Wesh"],expertise:"As a character with the Reshi expertise, you know about the existence of Tai-na greatshells, spren deities, and tales of islands going to war. You're familiar with the basic ecology of the Reshi Sea and the locations of major stationary islands. Choose how proficient you are in speaking and writing Reshi. You know which resources are unavailable in the Reshi Isles and which nations they are typically sourced from. Regardless of whether you choose to engage with the tradition yourself, you're familiar with the Reshi inclination toward fierce but quickly resolved social conflicts."};var ZD={name:"Shin",description:"The isolated nation of Shinovar is governed by Stone Shamans who believe that stone is sacred and that it shouldn't be broken or walked on by commoners. A mountain range offers Shinovar significant protection from highstorms, which are already lighter so far west. Non-native crops and animals flourish here, even those that wouldn't survive anywhere else on Roshar. Farmers are highly esteemed, while warriors are seen as lowly and destructive. Those people who commit especially grievous offenses are named Truthless. They must take a symbolic Oathstone and hand it over to a master who claims authority to command them and pass ownership as they please. Shin skin tones vary widely, including pale pink tones that are rarely seen outside Shinovar. Unlike most human ethnic groups on Roshar, their eyes don't have epicanthic folds. Clothing customs assign vibrant colors to people who add to society (such as farmers), and duller colors to people who detract from it.",suggestedNames:["Allo-daughter-Zethar","Ethsono-son-Alvo","Gesh-son-Nar","Lanethen-child-Gemth","Lorseth-soson-Thalor","Nama-son-Elhlan","Shal-daughter-Xin","Szam-child-Lorn"],expertise:"As a character with the Shin expertise, you're familiar with the mild highstorms that reach the isolated western lands of Shinovar, as well as the ecology and architecture they support. You know how to barter by diminishing the perceived value of your offerings. Choose how proficient you are in speaking and writing Shin. Regardless of your religious beliefs, you're familiar with the basic tenets of Stone Shamanism."};var XD={name:"Thaylen",description:"The island nation of Thaylenah is ruled by a monarch who is elected by merchant councils and naval officers. The nation thrives on international trade by land and sea, and it rewards particularly industrious merchants with increased social status. Although the nation is Vorin, Thaylens are more flexible with their faith and tend to ignore or relax customs rigidly upheld in Jah Keved and Alethkar. Ethnic Thaylens have tan skin and long white eyebrows that can be creatively styled as dictated by fashion trends and personal preferences. Their hair is usually brown or black, but some Thaylens dye their hair in bold colors. They favor tight vests with loose pants and skirts.",suggestedNames:["Alstrym","Bnlath","Brekmynv","Bryndal","Calkl","Cazmerk","Creyn","Dvalnm","Elcryn","Klazmn","Mralt","Pradlvk","Tlkry","Uvlost","Ylbedr"],expertise:"As a character with the Thaylen expertise, you're familiar with the elective monarchy and the merchant councils. You know the names and reputations of major artifabrian guilds, and you've likely experienced fabrials as a part of everyday life. You know tips to mitigate sea sickness and arrange travel between the three islands and outer islets. Choose how proficient you are in speaking and writing Thaylen. Regardless of your religious beliefs, you're familiar with the basic tenets of Vorinism, as well as the Passions."};var JD={name:"Unkalaki",description:"The Horneater Peaks are each ruled by a patriarch called a nuatoma. Atop these steep and inhospitably icy mountains, warm crater lakes form cozy microclimates where crops flourish in balmy humidity. Unkalaki people refer to these lakes as oceans. Traditional family structures dictate each son's occupation according to their birth order; the first two sons are assigned as hunters or farmers, the third as a craftsman, and the fourth as a warrior. Occupations for other genders tend to be more individualized and diverse. Ethnic Unkalaki get their nickname of Horneaters from their abnormally strong teeth that can crush cremling shells, a feature they receive through their ancient singer ancestry. They tend to be tall with red hair, and their skin ranges from pale to tan. A rare few Unkalaki can see spren that most humans can't, earning the title of Sighted. In the Unkalaki tradition, a person's full name is a poem. In less formal situations, they go by a single word or phrase from their name.",suggestedNames:["Arluno'ratha'tu","Harlun'thaoka","Ina'larataka'noom","Kalorunel'ith","Luau'nun'iel","Tha'enithmonal'toko","Unla'biki'ai'karath","Yamloho'tamai'sinak"],expertise:"As a character with the Unkalaki expertise, you know about the leadership, ecology, and myths of the oceans atop the peaks. Due to your lineage or lived experience, your body is familiar with breathing thin air, allowing you to keep your wits about you. Choose how proficient you are in speaking and writing Unkalaki. Regardless of your religious beliefs, you know of the gods of the waters, mountains, and trees, along with the practice of worshiping spren as gods. You also know of the phenomenon of strange offworld visitors emerging from the oceans."};var eT={name:"Veden",description:"Jah Keved is ruled by a king and highprinces. Social orders for lighteyes and darkeyes are maintained and endorsed by Vorinism, the primary religion of Vedens. The Holy Enclave in the city of Valath is the center of the faith. Despite border disputes with Alethkar, the two nations remain cordial. There are four major ethnic groups within the borders of Jah Keved: Bav, Siln, Veden, and Unkalaki. Vedens, who comprise the majority, share many physical traits with the Alethi, though they most commonly have black or red hair. Their language is close enough to Alethi to be mutually intelligible. Fashion trends are also closely tied between the two nations. In Jah Keved, sons are given a first name that indicates their birth order; the first four sons are named Nan, Tet, Asha, and Van. Second names are chosen by parents. Surnames are passed down from the parent of the highest dahn or nahn social order.",suggestedNames:["Nan Amallan","Bervash","Asha Cemdon","Dorlivana","Van Elnaha","Lerinda","Nan Qish","Tet Ridvish","Shulla","Varli","Tet Zashu"],expertise:"As a character with the Veden expertise, you're familiar with the king, the princedoms, and the four major ethnic groups in Jah Keved. Choose how proficient you are in speaking Veden and reading and writing glyphs, as well as your literacy in women's script (depending on your gender and regard for gender norms). If relevant to your backstory, also choose how proficient you are in the Alethi, Bav, or Siln languages. Regardless of your religious beliefs, you're familiar with the basic tenets of Vorinism and current events relevant to the church."};var tT={name:"Wayfarer",description:"Occupation, exile, or tourism may lead a person to live a life of traveling from one place to the next. You could be a traveling surgeon reluctant to return home to Jah Keved, a mercenary from Steen, or an Iriali tidereader sent to gain insights from the shores of faraway lands. Whatever the reason, the lifestyle of a perpetual traveler involves learning land and sea routes between major cities, remaining aware of bandit and pirate risks, and maintaining familiarity with mobile storm shelters, map-reading, and modes of long-distance transportation.",suggestedNames:[],expertise:"As a character with the Wayfarer expertise, you know how to read international map keys. You can find trustworthy currency exchange hubs in major cities, which can be used to switch out dun spheres for infused ones. From your travels, you've learned basic greetings and a few cultural touchstones from various nations."};var nT=[HD,qD,$D,GD,WD,YD,KD,QD,ZD,XD,JD,eT,tT];function R8(n,t){n&1&&(l(0,"div",5)(1,"mat-icon"),u(2,"warning"),c(),l(3,"span"),u(4,"Please select at least one culture before continuing"),c()())}function N8(n,t){n&1&&(l(0,"div",8)(1,"h2"),u(2,"Available Cultures"),c(),l(3,"p",9),u(4,"Select up to 2 cultures for your character"),c()())}function F8(n,t){if(n&1){let e=F();l(0,"mat-card",12),C("click",function(){let r=E(e).$implicit,o=v(3);return S(!o.isMaxCulturesSelected&&o.viewCultureDetails(r))}),l(1,"div",13)(2,"div",14)(3,"img",15),C("error",function(r){return E(e),S(r.target.style.display="none")}),c(),l(4,"mat-icon",16),u(5,"public"),c()()(),l(6,"mat-card-content")(7,"h2",17),u(8),c(),l(9,"p",18)(10,"mat-icon"),u(11,"star"),c(),u(12),c()()()}if(n&2){let e=t.$implicit,i=v(3);T("disabled",i.isMaxCulturesSelected),m(2),bt("background",e.imagePlaceholder),m(),g("src",e.imageUrl,Gi)("alt",e.name),m(5),w(e.name),m(4),O(" ",e.expertise," ")}}function L8(n,t){if(n&1&&(l(0,"div",10),x(1,F8,13,8,"mat-card",11),c()),n&2){let e=v(2);m(),g("ngForOf",e.availableCultureInfos)}}function V8(n,t){if(n&1&&(l(0,"div"),x(1,N8,5,0,"div",6)(2,L8,2,1,"div",7),c()),n&2){let e=v();m(),g("ngIf",e.availableCultureInfos.length>0),m(),g("ngIf",e.availableCultureInfos.length>0)}}function B8(n,t){if(n&1){let e=F();l(0,"div",19)(1,"button",20),C("click",function(){E(e);let r=v();return S(r.backToSelection())}),l(2,"mat-icon"),u(3,"arrow_back"),c(),u(4," Back to Cultures "),c(),l(5,"mat-card",21)(6,"div",22)(7,"div",23)(8,"img",24),C("error",function(r){return E(e),S(r.target.style.display="none")}),c(),l(9,"mat-icon",25),u(10,"public"),c()()(),l(11,"mat-card-content")(12,"h1",26),u(13),c(),l(14,"div",27)(15,"mat-icon"),u(16,"star"),c(),l(17,"strong"),u(18,"Cultural Expertise:"),c(),u(19),c(),l(20,"div",28)(21,"p"),u(22),c()(),l(23,"button",29),C("click",function(){E(e);let r=v();return S(r.confirmCulture())}),l(24,"mat-icon"),u(25,"check_circle"),c(),u(26),c()()()()}if(n&2){let e=v();m(7),bt("background",e.selectedCulture.imagePlaceholder),m(),g("src",e.selectedCulture.imageUrl,Gi)("alt",e.selectedCulture.name),m(5),w(e.selectedCulture.name),m(6),O(" ",e.selectedCulture.expertise," "),m(3),w(e.selectedCulture.description),m(4),O(" Select ",e.selectedCulture.name," ")}}function j8(n,t){if(n&1){let e=F();l(0,"mat-card",33)(1,"div",34)(2,"div",35)(3,"div",14)(4,"img",15),C("error",function(r){return E(e),S(r.target.style.display="none")}),c(),l(5,"mat-icon",16),u(6,"public"),c()()(),l(7,"div",36)(8,"h3",37),u(9),c(),l(10,"p",38)(11,"mat-icon"),u(12,"star"),c(),u(13),c()(),l(14,"button",39),C("click",function(){let r=E(e).$implicit,o=v(2);return S(o.removeCulture(r))}),l(15,"mat-icon"),u(16,"close"),c()()()()}if(n&2){let e=t.$implicit;m(3),bt("background",e.imagePlaceholder),m(),g("src",e.imageUrl,Gi)("alt",e.name),m(5),w(e.name),m(4),O(" ",e.expertise," "),m(),X("aria-label","Remove "+e.name)}}function z8(n,t){if(n&1&&(l(0,"div",30)(1,"div",8)(2,"h2"),u(3),c(),l(4,"p",9),u(5,"Click a culture to view details or remove it"),c()(),l(6,"div",31),x(7,j8,17,7,"mat-card",32),c()()),n&2){let e=v();m(3),O("Selected Cultures (",e.selectedCultureInfos.length,"/2)"),m(4),g("ngForOf",e.selectedCultureInfos)}}var ng=class n{constructor(t,e){this.characterState=t;this.validationService=e;this.initializeCultureInfos()}destroy$=new P;STEP_INDEX=1;allCultureInfos=[];selectedCulture=null;confirmedCultures=[];showValidation=!1;get canProgress(){return this.confirmedCultures.length>0}get availableCultureInfos(){return this.allCultureInfos.filter(t=>!this.confirmedCultures.some(e=>e.name===t.culture.name))}get selectedCultureInfos(){return this.allCultureInfos.filter(t=>this.confirmedCultures.some(e=>e.name===t.culture.name))}get isMaxCulturesSelected(){return this.confirmedCultures.length>=2}ngOnInit(){this.characterState.character$.pipe(L(this.destroy$)).subscribe(t=>{this.confirmedCultures=t.cultures||[],this.updateValidation(),this.confirmedCultures.length===0?setTimeout(()=>{this.showValidation=!0},0):this.showValidation=!1})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateValidation(){let t=this.confirmedCultures.length>0;this.validationService.setStepValid(this.STEP_INDEX,t)}initializeCultureInfos(){this.allCultureInfos=nT.map(t=>({culture:t,name:t.name,expertise:t.expertise,description:t.description,imagePlaceholder:this.getImagePlaceholder(t.name),imageUrl:this.getImageUrl(t.name),suggestedNames:t.suggestedNames}))}getImagePlaceholder(t){return{Alethi:"linear-gradient(135deg, #8B4513 0%, #D2691E 100%)",Azish:"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)",Herdazian:"linear-gradient(135deg, #228B22 0%, #32CD32 100%)",Iriali:"linear-gradient(135deg, #FF6347 0%, #FF4500 100%)",Kharbranthian:"linear-gradient(135deg, #4169E1 0%, #1E90FF 100%)",Listener:"linear-gradient(135deg, #800080 0%, #9932CC 100%)",Natan:"linear-gradient(135deg, #20B2AA 0%, #48D1CC 100%)",Reshi:"linear-gradient(135deg, #00CED1 0%, #40E0D0 100%)",Shin:"linear-gradient(135deg, #F0E68C 0%, #EEE8AA 100%)",Thaylen:"linear-gradient(135deg, #2F4F4F 0%, #708090 100%)",Unkalaki:"linear-gradient(135deg, #A0522D 0%, #CD853F 100%)",Veden:"linear-gradient(135deg, #DC143C 0%, #B22222 100%)",Wayfarer:"linear-gradient(135deg, #696969 0%, #808080 100%)"}[t]||"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}getImageUrl(t){return`/images/cultures/${t.toLowerCase().replace(/\s+/g,"-")}.jpg`}viewCultureDetails(t){this.selectedCulture=t,setTimeout(()=>{let e=document.querySelector(".culture-details");if(e)e.scrollIntoView({behavior:"smooth",block:"start"});else{let i=document.querySelector(".app-sidenav-content");i&&i.scrollTo({top:0,behavior:"smooth"})}},0)}confirmCulture(){this.selectedCulture&&(this.characterState.addCulture(this.selectedCulture.culture),this.selectedCulture=null,this.showValidation=!1,setTimeout(()=>{let t=document.querySelector(".selected-cultures-section");t&&t.scrollIntoView({behavior:"smooth",block:"start"})},100))}backToSelection(){this.selectedCulture=null}removeCulture(t){this.characterState.removeCulture(t.culture)}static \u0275fac=function(e){return new(e||n)(k(Ne),k(zt))};static \u0275cmp=D({type:n,selectors:[["app-culture-selector"]],decls:5,vars:4,consts:[[1,"culture-selector"],["class","validation-message",4,"ngIf"],[4,"ngIf"],["class","culture-details",4,"ngIf"],["class","selected-cultures-section",4,"ngIf"],[1,"validation-message"],["class","section-header",4,"ngIf"],["class","culture-grid",4,"ngIf"],[1,"section-header"],[1,"section-subtitle"],[1,"culture-grid"],["class","culture-card",3,"disabled","click",4,"ngFor","ngForOf"],[1,"culture-card",3,"click"],[1,"culture-image-container"],[1,"image-placeholder"],[1,"culture-image",3,"error","src","alt"],[1,"placeholder-icon"],[1,"culture-name"],[1,"culture-expertise"],[1,"culture-details"],["mat-button","",1,"back-button",3,"click"],[1,"detail-card"],[1,"detail-image-container"],[1,"detail-image-placeholder"],[1,"detail-image",3,"error","src","alt"],[1,"detail-placeholder-icon"],[1,"detail-name"],[1,"expertise-section"],[1,"description-section"],["mat-raised-button","","color","primary",1,"confirm-button",3,"click"],[1,"selected-cultures-section"],[1,"selected-cultures-grid"],["class","selected-culture-card",4,"ngFor","ngForOf"],[1,"selected-culture-card"],[1,"selected-culture-content"],[1,"selected-image-container"],[1,"selected-info"],[1,"selected-name"],[1,"selected-expertise"],["mat-icon-button","","color","warn",1,"remove-button",3,"click"]],template:function(e,i){e&1&&(l(0,"div",0),x(1,R8,5,0,"div",1)(2,V8,3,2,"div",2)(3,B8,27,8,"div",3)(4,z8,8,2,"div",4),c()),e&2&&(m(),g("ngIf",i.showValidation&&!i.canProgress),m(),g("ngIf",!i.selectedCulture),m(),g("ngIf",i.selectedCulture),m(),g("ngIf",i.selectedCultureInfos.length>0))},dependencies:[Q,ue,ie,Re,qe,Ke,oe,le,ge,Pe,an],styles:[".culture-selector[_ngcontent-%COMP%]{padding:2rem;min-height:600px}@media(max-width:768px){.culture-selector[_ngcontent-%COMP%]{padding:1rem;min-height:calc(100vh - 200px)}}.section-header[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto 1.5rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.75rem;font-weight:600;color:#fff}.section-header[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{margin:0;color:#e8e8e8;font-size:1rem}.validation-message[_ngcontent-%COMP%]{background-color:#fff3cd;border:1px solid #ffc107;border-radius:4px;padding:1rem;margin-bottom:1.5rem;display:flex;align-items:center;gap:.75rem;color:#856404;max-width:1400px;margin-left:auto;margin-right:auto}.validation-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffc107;font-size:24px;width:24px;height:24px}.validation-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;font-size:1rem}.culture-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:2rem;max-width:1400px;margin:0 auto}.culture-card[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s ease;overflow:hidden;min-height:400px;background-color:var(--gpSystemDarkerGrey)!important}.culture-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 12px 24px #00000026;background-color:var(--gpSystemDarkGrey)!important}.culture-card.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;filter:grayscale(.7)}.culture-card.disabled[_ngcontent-%COMP%]:hover{transform:none;box-shadow:0 2px 4px #0000001a}.culture-card[_ngcontent-%COMP%]   .culture-image-container[_ngcontent-%COMP%]{height:200px;overflow:hidden;position:relative}.culture-card[_ngcontent-%COMP%]   .culture-image-container[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;position:relative}.culture-card[_ngcontent-%COMP%]   .culture-image-container[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]   .culture-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;position:absolute;top:0;left:0;z-index:2}.culture-card[_ngcontent-%COMP%]   .culture-image-container[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]{font-size:80px;width:80px;height:80px;color:#ffffffb3;z-index:1}.culture-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1.5rem}.culture-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .culture-name[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1.75rem;font-weight:600;color:#fff}.culture-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .culture-expertise[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0 0 1rem;color:var(--gpColor-ChalkyBlue);font-weight:500;font-size:1rem}.culture-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .culture-expertise[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.culture-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .culture-description[_ngcontent-%COMP%]{color:#e8e8e8;line-height:1.6;font-size:.95rem;margin:0;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.culture-details[_ngcontent-%COMP%]{max-width:900px;margin:0 auto}.culture-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{margin-bottom:1.5rem;font-size:1rem}.culture-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]{background-color:var(--gpSystemDarkerGrey)!important}.culture-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .detail-image-container[_ngcontent-%COMP%]{height:300px;overflow:hidden;position:relative}.culture-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .detail-image-container[_ngcontent-%COMP%]   .detail-image-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;position:relative}.culture-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .detail-image-container[_ngcontent-%COMP%]   .detail-image-placeholder[_ngcontent-%COMP%]   .detail-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;position:absolute;top:0;left:0;z-index:2}.culture-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .detail-image-container[_ngcontent-%COMP%]   .detail-image-placeholder[_ngcontent-%COMP%]   .detail-placeholder-icon[_ngcontent-%COMP%]{font-size:120px;width:120px;height:120px;color:#ffffffb3;z-index:1}.culture-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:2rem}.culture-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .detail-name[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:2.5rem;font-weight:700;color:#fff}.culture-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .expertise-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1.5rem;padding:1rem;background-color:var(--gpSystemDarkGrey);border-radius:8px;color:#fff}.culture-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .expertise-section[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue);font-size:24px;width:24px;height:24px}.culture-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .expertise-section[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff;margin-right:.5rem}.culture-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .description-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.culture-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .description-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.8;font-size:1.1rem;color:#e8e8e8;margin:0}.culture-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .names-section[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-bottom:2rem;padding:1rem;background-color:var(--gpSystemDarkGrey);border-radius:8px}.culture-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .names-section[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue);font-size:24px;width:24px;height:24px;flex-shrink:0}.culture-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .names-section[_ngcontent-%COMP%]   .names-content[_ngcontent-%COMP%]{flex:1}.culture-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .names-section[_ngcontent-%COMP%]   .names-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#fff}.culture-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .names-section[_ngcontent-%COMP%]   .names-content[_ngcontent-%COMP%]   .name-list[_ngcontent-%COMP%]{margin:0;color:#e8e8e8;line-height:1.6}.culture-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .confirm-button[_ngcontent-%COMP%]{width:100%;padding:1rem;font-size:1.1rem;font-weight:600}.culture-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .confirm-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.selected-cultures-section[_ngcontent-%COMP%]{margin-top:3rem;padding-top:2rem;border-top:2px solid #e0e0e0}.selected-cultures-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;max-width:1400px;margin:0 auto}.selected-culture-card[_ngcontent-%COMP%]{transition:all .2s ease;background-color:var(--gpSystemDarkerGrey)!important}.selected-culture-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;background-color:var(--gpSystemDarkGrey)!important}.selected-culture-card[_ngcontent-%COMP%]   .selected-culture-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1rem}.selected-culture-card[_ngcontent-%COMP%]   .selected-culture-content[_ngcontent-%COMP%]   .selected-image-container[_ngcontent-%COMP%]{flex-shrink:0;width:120px;height:80px;overflow:hidden;border-radius:8px}.selected-culture-card[_ngcontent-%COMP%]   .selected-culture-content[_ngcontent-%COMP%]   .selected-image-container[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;position:relative}.selected-culture-card[_ngcontent-%COMP%]   .selected-culture-content[_ngcontent-%COMP%]   .selected-image-container[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]   .culture-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;position:absolute;top:0;left:0;z-index:2}.selected-culture-card[_ngcontent-%COMP%]   .selected-culture-content[_ngcontent-%COMP%]   .selected-image-container[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;color:#ffffffb3;z-index:1}.selected-culture-card[_ngcontent-%COMP%]   .selected-culture-content[_ngcontent-%COMP%]   .selected-info[_ngcontent-%COMP%]{flex:1}.selected-culture-card[_ngcontent-%COMP%]   .selected-culture-content[_ngcontent-%COMP%]   .selected-info[_ngcontent-%COMP%]   .selected-name[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.5rem;font-weight:600;color:#fff}.selected-culture-card[_ngcontent-%COMP%]   .selected-culture-content[_ngcontent-%COMP%]   .selected-info[_ngcontent-%COMP%]   .selected-expertise[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0;color:var(--gpColor-ChalkyBlue);font-weight:500;font-size:1rem}.selected-culture-card[_ngcontent-%COMP%]   .selected-culture-content[_ngcontent-%COMP%]   .selected-info[_ngcontent-%COMP%]   .selected-expertise[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.selected-culture-card[_ngcontent-%COMP%]   .selected-culture-content[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{flex-shrink:0}.selected-culture-card[_ngcontent-%COMP%]   .selected-culture-content[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}@media(max-width:768px){.character-name-container[_ngcontent-%COMP%]{padding-bottom:10rem}.culture-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.culture-details[_ngcontent-%COMP%]{padding-bottom:10rem}.selected-culture-card[_ngcontent-%COMP%]   .selected-culture-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.selected-culture-card[_ngcontent-%COMP%]   .selected-culture-content[_ngcontent-%COMP%]   .selected-image-container[_ngcontent-%COMP%]{width:100%;height:120px}.selected-culture-card[_ngcontent-%COMP%]   .selected-culture-content[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{align-self:flex-end}}"]})};var qc=class n{label="";currentValue=0;minValue=0;maxValue=10;pointsRemaining=0;valueChanged=new U;increment(){this.currentValue<this.maxValue&&this.pointsRemaining>0&&(this.currentValue++,this.valueChanged.emit({label:this.label,value:this.currentValue}))}decrement(){this.currentValue>this.minValue&&(this.currentValue--,this.valueChanged.emit({label:this.label,value:this.currentValue}))}get canIncrement(){return this.currentValue<this.maxValue&&this.pointsRemaining>0}get canDecrement(){return this.currentValue>this.minValue}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-value-stepper"]],inputs:{label:"label",currentValue:"currentValue",minValue:"minValue",maxValue:"maxValue",pointsRemaining:"pointsRemaining"},outputs:{valueChanged:"valueChanged"},decls:10,vars:8,consts:[[1,"value-stepper"],[1,"stepper-label"],[1,"stepper-controls"],[1,"decrement-btn",3,"click","disabled"],[1,"value-display"],[1,"increment-btn",3,"click","disabled"]],template:function(e,i){e&1&&(Je(0,"div",0)(1,"label",1),u(2),et(),Je(3,"div",2)(4,"button",3),td("click",function(){return i.decrement()}),u(5," \u2190 "),et(),Je(6,"div",4),u(7),et(),Je(8,"button",5),td("click",function(){return i.increment()}),u(9," \u2192 "),et()()()),e&2&&(m(2),w(i.label),m(2),X("aria-label",Pr("Decrease ",i.label)),In("disabled",!i.canDecrement),m(3),O(" ",i.currentValue," "),m(),X("aria-label",Pr("Increase ",i.label)),In("disabled",!i.canIncrement))},styles:[".value-stepper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;margin-bottom:.5rem;background:var(--gpSystemDarkerGrey);border-radius:8px}@media(max-width:768px){.value-stepper[_ngcontent-%COMP%]{padding:.5rem;margin-bottom:0;background:transparent}}.value-stepper[_ngcontent-%COMP%]   .stepper-label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;min-width:120px;color:#fff}@media(max-width:768px){.value-stepper[_ngcontent-%COMP%]   .stepper-label[_ngcontent-%COMP%]{min-width:0;font-size:.85rem;flex:1;word-wrap:break-word;overflow-wrap:break-word;line-height:1.2}}.value-stepper[_ngcontent-%COMP%]   .stepper-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}@media(max-width:768px){.value-stepper[_ngcontent-%COMP%]   .stepper-controls[_ngcontent-%COMP%]{gap:.25rem}}.value-stepper[_ngcontent-%COMP%]   .stepper-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px;border:2px solid var(--gpColor-ChalkyBlue);background:var(--gpSystemDarkGrey);color:#fff;border-radius:4px;font-size:1.2rem;cursor:pointer;transition:all .2s}@media(max-width:768px){.value-stepper[_ngcontent-%COMP%]   .stepper-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:32px;height:32px;border-width:1px;font-size:1rem}}.value-stepper[_ngcontent-%COMP%]   .stepper-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--gpColor-ChalkyBlue);color:#fff;transform:scale(1.1)}.value-stepper[_ngcontent-%COMP%]   .stepper-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{border-color:#666;color:#666;cursor:not-allowed;background:var(--gpSystemDarkGrey)}.value-stepper[_ngcontent-%COMP%]   .stepper-controls[_ngcontent-%COMP%]   .value-display[_ngcontent-%COMP%]{width:50px;height:40px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;font-weight:700;border:2px solid var(--gpSystemDarkGrey);border-radius:4px;background:var(--gpSystemDarkGrey);color:#fff}@media(max-width:768px){.value-stepper[_ngcontent-%COMP%]   .stepper-controls[_ngcontent-%COMP%]   .value-display[_ngcontent-%COMP%]{width:40px;height:32px;font-size:1.2rem;border-width:1px}}"]})};var $c=class{items=[];totalPoints=0;pointsSpent=0;remainingPoints=0;baselineValues=new Map;minValue=0;maxValue=5;getMinValue(t){return this.baselineValues.get(this.getLabel(t))??this.minValue}initialize(t,e,i=!1){this.items=t,this.totalPoints=e,i?(this.baselineValues.clear(),t.forEach(r=>{this.baselineValues.set(this.getLabel(r),this.getCurrentValue(r))})):this.baselineValues.clear(),this.calculatePoints()}calculatePoints(){this.pointsSpent=this.items.reduce((t,e)=>{let i=this.getCurrentValue(e),r=this.baselineValues.get(this.getLabel(e))??this.minValue;return t+(i-r)},0),this.remainingPoints=this.totalPoints-this.pointsSpent}onValueChanged(t){let e=this.items.find(i=>this.getLabel(i)===t.label);if(e){let i=this.getCurrentValue(e),r=t.value,o=r-i;this.setCurrentValue(e,r),this.pointsSpent+=o,this.remainingPoints-=o,this.onItemChanged(e,r)}}resetAllocations(){this.items.forEach(t=>{let e=this.getMinValue(t);this.setCurrentValue(t,e)}),this.pointsSpent=0,this.remainingPoints=this.totalPoints,this.onResetComplete()}get isComplete(){return this.remainingPoints===0}get canProceed(){return this.isComplete}};function U8(n,t){if(n&1){let e=F();l(0,"app-value-stepper",10),C("valueChanged",function(r){E(e);let o=v();return S(o.onValueChanged(r))}),c()}if(n&2){let e=t.$implicit,i=v();g("label",e.name)("currentValue",e.currentValue)("minValue",i.getMinValue(e))("maxValue",i.maxValue)("pointsRemaining",i.remainingPoints)}}function H8(n,t){n&1&&(l(0,"span"),u(1,"\u26A0\uFE0F Allocate all points to continue"),c())}function q8(n,t){n&1&&(l(0,"span"),u(1,"\u2713 All points allocated!"),c())}function $8(n,t){if(n&1&&(l(0,"div",11)(1,"div",12)(2,"h3"),u(3,"Derived Attributes"),c(),l(4,"p",13),u(5,"Preview of your character's statistics"),c()(),l(6,"div",14)(7,"div",15)(8,"div",16),u(9,"\u2764\uFE0F"),c(),l(10,"div",17)(11,"label"),u(12,"Health"),c(),l(13,"span",18),u(14),c()()(),l(15,"div",15)(16,"div",16),u(17,"\u26A1"),c(),l(18,"div",17)(19,"label"),u(20,"Focus"),c(),l(21,"span",18),u(22),c()()(),l(23,"div",15)(24,"div",16),u(25,"\u{1F3C3}"),c(),l(26,"div",17)(27,"label"),u(28,"Movement Rate"),c(),l(29,"span",18),u(30),c()()(),l(31,"div",15)(32,"div",16),u(33,"\u{1F3B2}"),c(),l(34,"div",17)(35,"label"),u(36,"Recovery Die"),c(),l(37,"span",18),u(38),c()()()(),l(39,"div",19)(40,"div",20),x(41,H8,2,0,"span",21)(42,q8,2,0,"span",21),c()()()),n&2){let e=v();m(14),w(e.character.resources.health.max),m(8),w(e.character.resources.focus.max),m(8),w(e.movementSpeed),m(8),w(e.recoveryDie),m(),T("complete",e.isComplete),m(2),g("ngIf",!e.isComplete),m(),g("ngIf",e.isComplete)}}var ig=class n extends $c{constructor(e,i,r,o){super();this.activatedRoute=e;this.characterStateService=i;this.levelUpManager=r;this.validationService=o}pendingChange=new U;destroy$=new P;STEP_INDEX=3;character=null;movementSpeed=0;recoveryDie="";isLevelUpMode=!1;isInitialized=!1;ngOnInit(){this.levelUpManager.pointsChanged$.pipe(L(this.destroy$)).subscribe(()=>{this.checkPendingStatus()}),Qr([this.activatedRoute.queryParams,this.characterStateService.character$]).pipe(L(this.destroy$)).subscribe(([e,i])=>{this.isLevelUpMode=e.levelUp==="true",this.character=i,this.character&&(this.initializeAttributes(),this.checkPendingStatus(),this.updateValidation())})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeAttributes(){if(!this.character||this.isInitialized)return;let e=[{name:"Strength",key:"strength",currentValue:this.character.attributes.strength},{name:"Speed",key:"speed",currentValue:this.character.attributes.speed},{name:"Awareness",key:"awareness",currentValue:this.character.attributes.awareness},{name:"Intellect",key:"intellect",currentValue:this.character.attributes.intellect},{name:"Willpower",key:"willpower",currentValue:this.character.attributes.willpower},{name:"Presence",key:"presence",currentValue:this.character.attributes.presence}],i=this.character.level||1,r=this.isLevelUpMode&&i>1,o=r?this.levelUpManager.getAttributePointsForLevel(i):this.levelUpManager.getTotalAttributePointsUpToLevel(i);this.initialize(e,o,r),this.updateDerivedAttributes(),this.isInitialized=!0}updateDerivedAttributes(){this.character&&(this.movementSpeed=this.character.derivedAttributes.getMovementSpeed(this.character.attributes),this.recoveryDie=this.character.derivedAttributes.getRecoveryDie(this.character.attributes))}getLabel(e){return e.name}getCurrentValue(e){return e.currentValue}setCurrentValue(e,i){e.currentValue=i,this.character&&this.character.attributes.setAttribute(e.key,i)}onItemChanged(e,i){this.character&&(this.characterStateService.updateCharacter(this.character),this.updateDerivedAttributes(),this.updateValidation())}onResetComplete(){this.character&&(this.characterStateService.updateCharacter(this.character),this.updateDerivedAttributes(),this.updateValidation())}updateValidation(){let e=this.remainingPoints===0;this.validationService.setStepValid(this.STEP_INDEX,e),this.checkPendingStatus()}checkPendingStatus(){let e=this.remainingPoints>0;this.pendingChange.emit(e)}static \u0275fac=function(i){return new(i||n)(k(Bt),k(Ne),k(gn),k(zt))};static \u0275cmp=D({type:n,selectors:[["app-attribute-allocator"]],outputs:{pendingChange:"pendingChange"},features:[De([gn]),ye],decls:17,vars:4,consts:[[1,"attribute-allocator-container"],[1,"main-content"],[1,"header"],[1,"header-text"],[1,"points-remaining"],[1,"points-display"],[1,"reset-btn",3,"click"],[1,"attributes-list"],[3,"label","currentValue","minValue","maxValue","pointsRemaining","valueChanged",4,"ngFor","ngForOf"],["class","sidebar",4,"ngIf"],[3,"valueChanged","label","currentValue","minValue","maxValue","pointsRemaining"],[1,"sidebar"],[1,"sidebar-header"],[1,"sidebar-subtitle"],[1,"derived-stats"],[1,"stat-card"],[1,"stat-icon"],[1,"stat-info"],[1,"stat-value"],[1,"allocation-status"],[1,"status-message"],[4,"ngIf"]],template:function(i,r){i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),u(5,"Distribute Attribute Points"),c(),l(6,"div",4),u(7,"Points Remaining: "),l(8,"strong"),u(9),c(),u(10),c()(),l(11,"div",5)(12,"button",6),C("click",function(){return r.resetAllocations()}),u(13,"Reset All"),c()()(),l(14,"div",7),x(15,U8,1,5,"app-value-stepper",8),c()(),x(16,$8,43,8,"div",9),c()),i&2&&(m(9),w(r.remainingPoints),m(),O(" / ",r.totalPoints),m(5),g("ngForOf",r.items),m(),g("ngIf",r.character))},dependencies:[Q,ue,ie,qc],styles:[".attribute-allocator-container[_ngcontent-%COMP%]{display:flex;gap:2rem;padding:2rem;max-width:1400px;margin:0 auto;align-items:flex-start}.main-content[_ngcontent-%COMP%]{flex:1;min-width:0}.main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:2px solid #333}.main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#fff;font-size:1.8rem}.main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .points-remaining[_ngcontent-%COMP%]{font-size:1.2rem;color:#e8e8e8;padding-left:2rem}.main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .points-remaining[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--gpColor-ChalkyBlue)}.main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#6c757d;color:#fff;border:none;border-radius:4px;cursor:pointer}.main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]:hover{background:#5a6268}.main-content[_ngcontent-%COMP%]   .attributes-list[_ngcontent-%COMP%]{margin-bottom:2rem}.sidebar[_ngcontent-%COMP%]{width:350px;flex-shrink:0;position:sticky;top:2rem}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.5rem;font-weight:600;color:#fff}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .sidebar-subtitle[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#e8e8e8;font-style:italic}.sidebar[_ngcontent-%COMP%]   .derived-stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem}.sidebar[_ngcontent-%COMP%]   .derived-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;background:var(--gpSystemDarkerGrey);border-radius:8px;box-shadow:0 2px 4px #0000001a;transition:all .2s ease}.sidebar[_ngcontent-%COMP%]   .derived-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000026;transform:translateY(-2px);background:var(--gpSystemDarkGrey)}.sidebar[_ngcontent-%COMP%]   .derived-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:2rem;width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:var(--gpSystemDarkGrey);border-radius:8px;color:var(--gpColor-ChalkyBlue)}.sidebar[_ngcontent-%COMP%]   .derived-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.sidebar[_ngcontent-%COMP%]   .derived-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem;color:#e8e8e8;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.sidebar[_ngcontent-%COMP%]   .derived-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff}.sidebar[_ngcontent-%COMP%]   .allocation-status[_ngcontent-%COMP%]{padding:1rem;border-radius:8px;background:#fff3cd;border:1px solid #ffc107}.sidebar[_ngcontent-%COMP%]   .allocation-status.complete[_ngcontent-%COMP%]{background:#d4edda;border:1px solid #28a745}.sidebar[_ngcontent-%COMP%]   .allocation-status.complete[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#155724}.sidebar[_ngcontent-%COMP%]   .allocation-status[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-weight:500;font-size:.95rem}.sidebar[_ngcontent-%COMP%]   .allocation-status[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#856404}@media(max-width:1024px){.attribute-allocator-container[_ngcontent-%COMP%]{flex-direction:column;padding-bottom:8rem}.sidebar[_ngcontent-%COMP%]{width:100%;position:static}}"]})};function G8(n,t){if(n&1){let e=F();l(0,"div",10)(1,"app-value-stepper",11),C("valueChanged",function(r){E(e);let o=v();return S(o.onValueChanged(r))}),c(),l(2,"div",12)(3,"span",13),u(4),c(),l(5,"span",14),u(6),c()()()}if(n&2){let e=t.$implicit,i=v();m(),g("label",e.name)("currentValue",e.currentValue)("minValue",i.getMinValue(e))("maxValue",i.maxValue)("pointsRemaining",i.remainingPoints),m(3),w(e.associatedAttribute),m(2),O("Total: ",e.total)}}function W8(n,t){if(n&1){let e=F();l(0,"div",10)(1,"app-value-stepper",11),C("valueChanged",function(r){E(e);let o=v();return S(o.onValueChanged(r))}),c(),l(2,"div",12)(3,"span",13),u(4),c(),l(5,"span",14),u(6),c()()()}if(n&2){let e=t.$implicit,i=v();m(),g("label",e.name)("currentValue",e.currentValue)("minValue",i.getMinValue(e))("maxValue",i.maxValue)("pointsRemaining",i.remainingPoints),m(3),w(e.associatedAttribute),m(2),O("Total: ",e.total)}}function Y8(n,t){if(n&1){let e=F();l(0,"div",10)(1,"app-value-stepper",11),C("valueChanged",function(r){E(e);let o=v();return S(o.onValueChanged(r))}),c(),l(2,"div",12)(3,"span",13),u(4),c(),l(5,"span",14),u(6),c()()()}if(n&2){let e=t.$implicit,i=v();m(),g("label",e.name)("currentValue",e.currentValue)("minValue",i.getMinValue(e))("maxValue",i.maxValue)("pointsRemaining",i.remainingPoints),m(3),w(e.associatedAttribute),m(2),O("Total: ",e.total)}}var rg=class n extends $c{constructor(e,i,r,o){super();this.activatedRoute=e;this.characterStateService=i;this.levelUpManager=r;this.validationService=o}pendingChange=new U;destroy$=new P;STEP_INDEX=4;character=null;skillAssociationTable=new Ar;isLevelUpMode=!1;isInitialized=!1;physicalSkills=[];mentalSkills=[];socialSkills=[];ngOnInit(){this.levelUpManager.pointsChanged$.pipe(L(this.destroy$)).subscribe(()=>{this.checkPendingStatus()}),Qr([this.activatedRoute.queryParams,this.characterStateService.character$]).pipe(L(this.destroy$)).subscribe(([e,i])=>{this.isLevelUpMode=e.levelUp==="true",this.character=i,this.character&&(this.initializeSkills(),this.checkPendingStatus(),this.updateValidation())})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeSkills(){if(!this.character||this.isInitialized)return;let e=Object.values(pi).map(a=>{let s=this.character.skills.getSkillRank(a),d=this.skillAssociationTable.checkSkillAssociation(a),p=this.character.attributes.getAttribute(d);return{name:this.formatSkillName(a),type:a,currentValue:s,associatedAttribute:this.capitalizeFirst(d),total:s+p}});this.categorizeSkills(e);let i=this.character.level||1,r=this.isLevelUpMode&&i>1,o=r?this.levelUpManager.getSkillPointsForLevel(i):this.levelUpManager.getTotalSkillPointsUpToLevel(i);this.initialize(e,o,r),this.isInitialized=!0}categorizeSkills(e){let i=["AGILITY","ATHLETICS","HEAVY_WEAPONRY","LIGHT_WEAPONRY","STEALTH","THIEVERY"],r=["CRAFTING","DEDUCTION","DISCIPLINE","INTIMIDATION","LORE","MEDICINE"],o=["DECEPTION","INSIGHT","LEADERSHIP","PERCEPTION","PERSUASION","SURVIVAL"];this.physicalSkills=e.filter(a=>i.includes(a.type)),this.mentalSkills=e.filter(a=>r.includes(a.type)),this.socialSkills=e.filter(a=>o.includes(a.type))}formatSkillName(e){return e.toLowerCase().split("_").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ")}capitalizeFirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}updateSkillTotals(){this.character&&this.items.forEach(e=>{let i=this.skillAssociationTable.checkSkillAssociation(e.type),r=this.character.attributes.getAttribute(i);e.total=e.currentValue+r})}getLabel(e){return e.name}getCurrentValue(e){return e.currentValue}setCurrentValue(e,i){e.currentValue=i,this.character&&this.character.skills.setSkillRank(e.type,i)}onItemChanged(e,i){this.character&&(this.characterStateService.updateCharacter(this.character),this.updateSkillTotals(),this.updateValidation())}onResetComplete(){this.character&&(this.characterStateService.updateCharacter(this.character),this.updateSkillTotals(),this.updateValidation())}updateValidation(){let e=this.remainingPoints===0;this.validationService.setStepValid(this.STEP_INDEX,e),this.checkPendingStatus(),e&&setTimeout(()=>{let i=document.querySelector(".stepper-buttons");i&&i.scrollIntoView({behavior:"smooth",block:"nearest"})},150)}checkPendingStatus(){let e=this.remainingPoints>0;this.pendingChange.emit(e)}static \u0275fac=function(i){return new(i||n)(k(Bt),k(Ne),k(gn),k(zt))};static \u0275cmp=D({type:n,selectors:[["app-skill-manager"]],outputs:{pendingChange:"pendingChange"},features:[De([gn]),ye],decls:28,vars:7,consts:[[1,"skill-manager"],[1,"header"],[1,"points-display"],[1,"points-remaining"],[1,"reset-btn",3,"click"],[1,"skills-container"],[1,"skill-category"],[1,"category-title"],[1,"skills-list"],["class","skill-row",4,"ngFor","ngForOf"],[1,"skill-row"],[3,"valueChanged","label","currentValue","minValue","maxValue","pointsRemaining"],[1,"skill-info"],[1,"attribute-badge"],[1,"total-value"]],template:function(i,r){i&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),u(3,"Allocate Skill Ranks"),c(),l(4,"div",2)(5,"span",3),u(6," Points Remaining: "),l(7,"strong"),u(8),c(),u(9),c(),l(10,"button",4),C("click",function(){return r.resetAllocations()}),u(11,"Reset All"),c()()(),l(12,"div",5)(13,"div",6)(14,"h3",7),u(15,"Physical Skills"),c(),l(16,"div",8),x(17,G8,7,7,"div",9),c()(),l(18,"div",6)(19,"h3",7),u(20,"Mental Skills"),c(),l(21,"div",8),x(22,W8,7,7,"div",9),c()(),l(23,"div",6)(24,"h3",7),u(25,"Social Skills"),c(),l(26,"div",8),x(27,Y8,7,7,"div",9),c()()()()),i&2&&(m(5),T("warning",r.remainingPoints===0),m(3),w(r.remainingPoints),m(),O(" / ",r.totalPoints," "),m(8),g("ngForOf",r.physicalSkills),m(5),g("ngForOf",r.mentalSkills),m(5),g("ngForOf",r.socialSkills))},dependencies:[Q,ue,qc],styles:[".skill-manager[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.skill-manager[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:2px solid #e0e0e0;flex-wrap:wrap;gap:1rem}.skill-manager[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;color:#fff;white-space:nowrap;min-width:0}.skill-manager[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.skill-manager[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]   .points-remaining[_ngcontent-%COMP%]{font-size:1.2rem;color:#e8e8e8;white-space:nowrap}.skill-manager[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]   .points-remaining[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2196f3;font-size:1.4rem}.skill-manager[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]   .points-remaining.warning[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#4caf50}.skill-manager[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#f44336;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s;white-space:nowrap}.skill-manager[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]:hover{background-color:#d32f2f}.skill-manager[_ngcontent-%COMP%]   .skills-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(min(450px,100%),1fr));gap:2rem;margin-bottom:2rem}.skill-manager[_ngcontent-%COMP%]   .skills-container[_ngcontent-%COMP%]   .skill-category[_ngcontent-%COMP%]{background:var(--gpSystemDarkerGrey);padding:1.5rem;border-radius:8px;box-shadow:0 2px 4px #0000001a}.skill-manager[_ngcontent-%COMP%]   .skills-container[_ngcontent-%COMP%]   .skill-category[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.3rem;color:#fff;border-bottom:2px solid var(--gpSystemDarkGrey);padding-bottom:.5rem}@media(max-width:768px){.skill-manager[_ngcontent-%COMP%]   .skills-container[_ngcontent-%COMP%]   .skill-category[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{font-size:1.1rem;word-wrap:break-word;overflow-wrap:break-word}}.skill-manager[_ngcontent-%COMP%]   .skills-container[_ngcontent-%COMP%]   .skill-category[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.skill-manager[_ngcontent-%COMP%]   .skills-container[_ngcontent-%COMP%]   .skill-category[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:center;padding:.5rem;background:var(--gpSystemDarkGrey);border-radius:4px;gap:.75rem;min-width:0}@media(max-width:768px){.skill-manager[_ngcontent-%COMP%]   .skills-container[_ngcontent-%COMP%]   .skill-category[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-row[_ngcontent-%COMP%]{gap:.5rem}}.skill-manager[_ngcontent-%COMP%]   .skills-container[_ngcontent-%COMP%]   .skill-category[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-row[_ngcontent-%COMP%]   app-value-stepper[_ngcontent-%COMP%]{min-width:15rem;overflow:hidden}.skill-manager[_ngcontent-%COMP%]   .skills-container[_ngcontent-%COMP%]   .skill-category[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-row[_ngcontent-%COMP%]   .skill-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:.25rem;flex-shrink:0;width:fit-content}@media(max-width:768px){.skill-manager[_ngcontent-%COMP%]   .skills-container[_ngcontent-%COMP%]   .skill-category[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-row[_ngcontent-%COMP%]   .skill-info[_ngcontent-%COMP%]{gap:.1rem}}.skill-manager[_ngcontent-%COMP%]   .skills-container[_ngcontent-%COMP%]   .skill-category[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-row[_ngcontent-%COMP%]   .skill-info[_ngcontent-%COMP%]   .attribute-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.2rem .5rem;background-color:#e3f2fd;color:#1976d2;border-radius:3px;font-weight:600;white-space:nowrap}@media(max-width:768px){.skill-manager[_ngcontent-%COMP%]   .skills-container[_ngcontent-%COMP%]   .skill-category[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-row[_ngcontent-%COMP%]   .skill-info[_ngcontent-%COMP%]   .attribute-badge[_ngcontent-%COMP%]{font-size:.65rem;padding:.15rem .35rem}}.skill-manager[_ngcontent-%COMP%]   .skills-container[_ngcontent-%COMP%]   .skill-category[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-row[_ngcontent-%COMP%]   .skill-info[_ngcontent-%COMP%]   .total-value[_ngcontent-%COMP%]{font-size:.85rem;color:#e8e8e8;font-weight:500;white-space:nowrap}@media(max-width:768px){.skill-manager[_ngcontent-%COMP%]   .skills-container[_ngcontent-%COMP%]   .skill-category[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-row[_ngcontent-%COMP%]   .skill-info[_ngcontent-%COMP%]   .total-value[_ngcontent-%COMP%]{font-size:.75rem}}@media(max-width:768px){.skill-manager[_ngcontent-%COMP%]{padding:0rem}.skill-manager[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.skill-manager[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.skill-manager[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.skill-manager[_ngcontent-%COMP%]   .skills-container[_ngcontent-%COMP%]{grid-template-columns:1fr}.skill-manager[_ngcontent-%COMP%]   .skills-container[_ngcontent-%COMP%]   .skill-category[_ngcontent-%COMP%]{padding:1rem .5rem}}@media(max-width:480px){.skill-manager[_ngcontent-%COMP%]{padding-bottom:8rem}.skill-manager[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;width:100%}.skill-manager[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]   .points-remaining[_ngcontent-%COMP%]{font-size:1rem}.skill-manager[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]   .points-remaining[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}"]})};var $C=[{name:"Alethi",category:"cultural",description:"You know the names, locations, and highprinces of each princedom. You can replicate regional dialects, find vendors and landmarks. You know spoken Alethi, glyphs, and women's script. You're familiar with Vorinism, the Almighty, and the Heralds."},{name:"Azish",category:"cultural",description:"You know about the bureaucracy, Bronze Palace, Prime Aqasix, and viziers. You can recall basic facts about Azish Empire member states. You know Azish sign language and spoken/written Azish. You can navigate civic buildings and know about the Kadasixes and scions."},{name:"Herdazian",category:"cultural",description:"You know of the king and prominent ranching families. You can navigate between expansive ranches and avoid coastal greatshells. You know spoken/written Herdazian and glyphs. You know about ranching tools including sparkflickers and Herdazian Vorinism."},{name:"Iriali",category:"cultural",description:"You know of the Iriali Triumvirate. You can find vendors and landmarks in cities or rural areas. You know spoken/written Iri. You're familiar with the One and the Long Trail, plus basic travel strategies and journey management."},{name:"Kharbranthian",category:"cultural",description:"You're familiar with the city's major education systems. You know common medicine names, functions, and basic hygiene measures. You know Kharbranthian, glyphs, and women's script. You're familiar with basic tenets of Vorinism."},{name:"Listener",category:"cultural",description:"You're aware of dullform, mateform, nimbleform, warform and workform. You're familiar with the listener council (the Five). You know the songs and rhythms of Roshar. Generally only available to singer characters or those who lived closely with listeners."},{name:"Natan",category:"cultural",description:"You've heard tales of lost Natan lands. You know what highstorms are like at full potency and defensive measures. You know Natan or another Vorin language. You're familiar with Vorinism and Natan reverence for the moons."},{name:"Reshi",category:"cultural",description:"You know about Tai-na greatshells, spren deities, and tales of island wars. You're familiar with Reshi Sea ecology and major stationary islands. You know spoken/written Reshi. You know which resources are unavailable in the Reshi Isles and their sources."},{name:"Shin",category:"cultural",description:"You're familiar with mild highstorms in Shinovar and their supported ecology/architecture. You know how to barter by diminishing perceived value. You know spoken/written Shin. You're familiar with Stone Shamanism."},{name:"Thaylen",category:"cultural",description:"You're familiar with the elective monarchy and merchant councils. You know major artifabrian guilds and experienced fabrials in everyday life. You know tips to mitigate sea sickness and arrange travel. You know spoken/written Thaylen and Vorinism."},{name:"Unkalaki",category:"cultural",description:"You know about leadership, ecology, and myths of the oceans atop the peaks. Your body is familiar with breathing thin air. You know spoken/written Unkalaki. You know of gods of waters, mountains, trees, and worshiping spren as gods."},{name:"Veden",category:"cultural",description:"You're familiar with the king, princedoms, and four major ethnic groups in Jah Keved. You know spoken Veden, glyphs, and women's script. You may also know Alethi, Bav, or Siln languages. You're familiar with Vorinism."},{name:"Wayfarer",category:"cultural",description:"You know how to read international map keys. You can find trustworthy currency exchange hubs in major cities. From your travels, you've learned basic greetings and cultural touchstones from various nations."}],K8=[{name:"Light Weaponry",category:"weapon",description:"Proficiency with light melee weapons such as daggers, short swords, and shortbows."},{name:"Heavy Weaponry",category:"weapon",description:"Proficiency with heavy melee weapons such as greatswords, hammers, and longbows."},{name:"Special Weapons",category:"weapon",description:"Proficiency with specialized weapons such as improvised weapons, shardblades, and grandbows."},{name:"Armor Proficiency",category:"armor",description:"Proficiency in wearing and maintaining various types of armor, including light, medium, and heavy armor."},{name:"Fabrial Operation",category:"utility",description:"Knowledge in operating and repairing common fabrials used for everyday tasks and combat support."}],Q8=[{name:"Armor Crafting",category:"specialist",description:"Skilled in crafting and repairing various types of armor."},{name:"Weapon Crafting",category:"specialist",description:"Skilled in crafting and maintaining different kinds of weapons."},{name:"Fabrial Crafting",category:"specialist",description:"Expertise in creating and enchanting fabrials for various uses."},{name:"Equipment Crafting",category:"specialist",description:"Skilled in crafting and maintaining various types of equipment."}],hu=[...$C,...K8,...Q8];function Z8(n,t){if(n&1&&(l(0,"p",10)(1,"mat-icon"),u(2,"public"),c(),l(3,"strong"),u(4,"Cultural Expertises from your culture(s):"),c(),u(5),l(6,"span",11),u(7,"(These can be deselected if desired)"),c()()),n&2){let e=v();m(5),O(" ",e.culturalExpertises.join(", ")," ")}}function X8(n,t){if(n&1&&(l(0,"div",12)(1,"mat-icon"),u(2),c(),l(3,"span"),u(4),c()()),n&2){let e=v();m(2),w(e.availablePoints>=0?"info":"warning"),m(2),w(e.validationMessage)}}function J8(n,t){n&1&&(l(0,"mat-chip",25)(1,"mat-icon"),u(2,"stars"),c(),u(3," From Culture "),c())}function eU(n,t){if(n&1){let e=F();l(0,"button",26),C("click",function(r){E(e);let o=v().$implicit;return v(2).toggleExpertise(o),S(r.stopPropagation())}),l(1,"mat-icon"),u(2,"remove_circle"),c(),u(3," Remove "),c()}}function tU(n,t){if(n&1){let e=F();l(0,"button",27),C("click",function(r){E(e);let o=v().$implicit;return v(2).toggleExpertise(o),S(r.stopPropagation())}),l(1,"mat-icon"),u(2,"add_circle"),c(),u(3," Select "),c()}}function nU(n,t){if(n&1){let e=F();l(0,"mat-card",20),C("click",function(){let r=E(e).$implicit,o=v(2);return S(o.toggleExpertise(r))}),l(1,"mat-card-header")(2,"mat-card-title")(3,"mat-icon",21),u(4),c(),u(5),x(6,J8,4,0,"mat-chip",22),c()(),l(7,"mat-card-content")(8,"p"),u(9),c()(),l(10,"mat-card-actions"),x(11,eU,4,0,"button",23)(12,tU,4,0,"button",24),c()()}if(n&2){let e=t.$implicit,i=v().$implicit,r=v();T("selected",r.isExpertiseSelected(e))("cultural-auto",r.isCulturalExpertise(e))("available",r.canSelectExpertise(e))("locked",!r.canSelectExpertise(e)&&!r.isExpertiseSelected(e)),X("data-category",i),m(4),w(r.getCategoryIcon(i)),m(),O(" ",e.name," "),m(),g("ngIf",r.isCulturalExpertise(e)),m(3),w(e.description),m(2),g("ngIf",r.isExpertiseSelected(e)),m(),g("ngIf",!r.isExpertiseSelected(e)&&r.canSelectExpertise(e))}}function iU(n,t){if(n&1&&(l(0,"div",13)(1,"div",14)(2,"mat-icon",15),u(3),c(),l(4,"div",16)(5,"h3"),u(6),c(),l(7,"p",17),u(8),c()()(),l(9,"div",18),x(10,nU,13,15,"mat-card",19),c()()),n&2){let e=t.$implicit,i=v();m(3),w(i.getCategoryIcon(e)),m(3),w(i.getCategoryTitle(e)),m(2),w(i.getCategoryDescription(e)),m(2),g("ngForOf",i.getExpertisesByCategory(e))}}function rU(n,t){n&1&&(l(0,"mat-icon",31),u(1,"cancel"),c())}function oU(n,t){if(n&1){let e=F();l(0,"mat-chip",28),C("removed",function(){let r=E(e).$implicit,o=v();return S(o.removeExpertiseByName(r.name))}),u(1),l(2,"span",29),u(3),c(),x(4,rU,2,0,"mat-icon",30),c()}if(n&2){let e=t.$implicit,i=v();g("removable",i.canRemoveExpertise(e.name)),m(),O(" ",e.name," "),m(),Ie("badge-"+e.source),m(),O(" ",i.getSourceBadge(e.name)," "),m(),g("ngIf",i.canRemoveExpertise(e.name))}}var og=class n{constructor(t,e,i){this.characterState=t;this.validationService=e;this.levelUpManager=i}pendingChange=new U;destroy$=new P;STEP_INDEX=5;isInitialized=!1;character=null;availableExpertises=hu;selectedExpertises=[];culturalExpertises=[];availablePoints=0;totalPoints=0;validationMessage="";ngOnInit(){this.levelUpManager.pointsChanged$.pipe(L(this.destroy$)).subscribe(()=>{this.checkPendingStatus()}),setTimeout(()=>{let t=document.querySelector(".app-sidenav-content");t&&t.scrollTo({top:0,behavior:"smooth"})},0),this.characterState.character$.pipe(L(this.destroy$)).subscribe(t=>{this.character=t,this.selectedExpertises=[...t.selectedExpertises],this.extractCulturalExpertises(),this.calculateAvailablePoints(),this.updateValidation()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}extractCulturalExpertises(){this.character&&(this.culturalExpertises=this.character.cultures.map(t=>t.name).filter(t=>$C.some(e=>e.name===t)),this.isInitialized||(this.culturalExpertises.forEach(t=>{this.selectedExpertises.some(e=>e.name===t)||this.characterState.addExpertise(t,"culture",`culture:${t}`)}),this.isInitialized=!0))}calculateAvailablePoints(){if(!this.character)return;this.totalPoints=this.character.attributes.intellect;let t=this.selectedExpertises.filter(e=>!this.culturalExpertises.includes(e.name)).length;this.availablePoints=this.totalPoints-t}updateValidation(){let t=this.availablePoints>=0;this.availablePoints<0?this.validationMessage=`You have selected too many expertises. Remove ${Math.abs(this.availablePoints)} expertise(s).`:this.availablePoints>0?this.validationMessage=`You have ${this.availablePoints} expertise point(s) remaining to spend.`:this.validationMessage="All expertise points have been allocated.",this.validationService.setStepValid(this.STEP_INDEX,t),this.checkPendingStatus()}checkPendingStatus(){let t=this.availablePoints>0;this.pendingChange.emit(t)}isExpertiseSelected(t){return this.selectedExpertises.some(e=>e.name===t.name)}isCulturalExpertise(t){return this.culturalExpertises.includes(t.name)}canSelectExpertise(t){return this.isCulturalExpertise(t)?!0:!this.isExpertiseSelected(t)&&this.availablePoints>0}canDeselectExpertise(t){return this.isExpertiseSelected(t)}toggleExpertise(t){this.isExpertiseSelected(t)?this.deselectExpertise(t):this.canSelectExpertise(t)&&this.selectExpertise(t)}selectExpertise(t){this.selectedExpertises.some(e=>e.name===t.name)||(this.characterState.addExpertise(t.name,"manual"),this.calculateAvailablePoints(),this.updateValidation())}deselectExpertise(t){this.characterState.removeExpertise(t.name),this.calculateAvailablePoints(),this.updateValidation()}getExpertisesByCategory(t){return this.availableExpertises.filter(e=>e.category===t)}removeExpertiseByName(t){this.characterState.removeExpertise(t)}getSourceBadge(t){let e=this.selectedExpertises.find(i=>i.name===t);return e?Bn.getSourceBadge(e.source):""}canRemoveExpertise(t){let e=this.selectedExpertises.find(i=>i.name===t);return e?Bn.canRemove(e):!1}getCategoryIcon(t){return{cultural:"public",weapon:"military_tech",armor:"shield",utility:"construction",specialist:"engineering"}[t]||"help"}getCategoryTitle(t){return{cultural:"Cultural Expertises",weapon:"Weapon Proficiencies",armor:"Armor Proficiencies",utility:"Utility Proficiencies",specialist:"Crafting Specializations"}[t]||t}getCategoryDescription(t){return{cultural:"Knowledge and understanding of different cultures and their customs.",weapon:"Proficiency with various types of weapons in combat.",armor:"Training in wearing and maintaining different types of armor.",utility:"Skills in using specialized tools and equipment.",specialist:"Advanced knowledge in crafting and creating items."}[t]||""}get categories(){return["cultural","weapon","armor","utility","specialist"]}static \u0275fac=function(e){return new(e||n)(k(Ne),k(zt),k(gn))};static \u0275cmp=D({type:n,selectors:[["app-expertise-selector"]],outputs:{pendingChange:"pendingChange"},decls:27,vars:8,consts:[[1,"expertise-selector-container"],[1,"expertise-header"],[1,"expertise-points"],[1,"expertise-info"],["class","cultural-info",4,"ngIf"],["class","validation-message",4,"ngIf"],[1,"expertise-categories"],["class","category-section",4,"ngFor","ngForOf"],[1,"selected-summary"],[3,"removable","removed",4,"ngFor","ngForOf"],[1,"cultural-info"],[1,"cultural-note"],[1,"validation-message"],[1,"category-section"],[1,"category-header"],[1,"category-icon"],[1,"category-text"],[1,"category-description"],[1,"expertise-grid"],["class","expertise-card",3,"selected","cultural-auto","available","locked","click",4,"ngFor","ngForOf"],[1,"expertise-card",3,"click"],[1,"expertise-icon"],["class","auto-chip",4,"ngIf"],["mat-button","","color","warn",3,"click",4,"ngIf"],["mat-button","","color","primary",3,"click",4,"ngIf"],[1,"auto-chip"],["mat-button","","color","warn",3,"click"],["mat-button","","color","primary",3,"click"],[3,"removed","removable"],[1,"expertise-source-badge"],["matChipRemove","",4,"ngIf"],["matChipRemove",""]],template:function(e,i){e&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),u(3,"Expertise Selection"),c(),l(4,"div",2)(5,"mat-icon"),u(6,"school"),c(),l(7,"span"),u(8),c()()(),l(9,"div",3)(10,"p"),u(11," Select expertises based on your character's background and training. You receive "),l(12,"strong"),u(13,"2 cultural expertises"),c(),u(14," from your chosen culture(s) automatically, plus additional expertises equal to your "),l(15,"strong"),u(16),c(),u(17,". "),c(),x(18,Z8,8,1,"p",4),c(),x(19,X8,5,2,"div",5),l(20,"div",6),x(21,iU,11,4,"div",7),c(),l(22,"div",8)(23,"h3"),u(24),c(),l(25,"mat-chip-set"),x(26,oU,5,6,"mat-chip",9),c()()()),e&2&&(m(8),ft("Available Points: ",i.availablePoints," / ",i.totalPoints),m(8),O("Intellect score (",i.totalPoints,")"),m(2),g("ngIf",i.culturalExpertises.length>0),m(),g("ngIf",i.validationMessage),m(2),g("ngForOf",i.categories),m(3),O("Selected Expertises (",i.selectedExpertises.length,")"),m(2),g("ngForOf",i.selectedExpertises))},dependencies:[Q,ue,ie,Re,qe,Tn,Ke,dt,lt,ge,Pe,Ut,sn,Jf,Ti,oe,le],styles:['.expertise-selector-container[_ngcontent-%COMP%]{margin:0 auto}.expertise-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.expertise-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:2rem;color:#fff}.expertise-header[_ngcontent-%COMP%]   .expertise-points[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.25rem;font-weight:600;color:var(--gpColor-ChalkyBlue)}.expertise-header[_ngcontent-%COMP%]   .expertise-points[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem;color:var(--gpColor-ChalkyBlue)}.expertise-info[_ngcontent-%COMP%]{background:#ffffff0d;padding:1rem;border-radius:8px;margin-bottom:1.5rem;border:1px solid rgba(255,255,255,.1)}.expertise-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;line-height:1.6;color:#e8e8e8}.expertise-info[_ngcontent-%COMP%]   .cultural-info[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;padding:.75rem;background:#6495ed1a;border-radius:6px;border-left:3px solid var(--gpColor-ChalkyBlue)}.expertise-info[_ngcontent-%COMP%]   .cultural-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue);margin-top:2px}.expertise-info[_ngcontent-%COMP%]   .cultural-info[_ngcontent-%COMP%]   .cultural-note[_ngcontent-%COMP%]{display:block;font-size:.85rem;color:#b0b0b0;margin-top:.25rem;font-style:italic}.expertise-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue)}.validation-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:1rem;background:#2196f326;border:1px solid var(--gpColor-ChalkyBlue);border-radius:8px;margin-bottom:1.5rem;color:#fff}.validation-message[_ngcontent-%COMP%]:has(mat-icon[fontIcon=warning]){background:#ff980026;border-color:#ff9800;color:#ffcc80}.validation-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:inherit}.validation-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.expertise-categories[_ngcontent-%COMP%]{margin-bottom:2rem}.category-section[_ngcontent-%COMP%]{margin-bottom:3rem}.category-section[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:2px solid rgba(255,255,255,.2)}.category-section[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:var(--gpColor-ChalkyBlue);background:#6495ed26;border-radius:8px;padding:.5rem;display:flex;align-items:center;justify-content:center}.category-section[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-text[_ngcontent-%COMP%]{flex:1}.category-section[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff;margin:0 0 .25rem}.category-section[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-text[_ngcontent-%COMP%]   .category-description[_ngcontent-%COMP%]{margin:0;color:#b0b0b0;font-size:.9rem;font-style:italic}.expertise-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1rem}.expertise-card[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s ease;border:2px solid transparent;background-color:var(--gpSystemDarkerGrey)!important;position:relative}.expertise-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:transparent;transition:background .3s ease}.expertise-card[data-category=cultural][_ngcontent-%COMP%]:before{background:#6495ed}.expertise-card[data-category=weapon][_ngcontent-%COMP%]:before{background:tomato}.expertise-card[data-category=armor][_ngcontent-%COMP%]:before{background:orange}.expertise-card[data-category=utility][_ngcontent-%COMP%]:before{background:#32cd32}.expertise-card[data-category=specialist][_ngcontent-%COMP%]:before{background:#9370db}.expertise-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #0000004d;border-color:var(--gpColor-ChalkyBlue)}.expertise-card.selected[_ngcontent-%COMP%]{border-color:#4caf50;background-color:#4caf5026!important;box-shadow:0 4px 12px #4caf504d}.expertise-card.cultural-auto[_ngcontent-%COMP%]{border-color:var(--gpColor-ChalkyBlue);background-color:#6495ed26!important;box-shadow:0 4px 12px #6495ed33}.expertise-card.available[_ngcontent-%COMP%]{cursor:pointer}.expertise-card.available[_ngcontent-%COMP%]:hover{border-color:var(--gpColor-ChalkyBlue)}.expertise-card.locked[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed}.expertise-card.locked[_ngcontent-%COMP%]:hover{transform:none;box-shadow:none;border-color:transparent}.expertise-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:.5rem}.expertise-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap;font-size:1.1rem;font-weight:600;color:#fff}.expertise-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .expertise-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem;color:var(--gpColor-ChalkyBlue)}.expertise-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#e8e8e8;font-size:.95rem;line-height:1.5}.expertise-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding:.5rem 1rem;margin:0;display:flex;justify-content:flex-end}.expertise-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.25rem}.expertise-card[_ngcontent-%COMP%]   .auto-chip[_ngcontent-%COMP%]{font-size:.7rem;height:22px;min-height:22px;background:var(--gpColor-ChalkyBlue);color:#fff;display:flex;align-items:center;gap:.25rem}.expertise-card[_ngcontent-%COMP%]   .auto-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:.9rem;width:.9rem;height:.9rem}.selected-summary[_ngcontent-%COMP%]{background:#ffffff0d;padding:1.5rem;border-radius:8px;border:1px solid rgba(255,255,255,.1)}.selected-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.25rem;color:#fff}.selected-summary[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.selected-summary[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{background:#4caf50;color:#fff;font-weight:500;display:flex;align-items:center;gap:.5rem}.selected-summary[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   .expertise-source-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.15rem .5rem;border-radius:12px;background:#0003;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.selected-summary[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   .expertise-source-badge.badge-culture[_ngcontent-%COMP%]{background:#7e57c2}.selected-summary[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   .expertise-source-badge.badge-talent[_ngcontent-%COMP%]{background:#ff9800}.selected-summary[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   .expertise-source-badge.badge-gm[_ngcontent-%COMP%]{background:#f44336}.selected-summary[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   .expertise-source-badge.badge-manual[_ngcontent-%COMP%]{background:#ffffff26}.selected-summary[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.selected-summary[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{opacity:.8}@media(max-width:768px){.expertise-selector-container[_ngcontent-%COMP%]{padding-bottom:8rem}}']})};function aU(n,t){if(n&1){let e=F();l(0,"mat-card",9),C("click",function(){let r=E(e).$implicit,o=v(2);return S(o.selectMainPath(r.id))}),l(1,"mat-card-header")(2,"mat-icon",10),u(3),c(),l(4,"mat-card-title"),u(5),c()(),l(6,"mat-card-content")(7,"p"),u(8),c()(),l(9,"mat-card-actions")(10,"button",11),u(11),c()()()}if(n&2){let e=t.$implicit,i=v(2);m(3),w(i.getPathIcon(e)),m(2),w(e.name),m(3),w(e.description),m(3),O(" Select ",e.name," ")}}function sU(n,t){if(n&1&&(l(0,"div",4)(1,"div",5)(2,"h2"),u(3,"Choose Your Heroic Path"),c(),l(4,"p",6),u(5,"Select the path that defines your character's approach to adventure"),c()(),l(6,"div",7),x(7,aU,12,4,"mat-card",8),c()()),n&2){let e=v();m(7),g("ngForOf",e.availablePaths)}}function cU(n,t){if(n&1){let e=F();l(0,"mat-card",9),C("click",function(){let r=E(e).$implicit,o=v(2);return S(o.selectSpecialization(r))}),l(1,"mat-card-header")(2,"mat-card-title"),u(3),c()(),l(4,"mat-card-content")(5,"p",14),u(6),c()(),l(7,"mat-card-actions")(8,"button",11),u(9),c()()()}if(n&2){let e=t.$implicit;m(3),w(e.pathName),m(3),O("",e.nodes.length," talents available"),m(3),O(" Choose ",e.pathName," ")}}function lU(n,t){if(n&1){let e=F();l(0,"div",12)(1,"div",5)(2,"h2"),u(3,"Choose Your Specialization"),c(),l(4,"p",6),u(5),c(),l(6,"button",13),C("click",function(){E(e);let r=v();return S(r.backToMainPath())}),l(7,"mat-icon"),u(8,"arrow_back"),c(),u(9," Back to Paths "),c()(),l(10,"div",7),x(11,cU,10,3,"mat-card",8),c()()}if(n&2){let e=v();m(5),O("Select a specific focus within the ",e.getPathName(e.selectedMainPath)," path"),m(6),g("ngForOf",e.availableSpecializations)}}function dU(n,t){if(n&1){let e=F();l(0,"div",15)(1,"div",5)(2,"h2"),u(3,"Path Selected!"),c(),l(4,"mat-icon",16),u(5,"check_circle"),c()(),l(6,"mat-card",17)(7,"mat-card-content")(8,"h3"),u(9),c(),l(10,"p",18),u(11),c(),l(12,"p",19),u(13,"You can now proceed to select talents from this path."),c()(),l(14,"mat-card-actions")(15,"button",13),C("click",function(){E(e);let r=v();return S(r.backToMainPath())}),l(16,"mat-icon"),u(17,"edit"),c(),u(18," Change Selection "),c()()()()}if(n&2){let e=v();m(9),w(e.selectedSpecialization),m(2),O("",e.getPathName(e.selectedMainPath)," Path")}}var ag=class n{constructor(t,e){this.characterState=t;this.validationService=e}destroy$=new P;STEP_INDEX=6;character=null;selectedMainPath=null;selectedSpecialization=null;availableSpecializations=[];maxPaths=1;availablePaths=[{id:"warrior",name:"Warrior",description:"Masters of combat and physical prowess.",icon:"shield"},{id:"scholar",name:"Scholar",description:"Students of knowledge and artifice.",icon:"school"},{id:"hunter",name:"Hunter",description:"Trackers and precision specialists.",icon:"gps_fixed"},{id:"leader",name:"Leader",description:"Inspirers and commanders.",icon:"groups"},{id:"envoy",name:"Envoy",description:"Diplomats and spiritual guides.",icon:"record_voice_over"},{id:"agent",name:"Agent",description:"Shadowy operatives and investigators.",icon:"visibility"}];ngOnInit(){this.characterState.character$.pipe(L(this.destroy$)).subscribe(t=>{if(this.character=t,t.paths.length>=2){this.selectedMainPath=t.paths[0],this.selectedSpecialization=t.paths[1];let e=jn(this.selectedMainPath);e&&(this.availableSpecializations=e.paths)}else t.paths.length===1&&(this.selectedSpecialization=t.paths[0]);this.updateValidation()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}selectMainPath(t){this.selectedMainPath=t,this.selectedSpecialization=null;let e=jn(t);e?this.availableSpecializations=e.paths:this.availableSpecializations=[]}selectSpecialization(t){this.selectedSpecialization=t.pathName,this.updateCharacterPaths()}isMainPathSelected(t){return this.selectedMainPath===t}isSpecializationSelected(t){return this.selectedSpecialization===t}backToMainPath(){this.selectedMainPath=null,this.selectedSpecialization=null,this.availableSpecializations=[],this.updateValidation()}updateCharacterPaths(){this.character&&this.selectedSpecialization&&(this.character.paths=[this.selectedMainPath,this.selectedSpecialization],this.characterState.updateCharacter(this.character),this.updateValidation())}updateValidation(){let t=this.selectedSpecialization!==null;this.validationService.setStepValid(this.STEP_INDEX,t)}getPathIcon(t){return t.icon||"star"}getPathName(t){return this.availablePaths.find(i=>i.id===t)?.name||t}static \u0275fac=function(e){return new(e||n)(k(Ne),k(zt))};static \u0275cmp=D({type:n,selectors:[["app-path-selector"]],decls:4,vars:3,consts:[[1,"path-selector-container"],["class","main-path-selection",4,"ngIf"],["class","specialization-selection",4,"ngIf"],["class","confirmation",4,"ngIf"],[1,"main-path-selection"],[1,"path-header"],[1,"subtitle"],[1,"path-grid"],["class","path-card",3,"click",4,"ngFor","ngForOf"],[1,"path-card",3,"click"],[1,"path-icon"],["mat-raised-button","","color","primary"],[1,"specialization-selection"],["mat-button","",3,"click"],[1,"tier-info"],[1,"confirmation"],[1,"success-icon"],[1,"selection-summary-card"],[1,"path-info"],[1,"info-text"]],template:function(e,i){e&1&&(l(0,"div",0),x(1,sU,8,1,"div",1)(2,lU,12,2,"div",2)(3,dU,19,2,"div",3),c()),e&2&&(m(),g("ngIf",!i.selectedMainPath),m(),g("ngIf",i.selectedMainPath&&!i.selectedSpecialization),m(),g("ngIf",i.selectedSpecialization))},dependencies:[Q,ue,ie,Re,qe,Tn,Ke,dt,lt,ge,Pe,Ut,oe,le],styles:[".path-selector-container[_ngcontent-%COMP%]{margin:0 auto}.path-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.path-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.5rem;color:#fff}.path-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#e8e8e8;margin-bottom:1rem}.path-header[_ngcontent-%COMP%]   .path-counter[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:1.1rem;font-weight:500}.path-header[_ngcontent-%COMP%]   .path-counter[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2}.path-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem;margin-bottom:2rem}.path-card[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s ease;border:3px solid transparent;background-color:var(--gpSystemDarkerGrey)!important}.path-card[_ngcontent-%COMP%]:hover:not(.disabled){transform:translateY(-4px);box-shadow:0 8px 16px #0003;background-color:var(--gpSystemDarkGrey)!important}.path-card.selected[_ngcontent-%COMP%]{border-color:var(--gpColor-ChalkyBlue);background-color:var(--gpSystemDarkGrey)!important}.path-card.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.path-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}.path-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .path-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:var(--gpColor-ChalkyBlue)}.path-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;margin:0;color:#fff}.path-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{min-height:80px}.path-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#e8e8e8}.path-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem}.path-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{color:#4caf50}.selection-info[_ngcontent-%COMP%]{background-color:var(--gpSystemDarkerGrey);padding:1.5rem;border-radius:8px;margin-top:2rem}.selection-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem;color:#fff}.selection-info[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.selection-info[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:1rem}.confirmation[_ngcontent-%COMP%]   .path-header[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;color:#4caf50}.confirmation[_ngcontent-%COMP%]   .selection-summary-card[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;text-align:center;background-color:var(--gpSystemDarkerGrey)!important}.confirmation[_ngcontent-%COMP%]   .selection-summary-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.5rem;color:#fff}.confirmation[_ngcontent-%COMP%]   .selection-summary-card[_ngcontent-%COMP%]   .path-info[_ngcontent-%COMP%]{font-size:1rem;color:#e8e8e8;margin-bottom:1rem}.confirmation[_ngcontent-%COMP%]   .selection-summary-card[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{margin-top:1.5rem;color:#e8e8e8;line-height:1.6}@media(max-width:768px){.path-selector-container[_ngcontent-%COMP%]{padding-bottom:6rem}}"]})};var uU=20,Co=(()=>{class n{_ngZone=f($);_platform=f(Fe);_renderer=f(Nt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new P;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=uU){return this._platform.isBrowser?new we(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(dm(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):te()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(be(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_scrollableContainsElement(e,i){let r=zn(i),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xo=(()=>{class n{elementRef=f(G);scrollDispatcher=f(Co);ngZone=f($);dir=f(on,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new P;_renderer=f(rt);_cleanupScroll;_elementScrolled=new P;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let i=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=r?e.end:e.start),e.right==null&&(e.right=r?e.start:e.end),e.bottom!=null&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&Ac()!=ir.NORMAL?(e.left!=null&&(e.right=i.scrollWidth-i.clientWidth-e.left),Ac()==ir.INVERTED?e.left=e.right:Ac()==ir.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let i=this.elementRef.nativeElement;Rf()?i.scrollTo(e):(e.top!=null&&(i.scrollTop=e.top),e.left!=null&&(i.scrollLeft=e.left))}measureScrollOffset(e){let i="left",r="right",o=this.elementRef.nativeElement;if(e=="top")return o.scrollTop;if(e=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let a=this.dir&&this.dir.value=="rtl";return e=="start"?e=a?r:i:e=="end"&&(e=a?i:r),a&&Ac()==ir.INVERTED?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&Ac()==ir.NEGATED?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),mU=20,jr=(()=>{class n{_platform=f(Fe);_listeners;_viewportSize;_change=new P;_document=f(ee);constructor(){let e=f($),i=f(Nt).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),a=-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,s=-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:a,left:s}}change(e=mU){return e>0?this._change.pipe(dm(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Br=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({})}return n})(),GC=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[Oe,Br,Oe,Br]})}return n})();var fu=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},or=class extends fu{component;viewContainerRef;injector;projectableNodes;constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.projectableNodes=r}},ar=class extends fu{templateRef;viewContainerRef;context;injector;constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},WC=class extends fu{element;constructor(t){super(),this.element=t instanceof G?t.nativeElement:t}},ma=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof or)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof ar)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof WC)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},sg=class extends ma{outletElement;_appRef;_defaultInjector;constructor(t,e,i){super(),this.outletElement=t,this._appRef=e,this._defaultInjector=i}attachComponentPortal(t){let e;if(t.viewContainerRef){let i=t.injector||t.viewContainerRef.injector,r=i.get(Mr,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let i=this._appRef,r=t.injector||this._defaultInjector||ae.NULL,o=r.get(vt,i.injector);e=jp(t.component,{elementInjector:r,environmentInjector:o,projectableNodes:t.projectableNodes||void 0}),i.attachView(e.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);r!==-1&&e.remove(r)}),this._attachedPortal=t,i}attachDomPortal=t=>{let e=t.element;e.parentNode;let i=this.outletElement.ownerDocument.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var zr=(()=>{class n extends ma{_moduleRef=f(Mr,{optional:!0});_document=f(ee);_viewContainerRef=f(en);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new U;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let i=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=i.createComponent(e.component,{index:i.length,injector:e.injector||i.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=e=>{let i=e.element;i.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ye]})}return n})(),sr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({})}return n})();var iT=Rf();function Yc(n){return new cg(n.get(jr),n.get(ee))}var cg=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Gt(-this._previousScrollPosition.left),t.style.top=Gt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,i=t.style,r=e.style,o=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),iT&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),iT&&(i.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};function dT(n,t){return new lg(n.get(Co),n.get($),n.get(jr),t)}var lg=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(be(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var gu=class{enable(){}disable(){}attach(){}};function YC(n,t){return t.some(e=>{let i=n.bottom<e.top,r=n.top>e.bottom,o=n.right<e.left,a=n.left>e.right;return i||r||o||a})}function rT(n,t){return t.some(e=>{let i=n.top<e.top,r=n.bottom>e.bottom,o=n.left<e.left,a=n.right>e.right;return i||r||o||a})}function Ms(n,t){return new dg(n.get(Co),n.get(jr),n.get($),t)}var dg=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();YC(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},uT=(()=>{class n{_injector=f(ae);constructor(){}noop=()=>new gu;close=e=>dT(this._injector,e);block=()=>Yc(this._injector);reposition=e=>Ms(this._injector,e);static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wo=class{positionStrategy;scrollStrategy=new gu;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;usePopover;constructor(t){if(t){let e=Object.keys(t);for(let i of e)t[i]!==void 0&&(this[i]=t[i])}}};var ug=class{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var mT=(()=>{class n{_attachedOverlays=[];_document=f(ee);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pT=(()=>{class n extends mT{_ngZone=f($);_renderer=f(Nt).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hT=(()=>{class n extends mT{_platform=f(Fe);_ngZone=f($);_renderer=f(Nt).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let i=this._document.body,r={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(i,"pointerdown",this._pointerDownListener,r),o.listen(i,"click",this._clickListener,r),o.listen(i,"auxclick",this._clickListener,r),o.listen(i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=Mn(e)};_clickListener=e=>{let i=Mn(e),r=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let a=o.length-1;a>-1;a--){let s=o[a];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(oT(s.overlayElement,i)||oT(s.overlayElement,r))break;let d=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(e)):d.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oT(n,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var fT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-popover{background:none;border:none;padding:0;outline:0;overflow:visible;position:fixed;pointer-events:none;white-space:normal;color:inherit;text-decoration:none;width:100%;height:100%;inset:auto;top:0;left:0}.cdk-overlay-popover::backdrop{display:none}.cdk-overlay-popover .cdk-overlay-backdrop{position:fixed;z-index:auto}
`],encapsulation:2,changeDetection:0})}return n})(),hg=(()=>{class n{_platform=f(Fe);_containerElement;_document=f(ee);_styleLoader=f(Ot);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||CC()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(e),CC()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(fT)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),KC=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,e,i,r){this._renderer=e,this._ngZone=i,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}};function QC(n){return n&&n.nodeType===1}var Gc=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new P;_attachments=new P;_detachments=new P;_positionStrategy;_scrollStrategy;_locationChanges=je.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_disposed;_previousHostParent;_keydownEvents=new P;_outsidePointerEvents=new P;_afterNextRenderRef;constructor(t,e,i,r,o,a,s,d,p,h=!1,_,b){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=d,this._outsideClickDispatcher=p,this._animationsDisabled=h,this._injector=_,this._renderer=b,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){if(this._disposed)return null;this._attachHost();let e=this._portalOutlet.attach(t);return this._positionStrategy?.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=$t(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){if(this._disposed)return;let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent(),this._disposed=!0}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=R(R({},this._config),t),this._updateElementSize()}setDirection(t){this._config=xe(R({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=Gt(this._config.width),t.height=Gt(this._config.height),t.minWidth=Gt(this._config.minWidth),t.minHeight=Gt(this._config.minHeight),t.maxWidth=Gt(this._config.maxWidth),t.maxHeight=Gt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachHost(){if(!this._host.parentElement){let t=this._config.usePopover?this._positionStrategy?.getPopoverInsertionPoint?.():null;QC(t)?t.after(this._host):t?.type==="parent"?t.element.appendChild(this._host):this._previousHostParent?.appendChild(this._host)}if(this._config.usePopover)try{this._host.showPopover()}catch{}}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new KC(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._config.usePopover?this._host.prepend(this._backdropRef.element):this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){!this._config.usePopover&&this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,e,i){let r=Ic(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){let t=!1;try{this._detachContentAfterRenderRef=$t(()=>{t=!0,this._detachContent()},{injector:this._injector})}catch(e){if(t)throw e;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},aT="cdk-overlay-connected-position-bounding-box",hU=/([A-Za-z%]+)$/;function _u(n,t){return new mg(t,n.get(jr),n.get(ee),n.get(Fe),n.get(hg))}var mg=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new P;_resizeSubscription=je.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;_popoverLocation="global";positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(aT),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],a;for(let s of this._preferredPositions){let d=this._getOriginPoint(t,r,s),p=this._getOverlayPoint(d,e,s),h=this._getOverlayFit(p,e,i,s);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,d);return}if(this._canFitWithFlexibleDimensions(h,p,i)){o.push({position:s,origin:d,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(d,s)});continue}(!a||a.overlayFit.visibleArea<h.visibleArea)&&(a={overlayFit:h,overlayPoint:p,originPoint:d,position:s,overlayRect:e})}if(o.length){let s=null,d=-1;for(let p of o){let h=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);h>d&&(d=h,s=p)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ws(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(aT),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}withPopoverLocation(t){return this._popoverLocation=t,this}getPopoverInsertionPoint(){return this._popoverLocation==="global"?null:this._popoverLocation!=="inline"?this._popoverLocation:this._origin instanceof G?this._origin.nativeElement:QC(this._origin)?this._origin:null}_getOriginPoint(t,e,i){let r;if(i.originX=="center")r=t.left+t.width/2;else{let a=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;r=i.originX=="start"?a:s}e.left<0&&(r-=e.left);let o;return i.originY=="center"?o=t.top+t.height/2:o=i.originY=="top"?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r;i.overlayX=="center"?r=-e.width/2:i.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return i.overlayY=="center"?o=-e.height/2:o=i.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){let o=cT(e),{x:a,y:s}=t,d=this._getOffset(r,"x"),p=this._getOffset(r,"y");d&&(a+=d),p&&(s+=p);let h=0-a,_=a+o.width-i.width,b=0-s,y=s+o.height-i.height,M=this._subtractOverflows(o.width,h,_),A=this._subtractOverflows(o.height,b,y),B=M*A;return{visibleArea:B,isCompletelyWithinViewport:o.width*o.height===B,fitsInViewportVertically:A===o.height,fitsInViewportHorizontally:M==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){let r=i.bottom-e.y,o=i.right-e.x,a=sT(this._overlayRef.getConfig().minHeight),s=sT(this._overlayRef.getConfig().minWidth),d=t.fitsInViewportVertically||a!=null&&a<=r,p=t.fitsInViewportHorizontally||s!=null&&s<=o;return d&&p}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=cT(e),o=this._viewportRect,a=Math.max(t.x+r.width-o.width,0),s=Math.max(t.y+r.height-o.height,0),d=Math.max(o.top-i.top-t.y,0),p=Math.max(o.left-i.left-t.x,0),h=0,_=0;return r.width<=o.width?h=p||-a:h=t.x<this._getViewportMarginStart()?o.left-i.left-t.x:0,r.height<=o.height?_=d||-s:_=t.y<this._getViewportMarginTop()?o.top-i.top-t.y:0,this._previousPushAmount={x:h,y:_},{x:t.x+h,y:t.y+_}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!fU(this._lastScrollVisibility,i)){let r=new ug(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){let i=this._viewportRect,r=this._isRtl(),o,a,s;if(e.overlayY==="top")a=t.y,o=i.height-a+this._getViewportMarginBottom();else if(e.overlayY==="bottom")s=i.height-t.y+this._getViewportMarginTop()+this._getViewportMarginBottom(),o=i.height-s+this._getViewportMarginTop();else{let y=Math.min(i.bottom-t.y+i.top,t.y),M=this._lastBoundingBoxSize.height;o=y*2,a=t.y-y,o>M&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-M/2)}let d=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,p=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,h,_,b;if(p)b=i.width-t.x+this._getViewportMarginStart()+this._getViewportMarginEnd(),h=t.x-this._getViewportMarginStart();else if(d)_=t.x,h=i.right-t.x-this._getViewportMarginEnd();else{let y=Math.min(i.right-t.x+i.left,t.x),M=this._lastBoundingBoxSize.width;h=y*2,_=t.x-y,h>M&&!this._isInitialRender&&!this._growAfterOpen&&(_=t.x-M/2)}return{top:a,left:_,bottom:s,right:b,width:h,height:o}}_setBoundingBoxStyles(t,e){let i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="auto",r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.width=Gt(i.width),r.height=Gt(i.height),r.top=Gt(i.top)||"auto",r.bottom=Gt(i.bottom)||"auto",r.left=Gt(i.left)||"auto",r.right=Gt(i.right)||"auto",e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Gt(o)),a&&(r.maxWidth=Gt(a))}this._lastBoundingBoxSize=i,ws(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ws(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ws(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){let h=this._viewportRuler.getViewportScrollPosition();ws(i,this._getExactOverlayY(e,t,h)),ws(i,this._getExactOverlayX(e,t,h))}else i.position="static";let s="",d=this._getOffset(e,"x"),p=this._getOffset(e,"y");d&&(s+=`translateX(${d}px) `),p&&(s+=`translateY(${p}px)`),i.transform=s.trim(),a.maxHeight&&(r?i.maxHeight=Gt(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=Gt(a.maxWidth):o&&(i.maxWidth="")),ws(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),t.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;r.bottom=`${a-(o.y+this._overlayRect.height)}px`}else r.top=Gt(o.y);return r}_getExactOverlayX(t,e,i){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let a;if(this._isRtl()?a=t.overlayX==="end"?"left":"right":a=t.overlayX==="end"?"right":"left",a==="right"){let s=this._document.documentElement.clientWidth;r.right=`${s-(o.x+this._overlayRect.width)}px`}else r.left=Gt(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:rT(t,i),isOriginOutsideView:YC(t,i),isOverlayClipped:rT(e,i),isOverlayOutsideView:YC(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._getViewportMarginTop(),left:i.left+this._getViewportMarginStart(),right:i.left+t-this._getViewportMarginEnd(),bottom:i.top+e-this._getViewportMarginBottom(),width:t-this._getViewportMarginStart()-this._getViewportMarginEnd(),height:e-this._getViewportMarginTop()-this._getViewportMarginBottom()}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ic(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getViewportMarginStart(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.start??0}_getViewportMarginEnd(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.end??0}_getViewportMarginTop(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.top??0}_getViewportMarginBottom(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.bottom??0}_getOriginRect(){let t=this._origin;if(t instanceof G)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}};function ws(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function sT(n){if(typeof n!="number"&&n!=null){let[t,e]=n.split(hU);return!e||e==="px"?parseFloat(t):null}return n||null}function cT(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function fU(n,t){return n===t?!0:n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}var lT="cdk-global-overlay-wrapper";function pa(n){return new pg}var pg=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(lT),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:s}=i,d=(r==="100%"||r==="100vw")&&(!a||a==="100%"||a==="100vw"),p=(o==="100%"||o==="100vh")&&(!s||s==="100%"||s==="100vh"),h=this._xPosition,_=this._xOffset,b=this._overlayRef.getConfig().direction==="rtl",y="",M="",A="";d?A="flex-start":h==="center"?(A="center",b?M=_:y=_):b?h==="left"||h==="end"?(A="flex-end",y=_):(h==="right"||h==="start")&&(A="flex-start",M=_):h==="left"||h==="start"?(A="flex-start",y=_):(h==="right"||h==="end")&&(A="flex-end",M=_),t.position=this._cssPosition,t.marginLeft=d?"0":y,t.marginTop=p?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=d?"0":M,e.justifyContent=A,e.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(lT),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},gT=(()=>{class n{_injector=f(ae);constructor(){}global(){return pa()}flexibleConnectedTo(e){return _u(this._injector,e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZC=new I("OVERLAY_DEFAULT_CONFIG");function Eo(n,t){n.get(Ot).load(fT);let e=n.get(hg),i=n.get(ee),r=n.get(nt),o=n.get(li),a=n.get(on),s=n.get(rt,null,{optional:!0})||n.get(Nt).createRenderer(null,null),d=new wo(t),p=n.get(ZC,null,{optional:!0})?.usePopover??!0;d.direction=d.direction||a.value,"showPopover"in i.body?d.usePopover=t?.usePopover??p:d.usePopover=!1;let h=i.createElement("div"),_=i.createElement("div");h.id=r.getId("cdk-overlay-"),h.classList.add("cdk-overlay-pane"),_.appendChild(h),d.usePopover&&(_.setAttribute("popover","manual"),_.classList.add("cdk-overlay-popover"));let b=d.usePopover?d.positionStrategy?.getPopoverInsertionPoint?.():null;return e.getContainerElement().appendChild(_),QC(b)?b.after(_):b?.type==="parent"&&b.element.appendChild(_),new Gc(new sg(h,o,n),_,h,d,n.get($),n.get(pT),i,n.get(Qo),n.get(hT),t?.disableAnimations??n.get(Go,null,{optional:!0})==="NoopAnimations",n.get(vt),s)}var _T=(()=>{class n{scrollStrategies=f(uT);_positionBuilder=f(gT);_injector=f(ae);constructor(){}create(e){return Eo(this._injector,e)}position(){return this._positionBuilder}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gU=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],_U=new I("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=f(ae);return()=>Ms(n)}}),Wc=(()=>{class n{elementRef=f(G);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return n})(),vT=new I("cdk-connected-overlay-default-config"),fg=(()=>{class n{_dir=f(on,{optional:!0});_injector=f(ae);_overlayRef;_templatePortal;_backdropSubscription=je.EMPTY;_attachSubscription=je.EMPTY;_detachSubscription=je.EMPTY;_positionSubscription=je.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=f(_U);_ngZone=f($);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;disposeOnNavigation=!1;usePopover;matchWidth=!1;set _config(e){typeof e!="string"&&this._assignConfig(e)}backdropClick=new U;positionChange=new U;attach=new U;detach=new U;overlayKeydown=new U;overlayOutsideClick=new U;constructor(){let e=f(mn),i=f(en),r=f(vT,{optional:!0}),o=f(ZC,{optional:!0});this.usePopover=o?.usePopover===!1?null:"global",this._templatePortal=new ar(e,i),this.scrollStrategy=this._scrollStrategyFactory(),r&&this._assignConfig(r)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this._getWidth(),minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=gU);let e=this._overlayRef=Eo(this._injector,this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===27&&!this.disableClose&&!jt(i)&&(i.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{let r=this._getOriginElement(),o=Mn(i);(!r||r!==o&&!r.contains(o))&&this.overlayOutsideClick.next(i)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new wo({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation,usePopover:!!this.usePopover});return(this.height||this.height===0)&&(i.height=this.height),(this.minWidth||this.minWidth===0)&&(i.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){let i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector).withPopoverLocation(this.usePopover===null?"global":this.usePopover)}_createPositionStrategy(){let e=_u(this._injector,this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof Wc?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Wc?this.origin.elementRef.nativeElement:this.origin instanceof G?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_getWidth(){return this.width?this.width:this.matchWidth?this._getOriginElement()?.getBoundingClientRect?.().width:void 0}attachOverlay(){this._overlayRef||this._createOverlay();let e=this._overlayRef;e.getConfig().hasBackdrop=this.hasBackdrop,e.updateSize({width:this._getWidth()}),e.hasAttached()||e.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=e.backdropClick().subscribe(i=>this.backdropClick.emit(i)):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(N_(()=>this.positionChange.observers.length>0)).subscribe(i=>{this._ngZone.run(()=>this.positionChange.emit(i)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}_assignConfig(e){this.origin=e.origin??this.origin,this.positions=e.positions??this.positions,this.positionStrategy=e.positionStrategy??this.positionStrategy,this.offsetX=e.offsetX??this.offsetX,this.offsetY=e.offsetY??this.offsetY,this.width=e.width??this.width,this.height=e.height??this.height,this.minWidth=e.minWidth??this.minWidth,this.minHeight=e.minHeight??this.minHeight,this.backdropClass=e.backdropClass??this.backdropClass,this.panelClass=e.panelClass??this.panelClass,this.viewportMargin=e.viewportMargin??this.viewportMargin,this.scrollStrategy=e.scrollStrategy??this.scrollStrategy,this.disableClose=e.disableClose??this.disableClose,this.transformOriginSelector=e.transformOriginSelector??this.transformOriginSelector,this.hasBackdrop=e.hasBackdrop??this.hasBackdrop,this.lockPosition=e.lockPosition??this.lockPosition,this.flexibleDimensions=e.flexibleDimensions??this.flexibleDimensions,this.growAfterOpen=e.growAfterOpen??this.growAfterOpen,this.push=e.push??this.push,this.disposeOnNavigation=e.disposeOnNavigation??this.disposeOnNavigation,this.usePopover=e.usePopover??this.usePopover,this.matchWidth=e.matchWidth??this.matchWidth}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",ce],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",ce],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",ce],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",ce],push:[2,"cdkConnectedOverlayPush","push",ce],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",ce],usePopover:[0,"cdkConnectedOverlayUsePopover","usePopover"],matchWidth:[2,"cdkConnectedOverlayMatchWidth","matchWidth",ce],_config:[0,"cdkConnectedOverlay","_config"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[it]})}return n})(),cr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({providers:[_T],imports:[Oe,sr,GC,GC]})}return n})();function vU(n,t){}var ha=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var JC=(()=>{class n extends ma{_elementRef=f(G);_focusTrapFactory=f(Qd);_config;_interactivityChecker=f(sa);_ngZone=f($);_focusMonitor=f(hi);_renderer=f(rt);_changeDetectorRef=f(fe);_injector=f(ae);_platform=f(Fe);_document=f(ee);_portalOutlet;_focusTrapped=new P;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=f(ha,{optional:!0})||new ha,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}attachDomPortal=e=>{this._portalOutlet.hasAttached();let i=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),a(),e.removeAttribute("tabindex")},o=this._renderer.listen(e,"blur",r),a=this._renderer.listen(e,"mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(e){this._isDestroyed||$t(()=>{let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,i=null;if(typeof e=="string"?i=this._document.querySelector(e):typeof e=="boolean"?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&typeof i.focus=="function"){let r=fs(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus?.(e)}_containsFocus(){let e=this._elementRef.nativeElement,i=fs();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=fs()))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(i&1&&tt(zr,7),i&2){let o;W(o=Y())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){i&2&&X("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[ye],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&x(0,vU,0,0,"ng-template",0)},dependencies:[zr],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return n})(),vu=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new P;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,e){this.overlayRef=t,this.config=e,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!jt(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=t.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(t,e){if(this._canClose(t)){let i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}_canClose(t){let e=this.config;return!!this.containerInstance&&(!e.closePredicate||e.closePredicate(t,e,this.componentInstance))}},yU=new I("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=f(ae);return()=>Yc(n)}}),bU=new I("DialogData"),CU=new I("DefaultDialogConfig");function xU(n){let t=$e(n),e=new U;return{valueSignal:t,get value(){return t()},change:e,ngOnDestroy(){e.complete()}}}var ex=(()=>{class n{_injector=f(ae);_defaultOptions=f(CU,{optional:!0});_parentDialog=f(n,{optional:!0,skipSelf:!0});_overlayContainer=f(hg);_idGenerator=f(nt);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new P;_afterOpenedAtThisLevel=new P;_ariaHiddenElements=new Map;_scrollStrategy=f(yU);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Li(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Mt(void 0)));constructor(){}open(e,i){let r=this._defaultOptions||new ha;i=R(R({},r),i),i.id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),a=Eo(this._injector,o),s=new vu(a,i),d=this._attachContainer(a,s,i);if(s.containerInstance=d,!this.openDialogs.length){let p=this._overlayContainer.getContainerElement();d._focusTrapped?d._focusTrapped.pipe(wt(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(p)}):this._hideNonDialogContentFromAssistiveTechnology(p)}return this._attachDialogContent(e,s,d,i),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){XC(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){XC(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),XC(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let i=new wo({positionStrategy:e.positionStrategy||pa().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation,disableAnimations:e.disableAnimations});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){let o=r.injector||r.viewContainerRef?.injector,a=[{provide:ha,useValue:r},{provide:vu,useValue:i},{provide:Gc,useValue:e}],s;r.container?typeof r.container=="function"?s=r.container:(s=r.container.type,a.push(...r.container.providers(r))):s=JC;let d=new or(s,r.viewContainerRef,ae.create({parent:o||this._injector,providers:a}));return e.attach(d).instance}_attachDialogContent(e,i,r,o){if(e instanceof mn){let a=this._createInjector(o,i,r,void 0),s={$implicit:o.data,dialogRef:i};o.templateContext&&(s=R(R({},s),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new ar(e,null,s,a))}else{let a=this._createInjector(o,i,r,this._injector),s=r.attachComponentPortal(new or(e,o.viewContainerRef,a));i.componentRef=s,i.componentInstance=s.instance}}_createInjector(e,i,r,o){let a=e.injector||e.viewContainerRef?.injector,s=[{provide:bU,useValue:e.data},{provide:vu,useValue:i}];return e.providers&&(typeof e.providers=="function"?s.push(...e.providers(i,e,r)):s.push(...e.providers)),e.direction&&(!a||!a.get(on,null,{optional:!0}))&&s.push({provide:on,useValue:xU(e.direction)}),ae.create({parent:a||o,providers:s})}_removeOpenDialog(e,i){let r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&!o.hasAttribute("popover")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function XC(n,t){let e=n.length;for(;e--;)t(n[e])}var yT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({providers:[ex],imports:[cr,sr,_s,sr]})}return n})();function wU(n,t){}var _g=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration},tx="mdc-dialog--open",bT="mdc-dialog--opening",CT="mdc-dialog--closing",MU=150,EU=75,SU=(()=>{class n extends JC{_animationStateChanged=new U;_animationsEnabled=!at();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?wT(this._config.enterAnimationDuration)??MU:0;_exitAnimationDuration=this._animationsEnabled?wT(this._config.exitAnimationDuration)??EU:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(xT,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(bT,tx)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(tx),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(tx),this._animationsEnabled?(this._hostElement.style.setProperty(xT,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(CT)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(bT,CT)}_waitForAnimationToComplete(e,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275cmp=D({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){i&2&&(In("id",r._config.id),X("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),T("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},features:[ye],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(l(0,"div",0)(1,"div",1),x(2,wU,0,0,"ng-template",2),c()())},dependencies:[zr],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return n})(),xT="--mat-dialog-transition-duration";function wT(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?An(n.substring(0,n.length-2)):n.endsWith("s")?An(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var gg=(function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n})(gg||{}),ni=class{_ref;_config;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new mr(1);_beforeClosed=new mr(1);_result;_closeFallbackTimeout;_state=gg.OPEN;_closeInteractionType;constructor(t,e,i){this._ref=t,this._config=e,this._containerInstance=i,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(be(r=>r.state==="opened"),wt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(be(r=>r.state==="closed"),wt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),dn(this.backdropClick(),this.keydownEvents().pipe(be(r=>r.keyCode===27&&!this.disableClose&&!jt(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),OU(this,r.type==="keydown"?"keyboard":"mouse"))})}close(t){let e=this._config.closePredicate;e&&!e(t,this._config,this.componentInstance)||(this._result=t,this._containerInstance._animationStateChanged.pipe(be(i=>i.state==="closing"),wt(1)).subscribe(i=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=gg.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=gg.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function OU(n,t,e){return n._closeInteractionType=t,n.close(e)}var lr=new I("MatMdcDialogData"),PU=new I("mat-mdc-dialog-default-options"),kU=new I("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=f(ae);return()=>Yc(n)}}),Ai=(()=>{class n{_defaultOptions=f(PU,{optional:!0});_scrollStrategy=f(kU);_parentDialog=f(n,{optional:!0,skipSelf:!0});_idGenerator=f(nt);_injector=f(ae);_dialog=f(ex);_animationsDisabled=at();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new P;_afterOpenedAtThisLevel=new P;dialogConfigClass=_g;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Li(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Mt(void 0)));constructor(){this._dialogRefConstructor=ni,this._dialogContainerType=SU,this._dialogDataToken=lr}open(e,i){let r;i=R(R({},this._defaultOptions||new _g),i),i.id=i.id||this._idGenerator.getId("mat-mdc-dialog-"),i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,xe(R({},i),{positionStrategy:pa(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||i.enterAnimationDuration?.toLocaleString()==="0"||i.exitAnimationDuration?.toString()==="0",container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:ha,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,s,d)=>(r=new this._dialogRefConstructor(a,i,d),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var MT=(()=>{class n{_dialogRef=f(ni,{optional:!0});_elementRef=f(G);_dialog=f(Ai);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=IU(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n})}return n})(),Ur=(()=>{class n extends MT{id=f(nt).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275dir=H({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){i&2&&In("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[ye]})}return n})(),Hr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[hb([xo])]})}return n})(),qr=(()=>{class n extends MT{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275dir=H({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,r){i&2&&T("mat-mdc-dialog-actions-align-start",r.align==="start")("mat-mdc-dialog-actions-align-center",r.align==="center")("mat-mdc-dialog-actions-align-end",r.align==="end")},inputs:{align:"align"},features:[ye]})}return n})();function IU(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}var Zt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({providers:[Ai],imports:[yT,cr,sr,Oe]})}return n})();var vg=class{static parseExpertiseGrants(t){let e=[];return t.forEach(i=>{let r=i.toLowerCase(),o=i.match(/(?:gain.*?in\s+)?([^.()]+?)\s*\(choose\s+one\)/i);if(o){let h=o[1],_=this.parseCommaSeparatedList(h);if(_.length>0){e.push({type:"choice",expertises:_,choiceCount:1});return}}let a=i.match(/choose\s+(one|two):\s*(.+)/i);if(a){let h=a[1].toLowerCase()==="one"?1:2,_=a[2],b=this.parseCommaSeparatedList(_);if(b.length>0){e.push({type:"choice",expertises:b,choiceCount:h});return}}let s=i.match(/gain\s+(.+?)\s+or\s+(.+?)\s+expertise/i);if(s){e.push({type:"choice",expertises:[s[1].trim(),s[2].trim()],choiceCount:1});return}let d=i.match(/gain\s+an?\s+(\w+)\s+expertise/i);if(d){let h=d[1].toLowerCase(),_=this.getExpertisesByCategory(h);if(_.length>0){e.push({type:"choice",expertises:_,choiceCount:1});return}}let p=i.match(/gain\s+([A-Z][a-zA-Z\s]+?)\s+expertise/i);if(p){let h=p[1].trim();if(!h.match(/^(a|an)\s/i)){e.push({type:"single",expertises:[h]});return}}}),e}static parseCommaSeparatedList(t){let e=t.replace(/\([^)]*\)/g,"").trim(),i=e.match(/^(.+?)\/(.+?)\s+(\S+)$/);if(i){let o=i[0].split(/\s+/)[0],a=i[3];return o.split("/").map(d=>`${d.trim()} ${a}`.split(" ").map(h=>h.charAt(0).toUpperCase()+h.slice(1).toLowerCase()).join(" "))}return e.split(/,|\s+and\s+|\s+or\s+/i).map(o=>o.trim()).filter(o=>o.length>0&&!o.match(/^(a|an|the)\s/i)).map(o=>o.split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" "))}static getExpertisesByCategory(t){switch(t){case"weapon":return["Light Weaponry","Heavy Weaponry","Special Weapons"];case"armor":return["Armor Proficiency"];case"utility":case"crafting":return["Armor Crafting","Weapon Crafting","Equipment Crafting","Fabrial Crafting"];case"cultural":return["Alethi","Azish","Herdazian","Iriali","Kharbranthian","Listener","Natan","Reshi","Shin","Thaylen","Unkalaki","Veden","Wayfarer"];default:return[]}}static grantsExpertise(t){return this.parseExpertiseGrants(t).length>0}static getAllExpertiseOptions(t){let e=new Set;return t.forEach(i=>{i.expertises.forEach(r=>e.add(r))}),Array.from(e)}};var So=(()=>{class n{get vertical(){return this._vertical}set vertical(e){this._vertical=ht(e)}_vertical=!1;get inset(){return this._inset}set inset(e){this._inset=ht(e)}_inset=!1;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,r){i&2&&(X("aria-orientation",r.vertical?"vertical":"horizontal"),T("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,r){},styles:[`.mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}
`],encapsulation:2,changeDetection:0})}return n})(),Ri=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[Oe]})}return n})();var yu=(()=>{class n{_listeners=[];notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fa=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new P;constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);let e=this.selected,i=new Set(t.map(o=>this._getConcreteValue(o)));t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(this._getConcreteValue(o,i))).forEach(o=>this._unmarkSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let i of e)if(this.compareWith(t,i))return i;return t}else return t}};var ET=(()=>{class n{_animationsDisabled=at();state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){i&2&&T("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationsDisabled)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-minimal-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-pseudo-checkbox-full-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-pseudo-checkbox-full-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-pseudo-checkbox-full-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-full-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-pseudo-checkbox-full-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-full-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return n})();var yg=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[Oe]})}return n})();var ST=["*"],OT=`.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mat-list-list-item-container-color, transparent);border-radius:var(--mat-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mat-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mat-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mat-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mat-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-leading-icon-size, 24px);height:var(--mat-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mat-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mat-list-list-item-leading-avatar-size, 40px);height:var(--mat-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mat-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mat-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mat-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mat-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mat-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-trailing-icon-size, 24px);height:var(--mat-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mat-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mat-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mat-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mat-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mat-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mat-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mat-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mat-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mat-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mat-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mat-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mat-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mat-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mat-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus-visible>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius: var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}
`,PT=["unscopedContent"],DU=["text"],TU=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],AU=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],RU=[[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["mat-divider"]],[["","matListItemAvatar",""],["","matListItemIcon",""]]],NU=["[matListItemTitle]","[matListItemLine]","*","mat-divider","[matListItemAvatar],[matListItemIcon]"];function FU(n,t){n&1&&J(0,4)}function LU(n,t){if(n&1&&(l(0,"div",11),q(1,"input",12),l(2,"div",13),Cn(),l(3,"svg",14),q(4,"path",15),c(),Uo(),q(5,"div",16),c()()),n&2){let e=v();T("mdc-checkbox--disabled",e.disabled),m(),g("checked",e.selected)("disabled",e.disabled)}}function VU(n,t){if(n&1&&(l(0,"div",17),q(1,"input",18),l(2,"div",19),q(3,"div",20)(4,"div",21),c()()),n&2){let e=v();T("mdc-radio--disabled",e.disabled),m(),g("checked",e.selected)("disabled",e.disabled)}}function BU(n,t){}function jU(n,t){if(n&1&&(l(0,"span",4),x(1,BU,0,0,"ng-template",6),c()),n&2){v();let e=St(3);m(),g("ngTemplateOutlet",e)}}function zU(n,t){}function UU(n,t){if(n&1&&(l(0,"span",5),x(1,zU,0,0,"ng-template",6),c()),n&2){v();let e=St(5);m(),g("ngTemplateOutlet",e)}}function HU(n,t){}function qU(n,t){if(n&1&&x(0,HU,0,0,"ng-template",6),n&2){v();let e=St(1);g("ngTemplateOutlet",e)}}function $U(n,t){}function GU(n,t){if(n&1&&(l(0,"span",9),x(1,$U,0,0,"ng-template",6),c()),n&2){v();let e=St(3);m(),g("ngTemplateOutlet",e)}}function WU(n,t){}function YU(n,t){if(n&1&&(l(0,"span",9),x(1,WU,0,0,"ng-template",6),c()),n&2){v();let e=St(5);m(),g("ngTemplateOutlet",e)}}function KU(n,t){}function QU(n,t){if(n&1&&x(0,KU,0,0,"ng-template",6),n&2){v();let e=St(1);g("ngTemplateOutlet",e)}}var kT=new I("ListOption"),bg=(()=>{class n{_elementRef=f(G);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return n})(),IT=(()=>{class n{_elementRef=f(G);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return n})(),ZU=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return n})(),DT=(()=>{class n{_listOption=f(kT,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,hostVars:4,hostBindings:function(i,r){i&2&&T("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())}})}return n})(),XU=(()=>{class n extends DT{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275dir=H({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[ye]})}return n})(),rx=(()=>{class n extends DT{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275dir=H({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[ye]})}return n})(),JU=new I("MAT_LIST_CONFIG"),bu=(()=>{class n{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ht(e)}_disableRipple=!1;get disabled(){return this._disabled()}set disabled(e){this._disabled.set(ht(e))}_disabled=$e(!1);_defaultOptions=f(JU,{optional:!0});static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,hostVars:1,hostBindings:function(i,r){i&2&&X("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return n})(),nx=(()=>{class n{_elementRef=f(G);_ngZone=f($);_listBase=f(bu,{optional:!0});_platform=f(Fe);_hostElement;_isButtonElement;_noopAnimations=at();_avatars;_icons;set lines(e){this._explicitLines=An(e,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=ht(e)}_disableRipple=!1;get disabled(){return this._disabled()||!!this._listBase?.disabled}set disabled(e){this._disabled.set(ht(e))}_disabled=$e(!1);_subscriptions=new je;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){f(Ot).load(rr);let e=f(bs,{optional:!0});this.rippleConfig=e||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new ys(this,this._ngZone,this._hostElement,this._platform,f(ae)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(dn(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",i===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",i===3),this._hasUnscopedTextContent){let o=this._titles.length===0&&i===1;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,contentQueries:function(i,r,o){if(i&1&&Lt(o,XU,4)(o,rx,4),i&2){let a;W(a=Y())&&(r._avatars=a),W(a=Y())&&(r._icons=a)}},hostVars:4,hostBindings:function(i,r){i&2&&(X("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),T("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return n})();var TT=(()=>{class n extends nx{_lines;_titles;_meta;_unscopedContent;_itemText;get activated(){return this._activated}set activated(e){this._activated=ht(e)}_activated=!1;_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275cmp=D({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,r,o){if(i&1&&Lt(o,IT,5)(o,bg,5)(o,ZU,5),i&2){let a;W(a=Y())&&(r._lines=a),W(a=Y())&&(r._titles=a),W(a=Y())&&(r._meta=a)}},viewQuery:function(i,r){if(i&1&&tt(PT,5)(DU,5),i&2){let o;W(o=Y())&&(r._unscopedContent=o.first),W(o=Y())&&(r._itemText=o.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(i,r){i&2&&(X("aria-current",r._getAriaCurrent()),T("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",r._avatars.length!==0)("mdc-list-item--with-leading-icon",r._icons.length!==0)("mdc-list-item--with-trailing-meta",r._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",r._hasBothLeadingAndTrailing())("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[ye],ngContentSelectors:AU,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-focus-indicator"]],template:function(i,r){if(i&1){let o=F();Ue(TU),J(0),l(1,"span",1),J(2,1),J(3,2),l(4,"span",2,0),C("cdkObserveContent",function(){return E(o),S(r._updateItemLines(!0))}),J(6,3),c()(),J(7,4),J(8,5),q(9,"div",3)}},dependencies:[pC],encapsulation:2,changeDetection:0})}return n})(),AT=new I("SelectionList"),ox=(()=>{class n extends nx{_selectionList=f(AT);_changeDetectorRef=f(fe);_lines;_titles;_unscopedContent;selectedChange=new U;togglePosition="after";get checkboxPosition(){return this.togglePosition}set checkboxPosition(e){this.togglePosition=e}get color(){return this._color||this._selectionList.color}set color(e){this._color=e}_color;get value(){return this._value}set value(e){this.selected&&e!==this.value&&this._inputsInitialized&&(this.selected=!1),this._value=e}_value;get selected(){return this._selectionList.selectedOptions.isSelected(this)}set selected(e){let i=ht(e);i!==this._selected&&(this._setSelected(i),(i||this._selectionList.multiple)&&this._selectionList._reportValueChange())}_selected=!1;_inputsInitialized=!1;ngOnInit(){let e=this._selectionList;e._value&&e._value.some(r=>e.compareWith(this._value,r))&&this._setSelected(!0);let i=this._selected;Promise.resolve().then(()=>{(this._selected||i)&&(this.selected=!0,this._changeDetectorRef.markForCheck())}),this._inputsInitialized=!0}ngOnDestroy(){super.ngOnDestroy(),this.selected&&Promise.resolve().then(()=>{this.selected=!1})}toggle(){this.selected=!this.selected}focus(){this._hostElement.focus()}getLabel(){return(this._titles?.get(0)?._elementRef.nativeElement||this._unscopedContent?.nativeElement)?.textContent||""}_hasCheckboxAt(e){return this._selectionList.multiple&&this._getTogglePosition()===e}_hasRadioAt(e){return!this._selectionList.multiple&&this._getTogglePosition()===e&&!this._selectionList.hideSingleSelectionIndicator}_hasIconsOrAvatarsAt(e){return this._hasProjected("icons",e)||this._hasProjected("avatars",e)}_hasProjected(e,i){return this._getTogglePosition()!==i&&(e==="avatars"?this._avatars.length!==0:this._icons.length!==0)}_handleBlur(){this._selectionList._onTouched()}_getTogglePosition(){return this.togglePosition||"after"}_setSelected(e){return e===this._selected?!1:(this._selected=e,e?this._selectionList.selectedOptions.select(this):this._selectionList.selectedOptions.deselect(this),this.selectedChange.emit(e),this._changeDetectorRef.markForCheck(),!0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_toggleOnInteraction(){this.disabled||(this._selectionList.multiple?(this.selected=!this.selected,this._selectionList._emitChangeEvent([this])):this.selected||(this.selected=!0,this._selectionList._emitChangeEvent([this])))}_setTabindex(e){this._hostElement.setAttribute("tabindex",e+"")}_hasBothLeadingAndTrailing(){let e=this._hasProjected("avatars","before")||this._hasProjected("icons","before")||this._hasCheckboxAt("before")||this._hasRadioAt("before"),i=this._hasProjected("icons","after")||this._hasProjected("avatars","after")||this._hasCheckboxAt("after")||this._hasRadioAt("after");return e&&i}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275cmp=D({type:n,selectors:[["mat-list-option"]],contentQueries:function(i,r,o){if(i&1&&Lt(o,IT,5)(o,bg,5),i&2){let a;W(a=Y())&&(r._lines=a),W(a=Y())&&(r._titles=a)}},viewQuery:function(i,r){if(i&1&&tt(PT,5),i&2){let o;W(o=Y())&&(r._unscopedContent=o.first)}},hostAttrs:["role","option",1,"mat-mdc-list-item","mat-mdc-list-option","mdc-list-item"],hostVars:27,hostBindings:function(i,r){i&1&&C("blur",function(){return r._handleBlur()})("click",function(){return r._toggleOnInteraction()}),i&2&&(X("aria-selected",r.selected),T("mdc-list-item--selected",r.selected&&!r._selectionList.multiple&&r._selectionList.hideSingleSelectionIndicator)("mdc-list-item--with-leading-avatar",r._hasProjected("avatars","before"))("mdc-list-item--with-leading-icon",r._hasProjected("icons","before"))("mdc-list-item--with-trailing-icon",r._hasProjected("icons","after"))("mat-mdc-list-option-with-trailing-avatar",r._hasProjected("avatars","after"))("mdc-list-item--with-leading-checkbox",r._hasCheckboxAt("before"))("mdc-list-item--with-trailing-checkbox",r._hasCheckboxAt("after"))("mdc-list-item--with-leading-radio",r._hasRadioAt("before"))("mdc-list-item--with-trailing-radio",r._hasRadioAt("after"))("mat-mdc-list-item-both-leading-and-trailing",r._hasBothLeadingAndTrailing())("mat-accent",r.color!=="primary"&&r.color!=="warn")("mat-warn",r.color==="warn")("_mat-animation-noopable",r._noopAnimations))},inputs:{togglePosition:"togglePosition",checkboxPosition:"checkboxPosition",color:"color",value:"value",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[De([{provide:nx,useExisting:n},{provide:kT,useExisting:n}]),ye],ngContentSelectors:NU,decls:20,vars:4,consts:[["icons",""],["checkbox",""],["radio",""],["unscopedContent",""],[1,"mdc-list-item__start","mat-mdc-list-option-checkbox-before"],[1,"mdc-list-item__start","mat-mdc-list-option-radio-before"],[3,"ngTemplateOutlet"],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mdc-list-item__end"],[1,"mat-focus-indicator"],[1,"mdc-checkbox"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","disabled"],[1,"mdc-checkbox__background"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],[1,"mdc-radio"],["type","radio",1,"mdc-radio__native-control",3,"checked","disabled"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"]],template:function(i,r){if(i&1){let o=F();Ue(RU),x(0,FU,1,0,"ng-template",null,0,di)(2,LU,6,4,"ng-template",null,1,di)(4,VU,5,4,"ng-template",null,2,di),Ee(6,jU,2,1,"span",4)(7,UU,2,1,"span",5),Ee(8,qU,1,1,null,6),l(9,"span",7),J(10),J(11,1),l(12,"span",8,3),C("cdkObserveContent",function(){return E(o),S(r._updateItemLines(!0))}),J(14,2),c()(),Ee(15,GU,2,1,"span",9)(16,YU,2,1,"span",9),Ee(17,QU,1,1,null,6),J(18,3),q(19,"div",10)}i&2&&(m(6),Se(r._hasCheckboxAt("before")?6:r._hasRadioAt("before")?7:-1),m(2),Se(r._hasIconsOrAvatarsAt("before")?8:-1),m(7),Se(r._hasCheckboxAt("after")?15:r._hasRadioAt("after")?16:-1),m(2),Se(r._hasIconsOrAvatarsAt("after")?17:-1))},dependencies:[Za,pC],styles:[`.mat-mdc-list-option-with-trailing-avatar.mdc-list-item,[dir=rtl] .mat-mdc-list-option-with-trailing-avatar.mdc-list-item{padding-left:0;padding-right:0}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{margin-left:16px;margin-right:16px;width:40px;height:40px}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{border-radius:50%}.mat-mdc-list-option .mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1;width:var(--mat-checkbox-state-layer-size, 40px);height:var(--mat-checkbox-state-layer-size, 40px);top:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2);right:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2);left:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2)}.mat-mdc-list-option .mdc-checkbox--disabled{cursor:default;pointer-events:none}.mat-mdc-list-option .mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mat-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2)}.mat-mdc-list-option .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mat-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__background{border-color:GrayText}}.mat-mdc-list-option .mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mat-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{border-color:GrayText}}.mat-mdc-list-option .mdc-checkbox:hover>.mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:hover>.mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mat-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mat-mdc-list-option .mdc-checkbox:hover>.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:hover>.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-list-option .mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mat-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-list-option .mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mat-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:GrayText}}.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mat-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mat-mdc-list-option .mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mat-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox__checkmark{color:CanvasText}}.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__checkmark,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mat-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__checkmark,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:GrayText}}.mat-mdc-list-option .mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mat-mdc-list-option .mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mat-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox__mixedmark{margin:0 1px}}.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mat-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:GrayText}}.mat-mdc-list-option .mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mat-mdc-list-option .mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-list-option .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-list-option .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-list-option .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px);top:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-list-option .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0);border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),background-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}@media(forced-colors: active){.mat-mdc-list-option .mdc-radio__inner-circle{background-color:CanvasText !important}}.mat-mdc-list-option .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px)}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface, currentColor));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-list-option .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-list-option .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-list-option._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-list-option._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark{transition:none !important;animation:none !important}.mat-mdc-list-option .mdc-checkbox__native-control,.mat-mdc-list-option .mdc-radio__native-control{display:none}@media(forced-colors: active){.mat-mdc-list-option.mdc-list-item--selected::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.mat-mdc-list-option.mdc-list-item--selected [dir=rtl]::after{right:auto;left:16px}}
`],encapsulation:2,changeDetection:0})}return n})();var RT=(()=>{class n extends bu{_isNonInteractive=!1;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275cmp=D({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[De([{provide:bu,useExisting:n}]),ye],ngContentSelectors:ST,decls:1,vars:0,template:function(i,r){i&1&&(Ue(),J(0))},styles:[OT],encapsulation:2,changeDetection:0})}return n})(),eH={provide:au,useExisting:yn(()=>ax),multi:!0},ix=class{source;options;constructor(t,e){this.source=t,this.options=e}},ax=(()=>{class n extends bu{_element=f(G);_ngZone=f($);_renderer=f(rt);_initialized=!1;_keyManager;_listenerCleanups;_destroyed=new P;_isDestroyed;_onChange=e=>{};_items;selectionChange=new U;color="accent";compareWith=(e,i)=>e===i;get multiple(){return this._multiple}set multiple(e){let i=ht(e);i!==this._multiple&&(this._multiple=i,this.selectedOptions=new fa(this._multiple,this.selectedOptions.selected))}_multiple=!0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=ht(e)}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;selectedOptions=new fa(this._multiple);_value;_onTouched=()=>{};_changeDetectorRef=f(fe);constructor(){super(),this._isNonInteractive=!1}ngAfterViewInit(){this._initialized=!0,this._setupRovingTabindex(),this._ngZone.runOutsideAngular(()=>{this._listenerCleanups=[this._renderer.listen(this._element.nativeElement,"focusin",this._handleFocusin),this._renderer.listen(this._element.nativeElement,"focusout",this._handleFocusout)]}),this._value&&this._setOptionsFromValues(this._value),this._watchForSelectionChange()}ngOnChanges(e){let i=e.disabled,r=e.disableRipple,o=e.hideSingleSelectionIndicator;(r&&!r.firstChange||i&&!i.firstChange||o&&!o.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._keyManager?.destroy(),this._listenerCleanups?.forEach(e=>e()),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(e){this._element.nativeElement.focus(e)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_reportValueChange(){if(this.options&&!this._isDestroyed){let e=this._getSelectedOptionValues();this._onChange(e),this._value=e}}_emitChangeEvent(e){this.selectionChange.emit(new ix(this,e))}writeValue(e){this._value=e,this.options&&this._setOptionsFromValues(e||[])}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this._markOptionsForCheck()}get disabled(){return this._selectionListDisabled()}set disabled(e){this._selectionListDisabled.set(ht(e)),this._selectionListDisabled()&&this._keyManager?.setActiveItem(-1)}_selectionListDisabled=$e(!1);registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}_watchForSelectionChange(){this.selectedOptions.changed.pipe(L(this._destroyed)).subscribe(e=>{for(let i of e.added)i.selected=!0;for(let i of e.removed)i.selected=!1;this._containsFocus()||this._resetActiveOption()})}_setOptionsFromValues(e){this.options.forEach(i=>i._setSelected(!1)),e.forEach(i=>{let r=this.options.find(o=>o.selected?!1:this.compareWith(o.value,i));r&&r._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(e=>e.selected).map(e=>e.value)}_markOptionsForCheck(){this.options&&this.options.forEach(e=>e._markForCheck())}_setAllOptionsSelected(e,i){let r=[];return this.options.forEach(o=>{(!i||!o.disabled)&&o._setSelected(e)&&r.push(o)}),r.length&&this._reportValueChange(),r}get options(){return this._items}_handleKeydown(e){let i=this._keyManager.activeItem;if((e.keyCode===13||e.keyCode===32)&&!this._keyManager.isTyping()&&i&&!i.disabled)e.preventDefault(),i._toggleOnInteraction();else if(e.keyCode===65&&this.multiple&&!this._keyManager.isTyping()&&jt(e,"ctrlKey","metaKey")){let r=this.options.some(o=>!o.disabled&&!o.selected);e.preventDefault(),this._emitChangeEvent(this._setAllOptionsSelected(r,!0))}else this._keyManager.onKeydown(e)}_handleFocusout=()=>{setTimeout(()=>{this._containsFocus()||this._resetActiveOption()})};_handleFocusin=e=>{if(this.disabled)return;let i=this._items.toArray().findIndex(r=>r._elementRef.nativeElement.contains(e.target));i>-1?this._setActiveOption(i):this._resetActiveOption()};_setupRovingTabindex(){this._keyManager=new vo(this._items).withHomeAndEnd().withTypeAhead().withWrap().skipPredicate(()=>this.disabled),this._resetActiveOption(),this._keyManager.change.subscribe(e=>this._setActiveOption(e)),this._items.changes.pipe(L(this._destroyed)).subscribe(()=>{let e=this._keyManager.activeItem;(!e||this._items.toArray().indexOf(e)===-1)&&this._resetActiveOption()})}_setActiveOption(e){this._items.forEach((i,r)=>i._setTabindex(r===e?0:-1)),this._keyManager.updateActiveItem(e)}_resetActiveOption(){if(this.disabled){this._setActiveOption(-1);return}let e=this._items.find(i=>i.selected&&!i.disabled)||this._items.first;this._setActiveOption(e?this._items.toArray().indexOf(e):-1)}_containsFocus(){let e=fs();return e&&this._element.nativeElement.contains(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-selection-list"]],contentQueries:function(i,r,o){if(i&1&&Lt(o,ox,5),i&2){let a;W(a=Y())&&(r._items=a)}},hostAttrs:["role","listbox",1,"mat-mdc-selection-list","mat-mdc-list-base","mdc-list"],hostVars:1,hostBindings:function(i,r){i&1&&C("keydown",function(a){return r._handleKeydown(a)}),i&2&&X("aria-multiselectable",r.multiple)},inputs:{color:"color",compareWith:"compareWith",multiple:"multiple",hideSingleSelectionIndicator:"hideSingleSelectionIndicator",disabled:"disabled"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[De([eH,{provide:bu,useExisting:n},{provide:AT,useExisting:n}]),ye,it],ngContentSelectors:ST,decls:1,vars:0,template:function(i,r){i&1&&(Ue(),J(0))},styles:[OT],encapsulation:2,changeDetection:0})}return n})(),Gr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[Dc,ca,yg,Oe,Ri]})}return n})();function tH(n,t){if(n&1&&(l(0,"span"),u(1),c()),n&2){let e=v();m(),w(e.data.description)}}function nH(n,t){if(n&1&&(l(0,"span"),u(1),c()),n&2){let e=v();m(),ft(" Choose ",e.data.choiceCount===1?"one":e.data.choiceCount," expertise",e.data.choiceCount>1?"s":""," from the options below: ")}}function iH(n,t){if(n&1){let e=F();l(0,"mat-chip",12),u(1),l(2,"button",13),C("click",function(){let r=E(e).$implicit,o=v();return S(o.toggleExpertise(r))}),l(3,"mat-icon"),u(4,"cancel"),c()()()}if(n&2){let e=t.$implicit;m(),O(" ",e," ")}}function rH(n,t){n&1&&(l(0,"mat-icon",19),u(1,"check_circle"),c())}function oH(n,t){n&1&&(l(0,"mat-icon",20),u(1,"radio_button_unchecked"),c())}function aH(n,t){if(n&1){let e=F();l(0,"mat-list-option",14),C("click",function(){let r=E(e).$implicit,o=v();return S(o.toggleExpertise(r))}),l(1,"div",15),x(2,rH,2,0,"mat-icon",16)(3,oH,2,0,"mat-icon",17),l(4,"span",18),u(5),c()()()}if(n&2){let e=t.$implicit,i=v();g("selected",i.isSelected(e))("disabled",!i.canSelect(e)),m(2),g("ngIf",i.isSelected(e)),m(),g("ngIf",!i.isSelected(e)),m(2),w(e)}}var Cg=class n{constructor(t,e){this.dialogRef=t;this.data=e}selectedExpertises=new Set;Array=Array;toggleExpertise(t){this.selectedExpertises.has(t)?this.selectedExpertises.delete(t):(this.data.choiceCount===1&&this.selectedExpertises.clear(),this.selectedExpertises.size<this.data.choiceCount&&this.selectedExpertises.add(t))}isSelected(t){return this.selectedExpertises.has(t)}canSelect(t){return this.isSelected(t)||this.selectedExpertises.size<this.data.choiceCount}canConfirm(){return this.selectedExpertises.size===this.data.choiceCount}onConfirm(){this.dialogRef.close({selected:Array.from(this.selectedExpertises)})}onCancel(){this.dialogRef.close(null)}static \u0275fac=function(e){return new(e||n)(k(ni),k(lr))};static \u0275cmp=D({type:n,selectors:[["app-expertise-choice-dialog"]],decls:21,vars:8,consts:[[1,"expertise-choice-dialog"],["mat-dialog-title",""],[1,"dialog-description"],[4,"ngIf"],[1,"selection-status"],["highlighted","",4,"ngFor","ngForOf"],[1,"selection-count"],[1,"expertise-options"],[3,"selected","disabled","click",4,"ngFor","ngForOf"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],["highlighted",""],["matChipRemove","",3,"click"],[3,"click","selected","disabled"],[1,"option-content"],["class","selected-icon",4,"ngIf"],["class","unselected-icon",4,"ngIf"],[1,"option-name"],[1,"selected-icon"],[1,"unselected-icon"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"h2",1)(2,"mat-icon"),u(3,"school"),c(),u(4),c(),l(5,"mat-dialog-content")(6,"p",2),x(7,tH,2,1,"span",3)(8,nH,2,2,"span",3),c(),l(9,"div",4)(10,"mat-chip-set"),x(11,iH,5,1,"mat-chip",5),c(),l(12,"p",6),u(13),c()(),l(14,"mat-selection-list",7),x(15,aH,6,5,"mat-list-option",8),c()(),l(16,"mat-dialog-actions",9)(17,"button",10),C("click",function(){return i.onCancel()}),u(18,"Cancel"),c(),l(19,"button",11),C("click",function(){return i.onConfirm()}),u(20," Confirm Selection "),c()()()),e&2&&(m(4),O(" ",i.data.talentName," - Choose Expertise "),m(3),g("ngIf",i.data.description),m(),g("ngIf",!i.data.description),m(3),g("ngForOf",i.Array.from(i.selectedExpertises)),m(2),ft(" Selected: ",i.selectedExpertises.size," / ",i.data.choiceCount," "),m(2),g("ngForOf",i.data.options),m(4),g("disabled",!i.canConfirm()))},dependencies:[Q,ue,ie,Zt,Ur,qr,Hr,ge,Pe,Gr,ax,ox,oe,le,Ut,sn,Jf,Ti],styles:[".expertise-choice-dialog[_ngcontent-%COMP%]{min-width:500px;max-width:600px}.expertise-choice-dialog[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:var(--gpColor-ChalkyBlue);margin:0}.expertise-choice-dialog[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}.expertise-choice-dialog[_ngcontent-%COMP%]   .dialog-description[_ngcontent-%COMP%]{margin:1rem 0;color:#e8e8e8;line-height:1.6}.expertise-choice-dialog[_ngcontent-%COMP%]   .selection-status[_ngcontent-%COMP%]{background:#4ab3e81a;border:1px solid rgba(74,179,232,.3);border-radius:8px;padding:1rem;margin-bottom:1.5rem}.expertise-choice-dialog[_ngcontent-%COMP%]   .selection-status[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]{margin-bottom:.5rem}.expertise-choice-dialog[_ngcontent-%COMP%]   .selection-status[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{background:var(--gpColor-ChalkyBlue);color:#fff}.expertise-choice-dialog[_ngcontent-%COMP%]   .selection-status[_ngcontent-%COMP%]   .selection-count[_ngcontent-%COMP%]{margin:.5rem 0 0;font-size:.9rem;color:var(--gpColor-ChalkyBlue);font-weight:600}.expertise-choice-dialog[_ngcontent-%COMP%]   .expertise-options[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;background:var(--gpSystemDarkGrey);border-radius:8px;padding:.5rem 0}.expertise-choice-dialog[_ngcontent-%COMP%]   .expertise-options[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]{height:auto;min-height:48px;padding:.75rem 1rem;border-bottom:1px solid rgba(255,255,255,.05)}.expertise-choice-dialog[_ngcontent-%COMP%]   .expertise-options[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]:last-child{border-bottom:none}.expertise-choice-dialog[_ngcontent-%COMP%]   .expertise-options[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]:hover:not(.mat-mdc-list-option-disabled){background:#4ab3e81a}.expertise-choice-dialog[_ngcontent-%COMP%]   .expertise-options[_ngcontent-%COMP%]   mat-list-option.mat-mdc-list-option-disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.expertise-choice-dialog[_ngcontent-%COMP%]   .expertise-options[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%}.expertise-choice-dialog[_ngcontent-%COMP%]   .expertise-options[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .selected-icon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue)}.expertise-choice-dialog[_ngcontent-%COMP%]   .expertise-options[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .unselected-icon[_ngcontent-%COMP%]{color:#ffffff4d}.expertise-choice-dialog[_ngcontent-%COMP%]   .expertise-options[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .option-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#fff}.expertise-choice-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{padding:1rem 0 0;margin-top:1rem;border-top:1px solid rgba(255,255,255,.1)}.expertise-choice-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.5rem}@media(max-width:600px){.expertise-choice-dialog[_ngcontent-%COMP%]{min-width:unset;width:100%}}"]})};var dr=Object.create(null);dr.open="0";dr.close="1";dr.ping="2";dr.pong="3";dr.message="4";dr.upgrade="5";dr.noop="6";var xu=Object.create(null);Object.keys(dr).forEach(n=>{xu[dr[n]]=n});var wu={type:"error",data:"parser error"};var LT=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",VT=typeof ArrayBuffer=="function",BT=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Mu=({type:n,data:t},e,i)=>LT&&t instanceof Blob?e?i(t):NT(t,i):VT&&(t instanceof ArrayBuffer||BT(t))?e?i(t):NT(new Blob([t]),i):i(dr[n]+(t||"")),NT=(n,t)=>{let e=new FileReader;return e.onload=function(){let i=e.result.split(",")[1];t("b"+(i||""))},e.readAsDataURL(n)};function FT(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}var sx;function jT(n,t){if(LT&&n.data instanceof Blob)return n.data.arrayBuffer().then(FT).then(t);if(VT&&(n.data instanceof ArrayBuffer||BT(n.data)))return t(FT(n.data));Mu(n,!1,e=>{sx||(sx=new TextEncoder),t(sx.encode(e))})}var zT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Eu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<zT.length;n++)Eu[zT.charCodeAt(n)]=n;var UT=n=>{let t=n.length*.75,e=n.length,i,r=0,o,a,s,d;n[n.length-1]==="="&&(t--,n[n.length-2]==="="&&t--);let p=new ArrayBuffer(t),h=new Uint8Array(p);for(i=0;i<e;i+=4)o=Eu[n.charCodeAt(i)],a=Eu[n.charCodeAt(i+1)],s=Eu[n.charCodeAt(i+2)],d=Eu[n.charCodeAt(i+3)],h[r++]=o<<2|a>>4,h[r++]=(a&15)<<4|s>>2,h[r++]=(s&3)<<6|d&63;return p};var sH=typeof ArrayBuffer=="function",Su=(n,t)=>{if(typeof n!="string")return{type:"message",data:HT(n,t)};let e=n.charAt(0);return e==="b"?{type:"message",data:cH(n.substring(1),t)}:xu[e]?n.length>1?{type:xu[e],data:n.substring(1)}:{type:xu[e]}:wu},cH=(n,t)=>{if(sH){let e=UT(n);return HT(e,t)}else return{base64:!0,data:n}},HT=(n,t)=>{switch(t){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}};var qT="",$T=(n,t)=>{let e=n.length,i=new Array(e),r=0;n.forEach((o,a)=>{Mu(o,!1,s=>{i[a]=s,++r===e&&t(i.join(qT))})})},GT=(n,t)=>{let e=n.split(qT),i=[];for(let r=0;r<e.length;r++){let o=Su(e[r],t);if(i.push(o),o.type==="error")break}return i};function WT(){return new TransformStream({transform(n,t){jT(n,e=>{let i=e.length,r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);let o=new DataView(r.buffer);o.setUint8(0,126),o.setUint16(1,i)}else{r=new Uint8Array(9);let o=new DataView(r.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(i))}n.data&&typeof n.data!="string"&&(r[0]|=128),t.enqueue(r),t.enqueue(e)})}})}var cx;function xg(n){return n.reduce((t,e)=>t+e.length,0)}function wg(n,t){if(n[0].length===t)return n.shift();let e=new Uint8Array(t),i=0;for(let r=0;r<t;r++)e[r]=n[0][i++],i===n[0].length&&(n.shift(),i=0);return n.length&&i<n[0].length&&(n[0]=n[0].slice(i)),e}function YT(n,t){cx||(cx=new TextDecoder);let e=[],i=0,r=-1,o=!1;return new TransformStream({transform(a,s){for(e.push(a);;){if(i===0){if(xg(e)<1)break;let d=wg(e,1);o=(d[0]&128)===128,r=d[0]&127,r<126?i=3:r===126?i=1:i=2}else if(i===1){if(xg(e)<2)break;let d=wg(e,2);r=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),i=3}else if(i===2){if(xg(e)<8)break;let d=wg(e,8),p=new DataView(d.buffer,d.byteOffset,d.length),h=p.getUint32(0);if(h>Math.pow(2,21)-1){s.enqueue(wu);break}r=h*Math.pow(2,32)+p.getUint32(4),i=3}else{if(xg(e)<r)break;let d=wg(e,r);s.enqueue(Su(o?d:cx.decode(d),t)),i=0}if(r===0||r>n){s.enqueue(wu);break}}}})}var lx=4;function xt(n){if(n)return lH(n)}function lH(n){for(var t in xt.prototype)n[t]=xt.prototype[t];return n}xt.prototype.on=xt.prototype.addEventListener=function(n,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(t),this};xt.prototype.once=function(n,t){function e(){this.off(n,e),t.apply(this,arguments)}return e.fn=t,this.on(n,e),this};xt.prototype.off=xt.prototype.removeListener=xt.prototype.removeAllListeners=xt.prototype.removeEventListener=function(n,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+n];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var i,r=0;r<e.length;r++)if(i=e[r],i===t||i.fn===t){e.splice(r,1);break}return e.length===0&&delete this._callbacks["$"+n],this};xt.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),e=this._callbacks["$"+n],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(e){e=e.slice(0);for(var i=0,r=e.length;i<r;++i)e[i].apply(this,t)}return this};xt.prototype.emitReserved=xt.prototype.emit;xt.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};xt.prototype.hasListeners=function(n){return!!this.listeners(n).length};var Oo=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,e)=>e(t,0),Hn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),KT="arraybuffer";function Mg(n,...t){return t.reduce((e,i)=>(n.hasOwnProperty(i)&&(e[i]=n[i]),e),{})}var dH=Hn.setTimeout,uH=Hn.clearTimeout;function Po(n,t){t.useNativeTimers?(n.setTimeoutFn=dH.bind(Hn),n.clearTimeoutFn=uH.bind(Hn)):(n.setTimeoutFn=Hn.setTimeout.bind(Hn),n.clearTimeoutFn=Hn.clearTimeout.bind(Hn))}var mH=1.33;function QT(n){return typeof n=="string"?pH(n):Math.ceil((n.byteLength||n.size)*mH)}function pH(n){let t=0,e=0;for(let i=0,r=n.length;i<r;i++)t=n.charCodeAt(i),t<128?e+=1:t<2048?e+=2:t<55296||t>=57344?e+=3:(i++,e+=4);return e}function Eg(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function ZT(n){let t="";for(let e in n)n.hasOwnProperty(e)&&(t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(n[e]));return t}function XT(n){let t={},e=n.split("&");for(let i=0,r=e.length;i<r;i++){let o=e[i].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}var Sg=class extends Error{constructor(t,e,i){super(t),this.description=e,this.context=i,this.type="TransportError"}},ko=class extends xt{constructor(t){super(),this.writable=!1,Po(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,e,i){return super.emitReserved("error",new Sg(t,e,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){let e=Su(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){let t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){let e=ZT(t);return e.length?"?"+e:""}};var Ou=class extends ko{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";let e=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||e()})),this.writable||(i++,this.once("drain",function(){--i||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){let e=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};GT(t,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,$T(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=Eg()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(t,e)}};var JT=!1;try{JT=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var eA=JT;function hH(){}var dx=class extends Ou{constructor(t){if(super(t),typeof location<"u"){let e=location.protocol==="https:",i=location.port;i||(i=e?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}}doWrite(t,e){let i=this.request({method:"POST",data:t});i.on("success",e),i.on("error",(r,o)=>{this.onError("xhr post error",r,o)})}doPoll(){let t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(e,i)=>{this.onError("xhr poll error",e,i)}),this.pollXhr=t}},Og=(()=>{class n extends xt{constructor(e,i,r){super(),this.createRequest=e,Po(this,r),this._opts=r,this._method=r.method||"GET",this._uri=i,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;let i=Mg(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;let r=this._xhr=this.createRequest(i);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var o;r.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=hH,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",tA);else if(typeof addEventListener=="function"){let n="onpagehide"in Hn?"pagehide":"unload";addEventListener(n,tA,!1)}}function tA(){for(let n in Og.requests)Og.requests.hasOwnProperty(n)&&Og.requests[n].abort()}var fH=(function(){let n=nA({xdomain:!1});return n&&n.responseType!==null})(),ga=class extends dx{constructor(t){super(t);let e=t&&t.forceBase64;this.supportsBinary=fH&&!e}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Og(nA,this.uri(),t)}};function nA(n){let t=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||eA))return new XMLHttpRequest}catch{}if(!t)try{return new Hn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var iA=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",mx=class extends ko{get name(){return"websocket"}doOpen(){let t=this.uri(),e=this.opts.protocols,i=iA?{}:Mg(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,i)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){let i=t[e],r=e===t.length-1;Mu(i,this.supportsBinary,o=>{try{this.doWrite(i,o)}catch{}r&&Oo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=Eg()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}},ux=Hn.WebSocket||Hn.MozWebSocket,_a=class extends mx{createSocket(t,e,i){return iA?new ux(t,e,i):e?new ux(t,e):new ux(t)}doWrite(t,e){this.ws.send(e)}};var Kc=class extends ko{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{let e=YT(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=t.readable.pipeThrough(e).getReader(),r=WT();r.readable.pipeTo(t.writable),this._writer=r.writable.getWriter();let o=()=>{i.read().then(({done:s,value:d})=>{s||(this.onPacket(d),o())}).catch(s=>{})};o();let a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let e=0;e<t.length;e++){let i=t[e],r=e===t.length-1;this._writer.write(i).then(()=>{r&&Oo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}};var px={websocket:_a,webtransport:Kc,polling:ga};var gH=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,_H=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Qc(n){if(n.length>8e3)throw"URI too long";let t=n,e=n.indexOf("["),i=n.indexOf("]");e!=-1&&i!=-1&&(n=n.substring(0,e)+n.substring(e,i).replace(/:/g,";")+n.substring(i,n.length));let r=gH.exec(n||""),o={},a=14;for(;a--;)o[_H[a]]=r[a]||"";return e!=-1&&i!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=vH(o,o.path),o.queryKey=yH(o,o.query),o}function vH(n,t){let e=/\/{2,9}/g,i=t.replace(e,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&i.splice(0,1),t.slice(-1)=="/"&&i.splice(i.length-1,1),i}function yH(n,t){let e={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,r,o){r&&(e[r]=o)}),e}var hx=typeof addEventListener=="function"&&typeof removeEventListener=="function",Pg=[];hx&&addEventListener("offline",()=>{Pg.forEach(n=>n())},!1);var kg=(()=>{class n extends xt{constructor(e,i){if(super(),this.binaryType=KT,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(i=e,e=null),e){let r=Qc(e);i.hostname=r.host,i.secure=r.protocol==="https"||r.protocol==="wss",i.port=r.port,r.query&&(i.query=r.query)}else i.host&&(i.hostname=Qc(i.host).host);Po(this,i),this.secure=i.secure!=null?i.secure:typeof location<"u"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},i.transports.forEach(r=>{let o=r.prototype.name;this.transports.push(o),this._transportsByName[o]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=XT(this.opts.query)),hx&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Pg.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){let i=Object.assign({},this.opts.query);i.EIO=lx,i.transport=e,this.id&&(i.sid=this.id);let r=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let e=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let i=this.createTransport(e);i.open(),this.setTransport(i)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",i=>this._onClose("transport close",i))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let i=new Error("server error");i.code=e.data,this._onError(i);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let r=0;r<this.writeBuffer.length;r++){let o=this.writeBuffer[r].data;if(o&&(i+=QT(o)),r>0&&i>this._maxPayload)return this.writeBuffer.slice(0,r);i+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Oo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,i,r){return this._sendPacket("message",e,i,r),this}send(e,i,r){return this._sendPacket("message",e,i,r),this}_sendPacket(e,i,r,o){if(typeof i=="function"&&(o=i,i=void 0),typeof r=="function"&&(o=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;let a={type:e,data:i,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),o&&this.once("flush",o),this.flush()}close(){let e=()=>{this._onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),e()},r=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),hx&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let r=Pg.indexOf(this._offlineEventListener);r!==-1&&Pg.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,i),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=lx,n})(),Ig=class extends kg{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let e=this.createTransport(t),i=!1;kg.priorWebsocketSuccess=!1;let r=()=>{i||(e.send([{type:"ping",data:"probe"}]),e.once("packet",_=>{if(!i)if(_.type==="pong"&&_.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;kg.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(h(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{let b=new Error("probe error");b.transport=e.name,this.emitReserved("upgradeError",b)}}))};function o(){i||(i=!0,h(),e.close(),e=null)}let a=_=>{let b=new Error("probe error: "+_);b.transport=e.name,o(),this.emitReserved("upgradeError",b)};function s(){a("transport closed")}function d(){a("socket closed")}function p(_){e&&_.name!==e.name&&o()}let h=()=>{e.removeListener("open",r),e.removeListener("error",a),e.removeListener("close",s),this.off("close",d),this.off("upgrading",p)};e.once("open",r),e.once("error",a),e.once("close",s),this.once("close",d),this.once("upgrading",p),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||e.open()},200):e.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){let e=[];for(let i=0;i<t.length;i++)~this.transports.indexOf(t[i])&&e.push(t[i]);return e}},Zc=class extends Ig{constructor(t,e={}){let i=typeof t=="object"?t:e;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(r=>px[r]).filter(r=>!!r)),super(t,i)}};var eMe=Zc.protocol;function rA(n,t="",e){let i=n;e=e||typeof location<"u"&&location,n==null&&(n=e.protocol+"//"+e.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=e.protocol+n:n=e.host+n),/^(https?|wss?):\/\//.test(n)||(typeof e<"u"?n=e.protocol+"//"+n:n="https://"+n),i=Qc(n)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";let o=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+o+":"+i.port+t,i.href=i.protocol+"://"+o+(e&&e.port===i.port?"":":"+i.port),i}var bx={};qA(bx,{Decoder:()=>vx,Encoder:()=>_x,PacketType:()=>Be,isPacketValid:()=>kH,protocol:()=>lA});var CH=typeof ArrayBuffer=="function",xH=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,oA=Object.prototype.toString,wH=typeof Blob=="function"||typeof Blob<"u"&&oA.call(Blob)==="[object BlobConstructor]",MH=typeof File=="function"||typeof File<"u"&&oA.call(File)==="[object FileConstructor]";function ku(n){return CH&&(n instanceof ArrayBuffer||xH(n))||wH&&n instanceof Blob||MH&&n instanceof File}function Pu(n,t){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let e=0,i=n.length;e<i;e++)if(Pu(n[e]))return!0;return!1}if(ku(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return Pu(n.toJSON(),!0);for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&Pu(n[e]))return!0;return!1}function aA(n){let t=[],e=n.data,i=n;return i.data=fx(e,t),i.attachments=t.length,{packet:i,buffers:t}}function fx(n,t){if(!n)return n;if(ku(n)){let e={_placeholder:!0,num:t.length};return t.push(n),e}else if(Array.isArray(n)){let e=new Array(n.length);for(let i=0;i<n.length;i++)e[i]=fx(n[i],t);return e}else if(typeof n=="object"&&!(n instanceof Date)){let e={};for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=fx(n[i],t));return e}return n}function sA(n,t){return n.data=gx(n.data,t),delete n.attachments,n}function gx(n,t){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<t.length)return t[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let e=0;e<n.length;e++)n[e]=gx(n[e],t);else if(typeof n=="object")for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e]=gx(n[e],t));return n}var cA=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],lA=5,Be=(function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n})(Be||{}),_x=class{constructor(t){this.replacer=t}encode(t){return(t.type===Be.EVENT||t.type===Be.ACK)&&Pu(t)?this.encodeAsBinary({type:t.type===Be.EVENT?Be.BINARY_EVENT:Be.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let e=""+t.type;return(t.type===Be.BINARY_EVENT||t.type===Be.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(e+=t.nsp+","),t.id!=null&&(e+=t.id),t.data!=null&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){let e=aA(t),i=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(i),r}},vx=class n extends xt{constructor(t){super(),this.reviver=t}add(t){let e;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);let i=e.type===Be.BINARY_EVENT;i||e.type===Be.BINARY_ACK?(e.type=i?Be.EVENT:Be.ACK,this.reconstructor=new yx(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(ku(t)||t.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let e=0,i={type:Number(t.charAt(0))};if(Be[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Be.BINARY_EVENT||i.type===Be.BINARY_ACK){let o=e+1;for(;t.charAt(++e)!=="-"&&e!=t.length;);let a=t.substring(o,e);if(a!=Number(a)||t.charAt(e)!=="-")throw new Error("Illegal attachments");i.attachments=Number(a)}if(t.charAt(e+1)==="/"){let o=e+1;for(;++e&&!(t.charAt(e)===","||e===t.length););i.nsp=t.substring(o,e)}else i.nsp="/";let r=t.charAt(e+1);if(r!==""&&Number(r)==r){let o=e+1;for(;++e;){let a=t.charAt(e);if(a==null||Number(a)!=a){--e;break}if(e===t.length)break}i.id=Number(t.substring(o,e+1))}if(t.charAt(++e)){let o=this.tryParse(t.substr(e));if(n.isPayloadValid(i.type,o))i.data=o;else throw new Error("invalid payload")}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,e){switch(t){case Be.CONNECT:return Dg(e);case Be.DISCONNECT:return e===void 0;case Be.CONNECT_ERROR:return typeof e=="string"||Dg(e);case Be.EVENT:case Be.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&cA.indexOf(e[0])===-1);case Be.ACK:case Be.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},yx=class{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){let e=sA(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function EH(n){return typeof n=="string"}var SH=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n};function OH(n){return n===void 0||SH(n)}function Dg(n){return Object.prototype.toString.call(n)==="[object Object]"}function PH(n,t){switch(n){case Be.CONNECT:return t===void 0||Dg(t);case Be.DISCONNECT:return t===void 0;case Be.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&cA.indexOf(t[0])===-1);case Be.ACK:return Array.isArray(t);case Be.CONNECT_ERROR:return typeof t=="string"||Dg(t);default:return!1}}function kH(n){return EH(n.nsp)&&OH(n.id)&&PH(n.type,n.data)}function _i(n,t,e){return n.on(t,e),function(){n.off(t,e)}}var IH=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Xc=class extends xt{constructor(t,e,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let t=this.io;this.subs=[_i(t,"open",this.onopen.bind(this)),_i(t,"packet",this.onpacket.bind(this)),_i(t,"error",this.onerror.bind(this)),_i(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var i,r,o;if(IH.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;let a={type:Be.EVENT,data:e};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){let h=this.ids++,_=e.pop();this._registerAckCallback(h,_),a.id=h}let s=(r=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||r===void 0?void 0:r.writable,d=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!s||(d?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(t,e){var i;let r=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(r===void 0){this.acks[t]=e;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===t&&this.sendBuffer.splice(s,1);e.call(this,new Error("operation has timed out"))},r),a=(...s)=>{this.io.clearTimeoutFn(o),e.apply(this,s)};a.withError=!0,this.acks[t]=a}emitWithAck(t,...e){return new Promise((i,r)=>{let o=(a,s)=>a?r(a):i(s);o.withError=!0,e.push(o),this.emit(t,...e)})}_addToQueue(t){let e;typeof t[t.length-1]=="function"&&(e=t.pop());let i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((r,...o)=>(this._queue[0],r!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(r)):(this._queue.shift(),e&&e(null,...o)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;let e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Be.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(i=>String(i.id)===t)){let i=this.acks[t];delete this.acks[t],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Be.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Be.EVENT:case Be.BINARY_EVENT:this.onevent(t);break;case Be.ACK:case Be.BINARY_ACK:this.onack(t);break;case Be.DISCONNECT:this.ondisconnect();break;case Be.CONNECT_ERROR:this.destroy();let i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i);break}}onevent(t){let e=t.data||[];t.id!=null&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){let e=this._anyListeners.slice();for(let i of e)i.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){let e=this,i=!1;return function(...r){i||(i=!0,e.packet({type:Be.ACK,id:t,data:r}))}}onack(t){let e=this.acks[t.id];typeof e=="function"&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Be.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){let e=this._anyListeners;for(let i=0;i<e.length;i++)if(t===e[i])return e.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){let e=this._anyOutgoingListeners;for(let i=0;i<e.length;i++)if(t===e[i])return e.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let e=this._anyOutgoingListeners.slice();for(let i of e)i.apply(this,t.data)}}};function Es(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}Es.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),e=Math.floor(t*this.jitter*n);n=(Math.floor(t*10)&1)==0?n-e:n+e}return Math.min(n,this.max)|0};Es.prototype.reset=function(){this.attempts=0};Es.prototype.setMin=function(n){this.ms=n};Es.prototype.setMax=function(n){this.max=n};Es.prototype.setJitter=function(n){this.jitter=n};var Jc=class extends xt{constructor(t,e){var i;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,Po(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((i=e.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Es({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=t;let r=e.parser||bx;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(e=this.backoff)===null||e===void 0||e.setMin(t),this)}randomizationFactor(t){var e;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(e=this.backoff)===null||e===void 0||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(e=this.backoff)===null||e===void 0||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Zc(this.uri,this.opts);let e=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;let r=_i(e,"open",function(){i.onopen(),t&&t()}),o=s=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",s),t?t(s):this.maybeReconnectOnOpen()},a=_i(e,"error",o);if(this._timeout!==!1){let s=this._timeout,d=this.setTimeoutFn(()=>{r(),o(new Error("timeout")),e.close()},s);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(r),this.subs.push(a),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let t=this.engine;this.subs.push(_i(t,"ping",this.onping.bind(this)),_i(t,"data",this.ondata.bind(this)),_i(t,"error",this.onerror.bind(this)),_i(t,"close",this.onclose.bind(this)),_i(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}ondecoded(t){Oo(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let i=this.nsps[t];return i?this._autoConnect&&!i.active&&i.connect():(i=new Xc(this,t,e),this.nsps[t]=i),i}_destroy(t){let e=Object.keys(this.nsps);for(let i of e)if(this.nsps[i].active)return;this._close()}_packet(t){let e=this.encoder.encode(t);for(let i=0;i<e.length;i++)this.engine.write(e[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let e=this.backoff.duration();this._reconnecting=!0;let i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},e);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){let t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}};var Iu={};function Du(n,t){typeof n=="object"&&(t=n,n=void 0),t=t||{};let e=rA(n,t.path||"/socket.io"),i=e.source,r=e.id,o=e.path,a=Iu[r]&&o in Iu[r].nsps,s=t.forceNew||t["force new connection"]||t.multiplex===!1||a,d;return s?d=new Jc(i,t):(Iu[r]||(Iu[r]=new Jc(i,t)),d=Iu[r]),e.query&&!t.query&&(t.query=e.queryKey),d.socket(e.path,t)}Object.assign(Du,{Manager:Jc,Socket:Xc,io:Du,connect:Du});var Wr=class n{socket=null;serverUrl="http://localhost:3000";connectedSubject=new ut(!1);connected$=this.connectedSubject.asObservable();playerJoinedSubject=new P;playerJoined$=this.playerJoinedSubject.asObservable();playerLeftSubject=new P;playerLeft$=this.playerLeftSubject.asObservable();playerResourceUpdateSubject=new P;playerResourceUpdate$=this.playerResourceUpdateSubject.asObservable();playerCriticalSubject=new P;playerCritical$=this.playerCriticalSubject.asObservable();activePlayersSubject=new P;activePlayers$=this.activePlayersSubject.asObservable();sprenGrantSubject=new P;sprenGrant$=this.sprenGrantSubject.asObservable();storeTransactionSubject=new P;storeTransaction$=this.storeTransactionSubject.asObservable();itemGrantSubject=new P;itemGrant$=this.itemGrantSubject.asObservable();storeToggleSubject=new P;storeToggle$=this.storeToggleSubject.asObservable();expertiseGrantSubject=new P;expertiseGrant$=this.expertiseGrantSubject.asObservable();levelUpSubject=new P;levelUp$=this.levelUpSubject.asObservable();constructor(){if(typeof window<"u"){let e=window.location.port==="4200"?"3000":window.location.port||"3000";this.serverUrl=`${window.location.protocol}//${window.location.hostname}:${e}`}}connect(){if(this.socket?.connected){console.log("[WebSocket] Already connected"),this.connectedSubject.next(!0);return}this.socket&&(console.log("[WebSocket] Cleaning up old socket"),this.socket.removeAllListeners(),this.socket.disconnect(),this.socket=null),console.log("[WebSocket] Connecting to:",this.serverUrl),this.socket=Du(this.serverUrl,{transports:["websocket","polling"],reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:10,timeout:1e4}),this.socket.on("connect",()=>{console.log("[WebSocket] Connected! Socket ID:",this.socket?.id),console.log("[WebSocket] Socket connected state:",this.socket?.connected),this.connectedSubject.next(!0)}),this.socket.on("disconnect",t=>{console.log("[WebSocket] Disconnected:",t),this.connectedSubject.next(!1)}),this.socket.on("connect_error",t=>{console.error("[WebSocket] Connection error:",t),this.connectedSubject.next(!1)}),this.socket.on("player-joined",t=>{console.log("[WebSocket] Player joined:",t),this.playerJoinedSubject.next(t)}),this.socket.on("player-left",t=>{console.log("[WebSocket] Player left:",t),this.playerLeftSubject.next(t)}),this.socket.on("player-resource-update",t=>{this.playerResourceUpdateSubject.next(t)}),this.socket.on("player-critical",t=>{console.log("[WebSocket] CRITICAL:",t),this.playerCriticalSubject.next(t)}),this.socket.on("active-players",t=>{console.log("[WebSocket] Active players update:",t),this.activePlayersSubject.next(t)}),this.socket.on("spren-granted",t=>{console.log("[WebSocket] \u2B50\u2B50\u2B50 SPREN GRANTED EVENT RECEIVED \u2B50\u2B50\u2B50"),console.log("[WebSocket] \u2B50 Spren granted event received:",t),console.log("[WebSocket] \u2B50 Broadcasting to sprenGrantSubject"),this.sprenGrantSubject.next(t)}),this.socket.on("store-transaction",t=>{console.log("[WebSocket] Store transaction:",t),this.storeTransactionSubject.next(t)}),this.socket.on("item-granted",t=>{console.log("[WebSocket] \u{1F381} Item granted:",t),this.itemGrantSubject.next(t)}),this.socket.on("store-toggle",t=>{console.log("[WebSocket] \u{1F3EA} Store toggled:",t),this.storeToggleSubject.next(t)}),this.socket.on("expertise-granted",t=>{console.log("[WebSocket] \u{1F4DA}\u{1F4DA}\u{1F4DA} EXPERTISE-GRANTED EVENT RECEIVED \u{1F4DA}\u{1F4DA}\u{1F4DA}"),console.log("[WebSocket] \u{1F4DA} Expertise granted event data:",t),console.log("[WebSocket] \u{1F4DA} Broadcasting to expertiseGrantSubject"),this.expertiseGrantSubject.next(t),console.log("[WebSocket] \u{1F4DA} Broadcast complete")}),this.socket.on("level-up-granted",t=>{console.log("[WebSocket] \u{1F199}\u{1F199}\u{1F199} LEVEL-UP EVENT RECEIVED \u{1F199}\u{1F199}\u{1F199}"),console.log("[WebSocket] \u{1F199} Level-up event data:",t),console.log("[WebSocket] \u{1F199} Broadcasting to levelUpSubject"),this.levelUpSubject.next(t),console.log("[WebSocket] \u{1F199} Broadcast complete")}),console.log("[WebSocket] \u2705 All event listeners registered")}disconnect(){this.socket&&(console.log("[WebSocket] Disconnecting"),this.socket.disconnect(),this.socket=null,this.connectedSubject.next(!1))}emitPlayerJoin(t){if(!this.socket?.connected){console.warn("[WebSocket] Cannot emit player-join: not connected");return}console.log("[WebSocket] Emitting player-join:",t.name),this.socket.emit("player-join",{characterId:t.characterId,name:t.name,level:t.level,ancestry:t.ancestry,health:t.health,focus:t.focus,investiture:t.investiture})}emitPlayerLeave(t){if(!this.socket?.connected){console.warn("[WebSocket] Cannot emit player-leave: not connected");return}console.log("[WebSocket] Emitting player-leave:",t),this.socket.emit("player-leave",{characterId:t})}emitResourceUpdate(t){this.socket?.connected&&this.socket.emit("resource-update",t)}requestActivePlayers(){if(!this.socket?.connected){console.warn("[WebSocket] Cannot request active players: not connected");return}console.log("[WebSocket] Requesting active players"),this.socket.emit("get-active-players")}grantSpren(t,e,i){if(!this.socket?.connected){console.warn("[WebSocket] Cannot grant spren: not connected");return}console.log("[WebSocket] Granting spren:",{characterId:t,order:e}),this.socket.emit("gm-grant-spren",{characterId:t,order:e,sprenType:i.sprenType,surgePair:i.surgePair,philosophy:i.philosophy})}emitStoreTransaction(t){if(!this.socket?.connected){console.warn("[WebSocket] Cannot emit store-transaction: not connected");return}console.log("[WebSocket] Emitting store transaction:",t),this.socket.emit("store-transaction",t)}grantItem(t,e,i){if(!this.socket?.connected){console.warn("[WebSocket] Cannot grant item: not connected");return}console.log("[WebSocket] Granting item:",{characterId:t,itemId:e,quantity:i}),this.socket.emit("gm-grant-item",{characterId:t,itemId:e,quantity:i,timestamp:new Date().toISOString()})}toggleStore(t,e){if(!this.socket?.connected){console.warn("[WebSocket] Cannot toggle store: not connected");return}console.log("[WebSocket] Toggling store:",{storeId:t,enabled:e}),this.socket.emit("gm-toggle-store",{storeId:t,enabled:e})}requestStoreState(){if(!this.socket?.connected){console.warn("[WebSocket] Cannot request store state: not connected");return}console.log("[WebSocket] \u{1F4E5} Requesting current store state"),this.socket.emit("request-store-state")}grantExpertise(t,e){if(!this.socket?.connected){console.warn("[WebSocket] Cannot grant expertise: not connected");return}console.log("[WebSocket] \u{1F4E4} Granting expertise:",{characterId:t,expertiseName:e}),console.log("[WebSocket] \u{1F4E4} Socket ID:",this.socket.id),console.log("[WebSocket] \u{1F4E4} Socket connected:",this.socket.connected),this.socket.emit("gm-grant-expertise",{characterId:t,expertiseName:e,timestamp:new Date().toISOString()}),console.log("[WebSocket] \u{1F4E4} gm-grant-expertise event emitted")}grantLevelUp(t){if(!this.socket?.connected){console.warn("[WebSocket] Cannot grant level up: not connected");return}console.log("[WebSocket] \u{1F4E4}\u{1F199} Granting level up:",{characterId:t}),console.log("[WebSocket] \u{1F4E4} Socket ID:",this.socket.id),console.log("[WebSocket] \u{1F4E4} Socket connected:",this.socket.connected),this.socket.emit("gm-grant-level-up",{characterId:t,timestamp:new Date().toISOString()}),console.log("[WebSocket] \u{1F4E4} gm-grant-level-up event emitted")}isConnected(){return this.socket?.connected??!1}ngOnDestroy(){this.disconnect()}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};function DH(n,t){if(n&1&&(l(0,"div",10)(1,"mat-icon"),u(2,"info"),c(),l(3,"span"),u(4),c()()),n&2){let e=v();m(4),w(e.validationMessage)}}function TH(n,t){if(n&1){let e=F();l(0,"mat-card",11)(1,"mat-card-header")(2,"mat-icon",12),u(3,"auto_awesome"),c(),l(4,"mat-card-title"),u(5,"A Spren Approaches!"),c()(),l(6,"mat-card-content")(7,"p",13),u(8," A "),l(9,"strong"),u(10),c(),u(11," has offered to bond with you, granting you the powers of a "),l(12,"strong"),u(13),c(),u(14,". "),c(),l(15,"p",14)(16,"em"),u(17),c()()(),l(18,"mat-card-actions")(19,"button",15),C("click",function(){E(e);let r=v();return S(r.acceptSpren())}),l(20,"mat-icon"),u(21,"check_circle"),c(),u(22," Accept Bond "),c()()()}if(n&2){let e=v();m(10),w(e.pendingSprenGrant.sprenType),m(3),w(e.pendingSprenGrant.order),m(4),O('"',e.pendingSprenGrant.philosophy,'"')}}function AH(n,t){if(n&1&&(l(0,"p",22),u(1," As a "),l(2,"strong"),u(3),c(),u(4,", you will gain access to the surges of "),l(5,"strong"),u(6),c(),u(7,". "),c()),n&2){let e,i=v(2);m(3),w((e=i.character.radiantPath.getOrderInfo())==null?null:e.order),m(3),w(i.getSurgeNames())}}function RH(n,t){if(n&1){let e=F();l(0,"mat-card",16)(1,"mat-card-header")(2,"mat-icon",17),u(3,"record_voice_over"),c(),l(4,"mat-card-title"),u(5,"Speak the First Ideal"),c()(),l(6,"mat-card-content")(7,"p",18),u(8," You have bonded with a spren. To unlock your surges, you must speak the First Ideal of the Knights Radiant: "),c(),l(9,"p",19)(10,"strong"),u(11,'"Life before death. Strength before weakness. Journey before destination."'),c()(),x(12,AH,8,2,"p",20),c(),l(13,"mat-card-actions")(14,"button",21),C("click",function(){E(e);let r=v();return S(r.speakIdeal())}),l(15,"mat-icon"),u(16,"bolt"),c(),u(17," Speak the Words "),c()()()}if(n&2){let e=v();m(12),g("ngIf",e.character.radiantPath.getOrderInfo())}}function NH(n,t){if(n&1){let e=F();l(0,"mat-chip",25),C("click",function(){let r=E(e).$implicit,o=v(2);return S(o.selectTree(r))}),u(1),c()}if(n&2){let e=t.$implicit,i=v(2);g("highlighted",(i.selectedTree==null?null:i.selectedTree.pathName)===e.pathName),m(),O(" ",e.pathName," ")}}function FH(n,t){if(n&1&&(l(0,"div",23)(1,"mat-chip-set"),x(2,NH,2,2,"mat-chip",24),c()()),n&2){let e=v();m(2),g("ngForOf",e.availableTrees)}}function LH(n,t){if(n&1&&(l(0,"li"),u(1),c()),n&2){let e=t.$implicit,i=v(4);m(),O(" ",i.formatPrerequisite(e)," ")}}function VH(n,t){if(n&1&&(l(0,"div",36)(1,"span",37),u(2,"Requires:"),c(),l(3,"ul"),x(4,LH,2,1,"li",38),c()()),n&2){let e=v().$implicit;m(4),g("ngForOf",e.prerequisites)}}function BH(n,t){if(n&1){let e=F();l(0,"button",15),C("click",function(r){E(e);let o=v().$implicit;return v(2).unlockTalent(o),S(r.stopPropagation())}),l(1,"mat-icon"),u(2,"add_circle"),c(),u(3," Select Talent "),c()}}function jH(n,t){n&1&&(l(0,"button",39)(1,"mat-icon"),u(2,"lock"),c(),u(3," Prerequisites Not Met "),c())}function zH(n,t){n&1&&(l(0,"button",39)(1,"mat-icon"),u(2,"stars"),c(),u(3," No Points Available "),c())}function UH(n,t){if(n&1){let e=F();l(0,"button",40),C("click",function(r){E(e);let o=v().$implicit;return v(2).removeTalent(o.id),S(r.stopPropagation())}),l(1,"mat-icon"),u(2,"remove_circle"),c(),u(3," Remove "),c()}}function HH(n,t){n&1&&(l(0,"button",39)(1,"mat-icon"),u(2,"lock"),c(),u(3," Locked (Previous Level) "),c())}function qH(n,t){n&1&&(l(0,"mat-icon",41),u(1,"check_circle"),c())}function $H(n,t){if(n&1&&(l(0,"mat-card",30)(1,"mat-card-header")(2,"mat-card-title"),u(3),c()(),l(4,"mat-card-content")(5,"p"),u(6),c(),x(7,VH,5,1,"div",31),c(),l(8,"mat-card-actions"),x(9,BH,4,0,"button",32)(10,jH,4,0,"button",33)(11,zH,4,0,"button",33)(12,UH,4,0,"button",34)(13,HH,4,0,"button",33)(14,qH,2,0,"mat-icon",35),c()()),n&2){let e=t.$implicit,i=v(2);T("unlocked",i.isTalentUnlocked(e.id))("baseline-locked",i.isTalentUnlocked(e.id)&&!i.canRemoveTalent(e.id))("available",i.canUnlockTalent(e))("locked",!i.canUnlockTalent(e)&&!i.isTalentUnlocked(e.id)),m(3),w(e.name),m(3),w(e.description),m(),g("ngIf",e.prerequisites.length>0),m(2),g("ngIf",!i.isTalentUnlocked(e.id)&&i.canUnlockTalent(e)),m(),g("ngIf",!i.isTalentUnlocked(e.id)&&!i.canUnlockTalent(e)&&i.availableTalentPoints>0),m(),g("ngIf",!i.isTalentUnlocked(e.id)&&!i.canUnlockTalent(e)&&i.availableTalentPoints<=0),m(),g("ngIf",i.isTalentUnlocked(e.id)&&i.canRemoveTalent(e.id)),m(),g("ngIf",i.isTalentUnlocked(e.id)&&!i.canRemoveTalent(e.id)),m(),g("ngIf",i.isTalentUnlocked(e.id))}}function GH(n,t){if(n&1&&(l(0,"div",26)(1,"mat-card",27)(2,"mat-card-header")(3,"mat-card-title"),u(4),c()()(),l(5,"div",28),x(6,$H,15,17,"mat-card",29),c()()),n&2){let e=v();m(4),w(e.selectedTree.pathName),m(2),g("ngForOf",e.getVisibleTalents())}}function WH(n,t){if(n&1){let e=F();l(0,"mat-card",46),C("click",function(){let r=E(e).$implicit,o=v(2);return S(o.selectCorePath(r))}),l(1,"mat-card-header")(2,"mat-card-title"),u(3),c()(),l(4,"mat-card-content")(5,"div",47)(6,"strong"),u(7),c(),l(8,"p"),u(9),c()()(),l(10,"mat-card-actions")(11,"button",48)(12,"mat-icon"),u(13),c(),u(14),c()()()}if(n&2){let e=t.$implicit;T("selected",e.isSelected),m(3),w(e.name),m(4),w(e.keyTalent.name),m(2),w(e.keyTalent.description),m(2),g("color",e.isSelected?"warn":"primary"),m(2),w(e.isSelected?"remove_circle":"add_circle"),m(),O(" ",e.isSelected?"Remove":"Select"," ")}}function YH(n,t){if(n&1&&(l(0,"div",42)(1,"h3"),u(2,"Select a Bonus Path (Optional)"),c(),l(3,"p",43),u(4,"You can select a key talent from another heroic path as your bonus talent. This will unlock that path's specialties."),c(),l(5,"div",44),x(6,WH,15,8,"mat-card",45),c()()),n&2){let e=v();m(6),g("ngForOf",e.availableCorePaths)}}function KH(n,t){n&1&&(l(0,"div",49)(1,"p"),u(2,"No talent trees available. Please select a path or ancestry first."),c()())}var Ag=class n{constructor(t,e,i,r,o,a){this.activatedRoute=t;this.characterState=e;this.validationService=i;this.websocketService=r;this.dialog=o;this.levelUpManager=a}pendingChange=new U;destroy$=new P;STEP_INDEX=7;character=null;availableTrees=[];selectedTree=null;unlockedTalents=new Set;availableTalentPoints=0;validationMessage="";availableCorePaths=[];showCorePathSelector=!1;pendingSprenGrant=null;isLevelUpMode=!1;baselineUnlockedTalents=new Set;isInitialized=!1;ngOnInit(){this.levelUpManager.pointsChanged$.pipe(L(this.destroy$)).subscribe(()=>{this.checkPendingStatus()}),this.activatedRoute.queryParams.pipe(L(this.destroy$)).subscribe(t=>{this.isLevelUpMode=t.levelUp==="true"}),this.characterState.character$.pipe(L(this.destroy$)).subscribe(t=>{this.character=t,this.unlockedTalents=new Set(t.unlockedTalents),!this.isInitialized&&this.isLevelUpMode&&(this.baselineUnlockedTalents=new Set(t.unlockedTalents),this.isInitialized=!0),this.loadCorePathOptions(),this.loadAvailableTrees(),this.calculateAvailablePoints(),this.updateValidation()}),this.websocketService.sprenGrant$.pipe(L(this.destroy$)).subscribe(t=>{console.log("[TalentView] Spren grant received:",t),console.log("[TalentView] Current character ID:",this.character?.id),this.character&&t.characterId===this.character.id?(console.log("[TalentView] Match! Showing spren notification"),this.pendingSprenGrant=t,setTimeout(()=>{this.pendingSprenGrant===t&&(this.pendingSprenGrant=null)},3e4)):console.log("[TalentView] No match - character ID mismatch")})}loadCorePathOptions(){if(!this.character)return;if(this.showCorePathSelector=this.character.ancestry!=null&&["human","singer"].includes(this.character.ancestry)&&(this.character.level===1||this.isLevelUpMode),!this.showCorePathSelector){this.availableCorePaths=[];return}let t=this.character.paths[0],e=["warrior","scholar","hunter","leader","envoy","agent"];this.availableCorePaths=e.filter(i=>i!==t).map(i=>{let r=jn(i);if(!r||!r.talentNodes||r.talentNodes.length===0)return null;let o=r.talentNodes.find(a=>a.tier===0);return o?{id:i,name:r.name,keyTalent:o,isSelected:this.unlockedTalents.has(o.id)}:null}).filter(i=>i!==null)}selectCorePath(t){t.isSelected?this.removeTalent(t.keyTalent.id):this.unlockTalent(t.keyTalent),this.loadCorePathOptions()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAvailableTrees(){if(!this.character)return;let t=[],e=new Set,i=this.character.paths[0],r=this.character.paths[1];if(this.character.ancestry!=null&&["human","singer"].includes(this.character.ancestry)&&(this.character.level===1||this.isLevelUpMode)){let o=s=>{let d=jn(s);return!d||!d.talentNodes?!1:d.talentNodes.some(p=>p.tier===0&&this.unlockedTalents.has(p.id))};if(i){let s=jn(i);if(s){if(s.talentNodes&&s.talentNodes.length>0){let d={pathName:`${s.name} - Core`,nodes:s.talentNodes};this.autoUnlockTier0Talents(d),t.push(d),e.add(d.pathName.toLowerCase())}s.paths.forEach(d=>{e.has(d.pathName.toLowerCase())||(this.autoUnlockTier0Talents(d),t.push(d),e.add(d.pathName.toLowerCase()))})}}["warrior","scholar","hunter","leader","envoy","agent"].forEach(s=>{let d=jn(s);if(d){if(o(s))d.paths.forEach(p=>{e.has(p.pathName.toLowerCase())||(this.autoUnlockTier0Talents(p),t.push(p),e.add(p.pathName.toLowerCase()))});else if(s!==i&&d.talentNodes&&d.talentNodes.length>0){let p={pathName:`${d.name} - Core`,nodes:d.talentNodes};e.has(p.pathName.toLowerCase())||(t.push(p),e.add(p.pathName.toLowerCase()))}}})}else{if(i){let o=jn(i);if(o){if(o.talentNodes&&o.talentNodes.length>0){let a={pathName:`${o.name} - Core`,nodes:o.talentNodes};this.autoUnlockTier0Talents(a),t.push(a),e.add(a.pathName.toLowerCase())}if(r){let a=o.paths.find(s=>s.pathName.toLowerCase()===r.toLowerCase());a&&!e.has(a.pathName.toLowerCase())&&(this.autoUnlockTier0Talents(a),t.push(a),e.add(a.pathName.toLowerCase()))}}}if(r&&!e.has(r.toLowerCase())){let o=nr(r);o&&(this.autoUnlockTier0Talents(o),t.push(o),e.add(o.pathName.toLowerCase()))}}if(this.character.ancestry){let o=nr(this.character.ancestry);o&&!e.has(o.pathName.toLowerCase())&&(this.autoUnlockTier0Talents(o),t.push(o),e.add(o.pathName.toLowerCase()))}if(this.character.radiantPath.hasSpren()){let o=this.character.radiantPath.getOrderTree();if(o){let a=jn(o);if(a&&a.talentNodes&&a.talentNodes.length>0){let s={pathName:`${a.name} - Radiant`,nodes:a.talentNodes};this.autoUnlockTier0Talents(s),e.has(s.pathName.toLowerCase())||(t.push(s),e.add(s.pathName.toLowerCase()))}}}if(this.character.radiantPath.hasSpokenIdeal()&&this.character.radiantPath.getSurgeTrees().forEach(a=>{let s=nr(a);s&&!e.has(s.pathName.toLowerCase())&&(this.autoUnlockTier0Talents(s),t.push(s),e.add(s.pathName.toLowerCase()))}),t.length===0&&this.character.cultures.length>0&&this.character.cultures.forEach(o=>{let a=nr(o.name);a&&!e.has(a.pathName.toLowerCase())&&(this.autoUnlockTier0Talents(a),t.push(a),e.add(a.pathName.toLowerCase()))}),this.availableTrees=t.filter(o=>o.pathName.toLowerCase().includes("core")&&t.length>1?!1:o.nodes.filter(d=>d.tier>0).length>0),this.availableTrees=this.availableTrees.map(o=>xe(R({},o),{pathName:o.pathName.replace(/ - Core$/i,"")})),this.character.ancestry!=null&&["human","singer"].includes(this.character.ancestry)&&r&&this.availableTrees.sort((o,a)=>{if(this.character?.ancestry==="singer"){let p=o.pathName.toLowerCase().includes("singer"),h=a.pathName.toLowerCase().includes("singer");if(p&&!h)return-1;if(!p&&h)return 1}let s=o.pathName.toLowerCase()===r.toLowerCase(),d=a.pathName.toLowerCase()===r.toLowerCase();return s&&!d?-1:!s&&d?1:0}),this.availableTrees.length>0&&!this.selectedTree)if(this.character&&this.character.ancestry==="singer"){let o=this.availableTrees.find(a=>a.pathName.toLowerCase().includes("singer"));this.selectedTree=o||this.availableTrees[0]}else this.selectedTree=this.availableTrees[0]}autoUnlockTier0Talents(t){this.character&&t.nodes.forEach(e=>{e.tier===0&&!this.unlockedTalents.has(e.id)&&(this.unlockedTalents.add(e.id),this.character.bonuses.unlockTalent(e.id,e),this.characterState.unlockTalent(e.id))})}calculateAvailablePoints(){if(!this.character){this.availableTalentPoints=0;return}let t=this.character.level??1,e;this.isLevelUpMode&&t>1?e=1:(e=t,this.character.ancestry==="human"&&t===1&&(e+=1),this.character.ancestry==="singer"&&t===1&&(e+=1));let i=this.character.paths[0],r=null;if(i&&this.character.level===1){let a=jn(i);if(a?.talentNodes){let s=a.talentNodes.find(d=>d.tier===0);s&&(r=s.id)}}let o=0;this.isLevelUpMode&&t>1?(this.availableCorePaths.forEach(a=>{a.isSelected&&!this.baselineUnlockedTalents.has(a.keyTalent.id)&&o++}),this.availableTrees.forEach(a=>{a.nodes.forEach(s=>{this.unlockedTalents.has(s.id)&&s.tier>0&&!this.baselineUnlockedTalents.has(s.id)&&o++})})):(this.availableCorePaths.forEach(a=>{a.isSelected&&o++}),this.availableTrees.forEach(a=>{a.nodes.forEach(s=>{this.unlockedTalents.has(s.id)&&s.tier>0&&o++})})),this.availableTalentPoints=e-o}selectTree(t){this.selectedTree=t}canUnlockTalent(t){return!this.character||this.unlockedTalents.has(t.id)||this.availableTalentPoints<=0?!1:t.tier===0?!!((this.character.ancestry==="human"||this.character.ancestry==="singer")&&(this.character.level===1||this.isLevelUpMode)):this.character.ancestry==="singer"&&this.character.level===1&&!this.isLevelUpMode&&!this.selectedTree?.pathName.toLowerCase().includes("singer")&&!this.availableTrees.some(o=>o.pathName.toLowerCase().includes("singer")&&o.nodes.some(s=>this.unlockedTalents.has(s.id)&&s.tier>0))?!1:new us(this.character,this.unlockedTalents).canUnlockTalent(t)}unlockTalent(t){if(this.canUnlockTalent(t)&&this.character){let e=vg.parseExpertiseGrants(t.otherEffects||[]);e.length>0?this.handleExpertiseGrants(t,e,0):this.applyTalentUnlock(t)}}handleExpertiseGrants(t,e,i){if(i>=e.length){this.applyTalentUnlock(t);return}let r=e[i];r.type==="single"?(r.expertises.forEach(o=>{this.character.bonuses.grantExpertise(t.id,o)}),this.handleExpertiseGrants(t,e,i+1)):r.type==="choice"&&this.dialog.open(Cg,{width:"600px",panelClass:"dark-dialog",data:{talentName:t.name,options:r.expertises,choiceCount:r.choiceCount||1,description:`Choose ${r.choiceCount||1} expertise${(r.choiceCount||1)>1?"s":""} from this talent.`}}).afterClosed().subscribe(a=>{a&&a.selected?(a.selected.forEach(s=>{this.character.bonuses.grantExpertise(t.id,s)}),this.handleExpertiseGrants(t,e,i+1)):console.log("Expertise choice cancelled")})}applyTalentUnlock(t){this.character&&(this.unlockedTalents.add(t.id),this.calculateAvailablePoints(),this.character.bonuses.unlockTalent(t.id,t),this.characterState.unlockTalent(t.id),t.tier===0&&(this.character.ancestry==="human"||this.character.ancestry==="singer")&&(this.character.level===1||this.isLevelUpMode)&&this.loadAvailableTrees(),this.updateValidation())}removeTalent(t){!this.selectedTree?.nodes.some(i=>this.unlockedTalents.has(i.id)&&i.prerequisites.some(r=>typeof r=="string"&&r===t||typeof r=="object"&&r.type==="talent"&&r.target===t))&&this.character&&(this.unlockedTalents.delete(t),console.log("[Talent View] Removed talent:",{talentId:t,isLevelUpMode:this.isLevelUpMode,wasInBaseline:this.baselineUnlockedTalents.has(t),remainingUnlocked:this.unlockedTalents.size,baselineSize:this.baselineUnlockedTalents.size}),this.calculateAvailablePoints(),this.character.bonuses.bonuses.removeBonus(`talent:${t}`),this.character.bonuses.removeExpertisesByTalent(t),this.characterState.removeTalent(t),this.updateValidation())}isTalentUnlocked(t){return this.unlockedTalents.has(t)}canRemoveTalent(t){return this.isLevelUpMode?!this.baselineUnlockedTalents.has(t):!0}shouldDisplayTalent(t){if(t.tier===0)return!1;if(this.character?.ancestry==="human"&&this.character.level===1&&t.tier===1){let i=this.character.paths[0],r=this.selectedTree?.pathName.toLowerCase()||"";if(!(i&&r.includes(i.toLowerCase()))){let a=["warrior","scholar","hunter","leader","envoy","agent"],s=null;for(let d of a){let p=jn(d);if(p){let h=p.name.toLowerCase();if(r.includes(h)){s=d;break}}}if(s){let d=jn(s);if(d?.talentNodes){let p=d.talentNodes.find(h=>h.tier===0);if(!p||!this.unlockedTalents.has(p.id))return!1}}}}return this.isTalentUnlocked(t.id)||t.tier===1?!0:this.character?new us(this.character,this.unlockedTalents).canUnlockTalent(t):!1}getVisibleTalents(){return this.selectedTree?this.selectedTree.nodes.filter(t=>this.shouldDisplayTalent(t)):[]}formatPrerequisite(t){if(typeof t=="string"){let e=this.selectedTree?.nodes.find(i=>i.id===t);return e?e.name:t}switch(t.type){case"talent":let e=this.selectedTree?.nodes.find(o=>o.id===t.target);return e?e.name:t.target;case"skill":return`${this.formatSkillName(t.target)} (Rank ${t.value||1}+)`;case"attribute":return`${t.target.charAt(0).toUpperCase()+t.target.slice(1)} ${t.value||1}+`;case"level":return`Level ${t.value||1}+`;default:return String(t)}}formatSkillName(t){return t.toLowerCase().split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}updateValidation(){if(!this.character){this.validationService.setStepValid(this.STEP_INDEX,!1);return}let t=this.character.paths[0],e=null;if(t&&this.character.level===1){let s=jn(t);if(s?.talentNodes){let d=s.talentNodes.find(p=>p.tier===0);d&&(e=d.id)}}let i=0,r=0;this.availableCorePaths.forEach(s=>{s.isSelected&&i++}),this.availableTrees.forEach(s=>{let d=s.pathName.toLowerCase().includes("singer");s.nodes.forEach(p=>{this.unlockedTalents.has(p.id)&&p.tier>0&&(i++,d&&r++)})});let o;if(this.isLevelUpMode&&(this.character.level||1)>1){o=this.character.level||1,i=0,this.availableCorePaths.forEach(d=>{d.isSelected&&!this.baselineUnlockedTalents.has(d.keyTalent.id)&&i++}),this.availableTrees.forEach(d=>{d.nodes.forEach(p=>{this.unlockedTalents.has(p.id)&&p.tier>0&&!this.baselineUnlockedTalents.has(p.id)&&i++})});let s=this.availableTalentPoints===0;s?this.validationMessage="":this.validationMessage=`Select ${this.availableTalentPoints} more talent${this.availableTalentPoints>1?"s":""} to continue`,this.validationService.setStepValid(this.STEP_INDEX,s),this.checkPendingStatus();return}o=this.character.level||1,(this.character.ancestry==="singer"||this.character.ancestry==="human")&&(o+=1);let a=i>=o;if(this.character.ancestry==="singer"&&r===0)this.validationMessage="Please select a Singer path talent first (from the Singer tree) before choosing other talents.";else if(a)this.validationMessage="";else{let s=o-i;this.validationMessage=`Select ${s} more talent${s>1?"s":""} to continue`}this.validationService.setStepValid(this.STEP_INDEX,a),this.checkPendingStatus()}checkPendingStatus(){let t=this.availableTalentPoints>0;this.pendingChange.emit(t)}acceptSpren(){if(!this.character||!this.pendingSprenGrant)return;this.character.radiantPath.grantSpren(this.pendingSprenGrant.order);let t=jn(this.pendingSprenGrant.order.toLowerCase());if(t?.talentNodes){let e=t.talentNodes.find(i=>i.tier===0);e&&this.unlockTalent(e)}this.pendingSprenGrant=null,this.loadAvailableTrees(),this.updateValidation()}speakIdeal(){this.character&&(this.character.radiantPath.speakIdeal(this.character.skills),this.characterState.updateCharacter(this.character),this.loadAvailableTrees(),this.updateValidation())}getSurgeNames(){if(!this.character)return"";let t=this.character.radiantPath.getOrderInfo();return t?t.surgePair.map(e=>this.formatSkillName(e)).join(" and "):""}static \u0275fac=function(e){return new(e||n)(k(Bt),k(Ne),k(zt),k(Wr),k(Ai),k(gn))};static \u0275cmp=D({type:n,selectors:[["app-talent-view"]],outputs:{pendingChange:"pendingChange"},decls:16,vars:8,consts:[[1,"talent-view-container"],[1,"talent-header"],[1,"talent-points"],["class","validation-message",4,"ngIf"],["class","spren-notification",4,"ngIf"],["class","ideal-prompt",4,"ngIf"],["class","tree-selector",4,"ngIf"],["class","talent-tree-container",4,"ngIf"],["class","core-path-selector",4,"ngIf"],["class","no-trees",4,"ngIf"],[1,"validation-message"],[1,"spren-notification"],[1,"spren-icon"],[1,"spren-message"],[1,"philosophy-text"],["mat-raised-button","","color","primary",3,"click"],[1,"ideal-prompt"],[1,"ideal-icon"],[1,"ideal-message"],[1,"first-ideal"],["class","order-info",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[1,"order-info"],[1,"tree-selector"],[3,"highlighted","click",4,"ngFor","ngForOf"],[3,"click","highlighted"],[1,"talent-tree-container"],[1,"tree-info"],[1,"talent-grid"],["class","talent-node",3,"unlocked","baseline-locked","available","locked",4,"ngFor","ngForOf"],[1,"talent-node"],["class","prerequisites",4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","disabled","",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["class","unlocked-badge",4,"ngIf"],[1,"prerequisites"],[1,"prereq-label"],[4,"ngFor","ngForOf"],["mat-button","","disabled",""],["mat-raised-button","","color","warn",3,"click"],[1,"unlocked-badge"],[1,"core-path-selector"],[1,"helper-text"],[1,"core-path-grid"],["class","core-path-card",3,"selected","click",4,"ngFor","ngForOf"],[1,"core-path-card",3,"click"],[1,"key-talent-info"],["mat-raised-button","",3,"color"],[1,"no-trees"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),u(3,"Talent Selection"),c(),l(4,"div",2)(5,"mat-icon"),u(6,"stars"),c(),l(7,"span"),u(8),c()()(),x(9,DH,5,1,"div",3)(10,TH,23,3,"mat-card",4)(11,RH,18,1,"mat-card",5)(12,FH,3,1,"div",6)(13,GH,7,2,"div",7)(14,YH,7,1,"div",8)(15,KH,3,0,"div",9),c()),e&2&&(m(8),O("Available Points: ",i.availableTalentPoints),m(),g("ngIf",i.validationMessage),m(),g("ngIf",i.pendingSprenGrant),m(),g("ngIf",i.character&&i.character.radiantPath.hasSpren()&&!i.character.radiantPath.hasSpokenIdeal()),m(),g("ngIf",i.availableTrees.length>1),m(),g("ngIf",i.selectedTree),m(),g("ngIf",i.showCorePathSelector&&i.availableCorePaths.length>0),m(),g("ngIf",i.availableTrees.length===0))},dependencies:[Q,ue,ie,Re,qe,Tn,Ke,dt,lt,ge,Pe,Ut,sn,Ti,oe,le,Zt],styles:['@charset "UTF-8";.talent-view-container[_ngcontent-%COMP%]{margin:0 auto}.talent-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.talent-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem;color:#fff}.talent-header[_ngcontent-%COMP%]   .talent-points[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:1.1rem;font-weight:500;color:#fff}.talent-header[_ngcontent-%COMP%]   .talent-points[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:gold}.validation-message[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:1rem;margin-bottom:1.5rem;background-color:#fff3cd;border:1px solid #ffc107;border-radius:4px;color:#856404;font-weight:500}.validation-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffc107}.core-path-selector[_ngcontent-%COMP%]{margin-bottom:3rem;padding:2rem;background-color:#ffffff05;border-radius:8px}.core-path-selector[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;margin-bottom:.5rem;text-align:center}.core-path-selector[_ngcontent-%COMP%]   .helper-text[_ngcontent-%COMP%]{color:#e8e8e8;text-align:center;margin-bottom:1.5rem;font-size:.95rem}.core-path-selector[_ngcontent-%COMP%]   .core-path-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:4.5rem}.core-path-selector[_ngcontent-%COMP%]   .core-path-card[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s ease;border:2px solid transparent;background-color:var(--gpSystemDarkerGrey)!important;text-align:center}.core-path-selector[_ngcontent-%COMP%]   .core-path-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 6px 16px #0003;border-color:var(--gpColor-ChalkyBlue)}.core-path-selector[_ngcontent-%COMP%]   .core-path-card.selected[_ngcontent-%COMP%]{border-color:var(--gpColor-ChalkyBlue);background-color:var(--gpSystemDarkGrey)!important;box-shadow:0 4px 12px #6495ed4d}.core-path-selector[_ngcontent-%COMP%]   .core-path-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background-color:var(--gpSystemDarkGrey);padding:1rem;margin:-16px -16px 16px;display:flex;flex-direction:column;align-items:center}.core-path-selector[_ngcontent-%COMP%]   .core-path-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#fff;width:100%;text-align:center}.core-path-selector[_ngcontent-%COMP%]   .core-path-card[_ngcontent-%COMP%]   .key-talent-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue);font-size:1.1rem;display:block;margin-bottom:.5rem;text-align:center}.core-path-selector[_ngcontent-%COMP%]   .core-path-card[_ngcontent-%COMP%]   .key-talent-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e8e8e8;font-size:.9rem;line-height:1.4;text-align:center}.core-path-selector[_ngcontent-%COMP%]   .core-path-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1rem}.core-path-selector[_ngcontent-%COMP%]   .core-path-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.tree-selector[_ngcontent-%COMP%]{margin-bottom:2rem;display:flex;justify-content:center}.tree-selector[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center}.tree-selector[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{cursor:pointer;font-size:1rem;background-color:var(--gpSystemDarkGrey)}.tree-selector[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]     .mdc-evolution-chip__text-label{color:#fff!important}.tree-selector[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]:hover{background-color:var(--gpSystemGrey)}.tree-selector[_ngcontent-%COMP%]   mat-chip[highlighted][_ngcontent-%COMP%]{background-color:var(--gpColor-ChalkyBlue)}.tree-selector[_ngcontent-%COMP%]   mat-chip[highlighted][_ngcontent-%COMP%]     .mdc-evolution-chip__text-label{color:#fff!important}.talent-tree-container[_ngcontent-%COMP%]   .tree-info[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:center;background-color:var(--gpSystemDarkerGrey)!important}.talent-tree-container[_ngcontent-%COMP%]   .tree-info[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#fff}.talent-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:1.5rem;margin-bottom:2rem}.talent-node[_ngcontent-%COMP%]{transition:all .3s ease;border:2px solid transparent;height:100%;display:flex;flex-direction:column;background-color:var(--gpSystemDarkerGrey)!important}.talent-node[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;background-color:var(--gpSystemDarkGrey)!important}.talent-node.available[_ngcontent-%COMP%]{border-color:var(--gpColor-ChalkyBlue)}.talent-node.unlocked[_ngcontent-%COMP%]{border-color:var(--gpColor-Green)}.talent-node.baseline-locked[_ngcontent-%COMP%]{border-color:#9e9e9e;opacity:.85}.talent-node.baseline-locked[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]:after{content:" \\1f512";font-size:.8em;opacity:.7}.talent-node.locked[_ngcontent-%COMP%]{opacity:.6}.talent-node[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:1rem}.talent-node[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#fff}.talent-node[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{flex-grow:1}.talent-node[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#e8e8e8;margin-bottom:1rem}.talent-node[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .prerequisites[_ngcontent-%COMP%]{background-color:var(--gpSystemDarkGrey);padding:.75rem;border-radius:4px;margin-top:1rem}.talent-node[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .prerequisites[_ngcontent-%COMP%]   .prereq-label[_ngcontent-%COMP%]{font-weight:600;color:#fff;display:block;margin-bottom:.5rem}.talent-node[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .prerequisites[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.5rem}.talent-node[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .prerequisites[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#e8e8e8;font-size:.9rem;line-height:1.4}.talent-node[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border-top:1px solid var(--gpSystemDarkGrey);margin-top:auto;gap:.5rem}.talent-node[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:.25rem;background-color:var(--gpSystemDarkGrey);color:#fff}.talent-node[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:var(--gpSystemGrey)}.talent-node[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.talent-node[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.6}.talent-node[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .unlocked-badge[_ngcontent-%COMP%]{color:#4caf50;font-size:32px;width:32px;height:32px;flex-shrink:0}.no-trees[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#e8e8e8}.no-trees[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem}@media(max-width:768px){.talent-view-container[_ngcontent-%COMP%]{padding:1rem}.talent-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.talent-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.talent-header[_ngcontent-%COMP%]   .talent-points[_ngcontent-%COMP%]{font-size:1rem}.core-path-selector[_ngcontent-%COMP%]{padding:1rem}.core-path-selector[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.core-path-selector[_ngcontent-%COMP%]   .helper-text[_ngcontent-%COMP%]{font-size:.85rem}.core-path-selector[_ngcontent-%COMP%]   .core-path-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:3rem}.core-path-selector[_ngcontent-%COMP%]   .core-path-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.1rem}.talent-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:2rem}.talent-node[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.1rem;word-wrap:break-word;overflow-wrap:break-word}.talent-node[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.talent-node[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .prerequisites[_ngcontent-%COMP%]{padding:.5rem}.talent-node[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .prerequisites[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1rem}.talent-node[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .prerequisites[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.85rem}.talent-node[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{flex-wrap:wrap;padding:.5rem}.talent-node[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.85rem}.talent-node[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.talent-node[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .unlocked-badge[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.tree-selector[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.9rem}.validation-message[_ngcontent-%COMP%]{padding:.75rem;font-size:.9rem;margin-bottom:1rem}}.spren-notification[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]{margin-bottom:2rem;background:linear-gradient(135deg,#9c27b01a,#3f51b51a);border:2px solid #9c27b0;box-shadow:0 4px 20px #9c27b04d}.spren-notification[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background-color:#9c27b026;padding:1rem;margin:-16px -16px 16px}.spren-notification[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .spren-icon[_ngcontent-%COMP%], .spren-notification[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .ideal-icon[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .spren-icon[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .ideal-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:#9c27b0;margin-right:12px}.spren-notification[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff}.spren-notification[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1.5rem}.spren-notification[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .spren-message[_ngcontent-%COMP%], .spren-notification[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .ideal-message[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .spren-message[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .ideal-message[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:1rem;color:#fff}.spren-notification[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .philosophy-text[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .philosophy-text[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:#e8e8e8;padding:1rem;background-color:#0003;border-left:4px solid #9c27b0;border-radius:4px}.spren-notification[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .first-ideal[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .first-ideal[_ngcontent-%COMP%]{font-size:1.2rem;text-align:center;padding:1.5rem;background:linear-gradient(135deg,#ffd7001a,#ff98001a);border:2px solid #ffd700;border-radius:8px;margin:1rem 0;color:gold;text-shadow:0 0 10px rgba(255,215,0,.5)}.spren-notification[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]{font-size:1rem;color:#e8e8e8;margin-top:1rem}.spren-notification[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding:1rem;display:flex;justify-content:center}.spren-notification[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.1rem;padding:.75rem 2rem}.spren-notification[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.ideal-prompt[_ngcontent-%COMP%]{border-color:#ff9800;box-shadow:0 4px 20px #ff98004d}.ideal-prompt[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background-color:#ff980026}.ideal-prompt[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .ideal-icon[_ngcontent-%COMP%]{color:#ff9800}@media(max-width:768px){.talent-view-container[_ngcontent-%COMP%]{padding-bottom:6rem}}']})};var QH=["text"],ZH=[[["mat-icon"]],"*"],XH=["mat-icon","*"];function JH(n,t){if(n&1&&q(0,"mat-pseudo-checkbox",1),n&2){let e=v();g("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function eq(n,t){if(n&1&&q(0,"mat-pseudo-checkbox",3),n&2){let e=v();g("disabled",e.disabled)}}function tq(n,t){if(n&1&&(l(0,"span",4),u(1),c()),n&2){let e=v();m(),O("(",e.group.label,")")}}var xx=new I("MAT_OPTION_PARENT_COMPONENT"),wx=new I("MatOptgroup");var Cx=class{source;isUserInput;constructor(t,e=!1){this.source=t,this.isUserInput=e}},Ni=(()=>{class n{_element=f(G);_changeDetectorRef=f(fe);_parent=f(xx,{optional:!0});group=f(wx,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=f(nt).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled()}set disabled(e){this._disabled.set(e)}_disabled=$e(!1);get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new U;_text;_stateChanges=new P;constructor(){let e=f(Ot);e.load(rr),e.load(tr),this._signalDisableRipple=!!this._parent&&so(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!jt(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Cx(this,e))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-option"]],viewQuery:function(i,r){if(i&1&&tt(QH,7),i&2){let o;W(o=Y())&&(r._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){i&1&&C("click",function(){return r._selectViaInteraction()})("keydown",function(a){return r._handleKeydown(a)}),i&2&&(In("id",r.id),X("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),T("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",ce]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:XH,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){i&1&&(Ue(ZH),Ee(0,JH,1,2,"mat-pseudo-checkbox",1),J(1),l(2,"span",2,0),J(4,1),c(),Ee(5,eq,1,1,"mat-pseudo-checkbox",3),Ee(6,tq,2,1,"span",4),q(7,"div",5)),i&2&&(Se(r.multiple?0:-1),m(5),Se(!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),m(),Se(r.group&&r.group._inert?6:-1),m(),g("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[ET,UI],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-active,.mat-mdc-option-multiple,:focus,:hover){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-active,.mat-mdc-option-multiple,:focus,:hover) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mat-list-list-item-selected-container-color: var(--mat-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return n})();function dA(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===r[o]&&o++;return o}return 0}function uA(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}var Mx=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[ca,yg,Ni,Oe]})}return n})();var nq=["trigger"],iq=["panel"],rq=[[["mat-select-trigger"]],"*"],oq=["mat-select-trigger","*"];function aq(n,t){if(n&1&&(l(0,"span",4),u(1),c()),n&2){let e=v();m(),w(e.placeholder)}}function sq(n,t){n&1&&J(0)}function cq(n,t){if(n&1&&(l(0,"span",11),u(1),c()),n&2){let e=v(2);m(),w(e.triggerValue)}}function lq(n,t){if(n&1&&(l(0,"span",5),Ee(1,sq,1,0)(2,cq,2,1,"span",11),c()),n&2){let e=v();m(),Se(e.customTrigger?1:2)}}function dq(n,t){if(n&1){let e=F();l(0,"div",12,1),C("keydown",function(r){E(e);let o=v();return S(o._handleKeydown(r))}),J(2,1),c()}if(n&2){let e=v();Ie(Pr("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme())),T("mat-select-panel-animations-enabled",!e._animationsDisabled),g("ngClass",e.panelClass),X("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var uq=new I("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=f(ae);return()=>Ms(n)}}),mq=new I("MAT_SELECT_CONFIG"),pq=new I("MatSelectTrigger"),Ex=class{source;value;constructor(t,e){this.source=t,this.value=e}},va=(()=>{class n{_viewportRuler=f(jr);_changeDetectorRef=f(fe);_elementRef=f(G);_dir=f(on,{optional:!0});_idGenerator=f(nt);_renderer=f(rt);_parentFormField=f(mu,{optional:!0});ngControl=f(yo,{self:!0,optional:!0});_liveAnnouncer=f(Zd);_defaultOptions=f(mq,{optional:!0});_animationsDisabled=at();_initialized=new P;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let i=this.options.toArray()[e];if(i){let r=this.panel.nativeElement,o=dA(e,this.options,this.optionGroups),a=i._getHostElement();e===0&&o===1?r.scrollTop=0:r.scrollTop=uA(a.offsetTop,a.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new Ex(this,e)}_scrollStrategyFactory=f(uq);_panelOpen=!1;_compareWith=(e,i)=>e===i;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new P;_errorStateTracker;stateChanges=new P;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;get disableRipple(){return this._disableRipple()}set disableRipple(e){this._disableRipple.set(e)}_disableRipple=$e(!1);tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(Vc.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Li(()=>{let e=this.options;return e?e.changes.pipe(Mt(e),un(()=>dn(...e.map(i=>i.onSelectionChange)))):this._initialized.pipe(un(()=>this.optionSelectionChanges))});openedChange=new U;_openedStream=this.openedChange.pipe(be(e=>e),se(()=>{}));_closedStream=this.openedChange.pipe(be(e=>!e),se(()=>{}));selectionChange=new U;valueChange=new U;constructor(){let e=f(zc),i=f(su,{optional:!0}),r=f(lu,{optional:!0}),o=f(new uo("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new Uc(e,this.ngControl,r,i,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=o==null?0:parseInt(o)||0,this.id=this.id}ngOnInit(){this._selectionModel=new fa(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(L(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(L(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Mt(null),L(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(this._previousControl!==void 0&&i.disabled!==null&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(wt(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=`${this.id}-panel`;this._trackedModal&&Df(this._trackedModal,"aria-owns",i),bC(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;Df(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{i(),clearTimeout(r),this._cleanupDetach=void 0};let e=this.panel.nativeElement,i=this._renderer.listen(e,"animationend",o=>{o.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),r=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let i=e.keyCode,r=i===40||i===38||i===37||i===39,o=i===13||i===32,a=this._keyManager;if(!a.isTyping()&&o&&!jt(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){let s=this.selected;a.onKeydown(e);let d=this.selected;d&&s!==d&&this._liveAnnouncer.announce(d.viewValue,1e4)}}_handleOpenKeydown(e){let i=this._keyManager,r=e.keyCode,o=r===40||r===38,a=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(!a&&(r===13||r===32)&&i.activeItem&&!jt(e))e.preventDefault(),i.activeItem._selectViaInteraction();else if(!a&&this._multiple&&r===65&&e.ctrlKey){e.preventDefault();let s=this.options.some(d=>!d.disabled&&!d.selected);this.options.forEach(d=>{d.disabled||(s?d.select():d.deselect())})}else{let s=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==s&&i.activeItem._selectViaInteraction()}}_handleOverlayKeydown(e){e.keyCode===27&&!jt(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{let i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return(r.value!=null||this.canSelectNullableOptions)&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof Wc?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Xd(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=dn(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(L(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),dn(...this.options.map(i=>i._stateChanges)).pipe(L(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){let r=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i;this.multiple?i=this.selected.map(r=>r.value):i=this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e||(e=this._valueId),e}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(e){let i=this._elementRef.nativeElement;e.length?i.setAttribute("aria-describedby",e.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(e){let i=Mn(e);i&&(i.tagName==="MAT-OPTION"||i.classList.contains("cdk-overlay-backdrop")||i.closest(".mat-mdc-select-panel"))||(this.focus(),this.open())}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(i&1&&Lt(o,pq,5)(o,Ni,5)(o,wx,5),i&2){let a;W(a=Y())&&(r.customTrigger=a.first),W(a=Y())&&(r.options=a),W(a=Y())&&(r.optionGroups=a)}},viewQuery:function(i,r){if(i&1&&tt(nq,5)(iq,5)(fg,5),i&2){let o;W(o=Y())&&(r.trigger=o.first),W(o=Y())&&(r.panel=o.first),W(o=Y())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:21,hostBindings:function(i,r){i&1&&C("keydown",function(a){return r._handleKeydown(a)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),i&2&&(X("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),T("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple)("mat-select-open",r.panelOpen))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",ce],disableRipple:[2,"disableRipple","disableRipple",ce],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Vt(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",ce],placeholder:"placeholder",required:[2,"required","required",ce],multiple:[2,"multiple","multiple",ce],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",ce],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Vt],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",ce]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[De([{provide:uu,useExisting:n},{provide:xx,useExisting:n}]),it],ngContentSelectors:oq,decls:11,vars:9,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop","cdkConnectedOverlayUsePopover","inline",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(i&1){let o=F();Ue(rq),l(0,"div",2,0),C("click",function(){return E(o),S(r.open())}),l(3,"div",3),Ee(4,aq,2,1,"span",4)(5,lq,3,1,"span",5),c(),l(6,"div",6)(7,"div",7),Cn(),l(8,"svg",8),q(9,"path",9),c()()()(),x(10,dq,3,10,"ng-template",10),C("detach",function(){return E(o),S(r.close())})("backdropClick",function(){return E(o),S(r.close())})("overlayKeydown",function(s){return E(o),S(r._handleOverlayKeydown(s))})}if(i&2){let o=St(1);m(3),X("id",r._valueId),m(),Se(r.empty?4:5),m(6),g("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)}},dependencies:[Wc,fg,Qa],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-select-open .mat-mdc-select-arrow{transform:rotate(180deg)}.mat-form-field-animations-enabled .mat-mdc-select-arrow{transition:transform 80ms linear}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return n})();var ya=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[cr,Mx,Oe,Br,Un,Mx]})}return n})();var hq=["tooltip"],fq=20;var gq=new I("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=f(ae);return()=>Ms(n,{scrollThrottle:fq})}}),_q=new I("mat-tooltip-default-options",{providedIn:"root",factory:()=>({showDelay:0,hideDelay:0,touchendHideDelay:1500})});var mA="tooltip-panel",pA=oa({passive:!0}),vq=8,yq=8,bq=24,Cq=200,Io=(()=>{class n{_elementRef=f(G);_ngZone=f($);_platform=f(Fe);_ariaDescriber=f(Tf);_focusMonitor=f(hi);_dir=f(on);_injector=f(ae);_viewContainerRef=f(en);_animationsDisabled=at();_defaultOptions=f(_q,{optional:!0});_overlayRef;_tooltipInstance;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=hA;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=ht(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let i=ht(e);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=An(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=An(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let i=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new P;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=vq}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(L(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,pA)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(i);this._detach(),this._portal=this._portal||new or(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(L(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let a=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&a._origin instanceof G)return this._overlayRef;this._detach()}let i=this._injector.get(Co).getAncestorScrollContainers(this._elementRef),r=`${this._cssClassPrefix}-${mA}`,o=_u(this._injector,this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i).withPopoverLocation("global");return o.positionChanges.pipe(L(this._destroyed)).subscribe(a=>{this._updateCurrentPositionClass(a.connectionPair),this._tooltipInstance&&a.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=Eo(this._injector,{direction:this._dir,positionStrategy:o,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,r]:r,scrollStrategy:this._injector.get(gq)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(L(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(L(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(L(this._destroyed)).subscribe(a=>{this._isTooltipVisible()&&a.keyCode===27&&!jt(a)&&(a.preventDefault(),a.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(L(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset(R(R({},r.main),o.main)),this._addOffset(R(R({},r.fallback),o.fallback))])}_addOffset(e){let i=yq,r=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-i:e.originY==="bottom"?e.offsetY=i:e.originX==="start"?e.offsetX=r?-i:i:e.originX==="end"&&(e.offsetX=r?i:-i),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"||i=="below"?r={originX:"center",originY:i=="above"?"top":"bottom"}:i=="before"||i=="left"&&e||i=="right"&&!e?r={originX:"start",originY:"center"}:(i=="after"||i=="right"&&e||i=="left"&&!e)&&(r={originX:"end",originY:"center"});let{x:o,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:a}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"?r={overlayX:"center",overlayY:"bottom"}:i=="below"?r={overlayX:"center",overlayY:"top"}:i=="before"||i=="left"&&e||i=="right"&&!e?r={overlayX:"end",overlayY:"center"}:(i=="after"||i=="right"&&e||i=="left"&&!e)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),$t(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){let{overlayY:i,originX:r,originY:o}=e,a;if(i==="center"?this._dir&&this._dir.value==="rtl"?a=r==="end"?"left":"right":a=r==="start"?"left":"right":a=i==="bottom"&&o==="top"?"above":"below",a!==this._currentPosition){let s=this._overlayRef;if(s){let d=`${this._cssClassPrefix}-${mA}-`;s.removePanelClass(d+this._currentPosition),s.addPanelClass(d+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let i;e.x!==void 0&&e.y!==void 0&&(i=e),this.show(void 0,i)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{let r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,pA)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let i=this._injector.get(ee).elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let i=this._elementRef.nativeElement,r=i.style;(e==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(e==="on"||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||$t({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){i&2&&T("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),hA=(()=>{class n{_changeDetectorRef=f(fe);_elementRef=f(G);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=at();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new P;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>bq&&e.width>=Cq}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let a=getComputedStyle(i);(a.getPropertyValue("animation-duration")==="0s"||a.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(i&1&&tt(hq,7),i&2){let o;W(o=Y())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,r){i&1&&C("mouseleave",function(a){return r._handleMouseLeave(a)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,r){if(i&1){let o=F();l(0,"div",1,0),C("animationend",function(s){return E(o),S(r._handleAnimationEnd(s))}),l(2,"div",2),u(3),c()()}i&2&&(T("mdc-tooltip--multiline",r._isMultiline),g("ngClass",r.tooltipClass),m(3),w(r.message))},dependencies:[Qa],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return n})();var ba=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[_s,cr,Oe,Br]})}return n})();function xq(n,t){if(n&1&&(l(0,"mat-option",17),u(1),c()),n&2){let e=t.$implicit;g("value",e),m(),O(" ",e," ")}}function wq(n,t){if(n&1){let e=F();l(0,"mat-form-field",14)(1,"mat-select",16,0),C("selectionChange",function(r){E(e);let o=v(2);return S(o._changePageSize(r.value))}),bb(3,xq,2,2,"mat-option",17,yb),c(),l(5,"div",18),C("click",function(){E(e);let r=St(2);return S(r.open())}),c()()}if(n&2){let e=v(2);g("appearance",e._formFieldAppearance)("color",e.color),m(),g("value",e.pageSize)("disabled",e.disabled),Ap("aria-labelledby",e._pageSizeLabelId),g("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),m(2),Cb(e._displayedPageSizeOptions)}}function Mq(n,t){if(n&1&&(l(0,"div",15),u(1),c()),n&2){let e=v(2);m(),w(e.pageSize)}}function Eq(n,t){if(n&1&&(l(0,"div",3)(1,"div",13),u(2),c(),Ee(3,wq,6,7,"mat-form-field",14),Ee(4,Mq,2,1,"div",15),c()),n&2){let e=v();m(),X("id",e._pageSizeLabelId),m(),O(" ",e._intl.itemsPerPageLabel," "),m(),Se(e._displayedPageSizeOptions.length>1?3:-1),m(),Se(e._displayedPageSizeOptions.length<=1?4:-1)}}function Sq(n,t){if(n&1){let e=F();l(0,"button",19),C("click",function(){E(e);let r=v();return S(r._buttonClicked(0,r._previousButtonsDisabled()))}),Cn(),l(1,"svg",8),q(2,"path",20),c()()}if(n&2){let e=v();g("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("disabled",e._previousButtonsDisabled())("tabindex",e._previousButtonsDisabled()?-1:null),X("aria-label",e._intl.firstPageLabel)}}function Oq(n,t){if(n&1){let e=F();l(0,"button",21),C("click",function(){E(e);let r=v();return S(r._buttonClicked(r.getNumberOfPages()-1,r._nextButtonsDisabled()))}),Cn(),l(1,"svg",8),q(2,"path",22),c()()}if(n&2){let e=v();g("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("disabled",e._nextButtonsDisabled())("tabindex",e._nextButtonsDisabled()?-1:null),X("aria-label",e._intl.lastPageLabel)}}var Pq=(()=>{class n{changes=new P;itemsPerPageLabel="Items per page:";nextPageLabel="Next page";previousPageLabel="Previous page";firstPageLabel="First page";lastPageLabel="Last page";getRangeLabel=(e,i,r)=>{if(r==0||i==0)return`0 of ${r}`;r=Math.max(r,0);let o=e*i,a=o<r?Math.min(o+i,r):o+i;return`${o+1} \u2013 ${a} of ${r}`};static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kq=50;var Iq=new I("MAT_PAGINATOR_DEFAULT_OPTIONS"),Px=(()=>{class n{_intl=f(Pq);_changeDetectorRef=f(fe);_formFieldAppearance;_pageSizeLabelId=f(nt).getId("mat-paginator-page-size-label-");_intlChanges;_isInitialized=!1;_initializedStream=new mr(1);color;get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}_pageIndex=0;get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}_length=0;get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}_pageSize;get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>Vt(i,0)),this._updateDisplayedPageSizeOptions()}_pageSizeOptions=[];hidePageSize=!1;showFirstLastButtons=!1;selectConfig={};disabled=!1;page=new U;_displayedPageSizeOptions;initialized=this._initializedStream;constructor(){let e=this._intl,i=f(Iq,{optional:!0});if(this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),i){let{pageSize:r,pageSizeOptions:o,hidePageSize:a,showFirstLastButtons:s}=i;r!=null&&(this._pageSize=r),o!=null&&(this._pageSizeOptions=o),a!=null&&(this.hidePageSize=a),s!=null&&(this.showFirstLastButtons=s)}this._formFieldAppearance=i?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){this.hasNextPage()&&this._navigate(this.pageIndex+1)}previousPage(){this.hasPreviousPage()&&this._navigate(this.pageIndex-1)}firstPage(){this.hasPreviousPage()&&this._navigate(0)}lastPage(){this.hasNextPage()&&this._navigate(this.getNumberOfPages()-1)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){let i=this.pageIndex*this.pageSize,r=this.pageIndex;this.pageIndex=Math.floor(i/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:kq),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}_navigate(e){let i=this.pageIndex;e!==i&&(this.pageIndex=e,this._emitPageEvent(i))}_buttonClicked(e,i){i||this._navigate(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",Vt],length:[2,"length","length",Vt],pageSize:[2,"pageSize","pageSize",Vt],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",ce],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",ce],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",ce]},outputs:{page:"page"},exportAs:["matPaginator"],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-atomic","true","aria-live","polite","role","status",1,"mat-mdc-paginator-range-label"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],["aria-hidden","true",1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(i,r){i&1&&(l(0,"div",1)(1,"div",2),Ee(2,Eq,5,4,"div",3),l(3,"div",4)(4,"div",5),u(5),c(),Ee(6,Sq,3,5,"button",6),l(7,"button",7),C("click",function(){return r._buttonClicked(r.pageIndex-1,r._previousButtonsDisabled())}),Cn(),l(8,"svg",8),q(9,"path",9),c()(),Uo(),l(10,"button",10),C("click",function(){return r._buttonClicked(r.pageIndex+1,r._nextButtonsDisabled())}),Cn(),l(11,"svg",8),q(12,"path",11),c()(),Ee(13,Oq,3,5,"button",12),c()()()),i&2&&(m(2),Se(r.hidePageSize?-1:2),m(3),O(" ",r._intl.getRangeLabel(r.pageIndex,r.pageSize,r.length)," "),m(),Se(r.showFirstLastButtons?6:-1),m(),g("matTooltip",r._intl.previousPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("disabled",r._previousButtonsDisabled())("tabindex",r._previousButtonsDisabled()?-1:null),X("aria-label",r._intl.previousPageLabel),m(3),g("matTooltip",r._intl.nextPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("disabled",r._nextButtonsDisabled())("tabindex",r._nextButtonsDisabled()?-1:null),X("aria-label",r._intl.nextPageLabel),m(3),Se(r.showFirstLastButtons?13:-1))},dependencies:[ti,va,Ni,an,Io],styles:[`.mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-sys-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-sys-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-sys-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-sys-body-small-tracking));--mat-form-field-container-height: var(--mat-paginator-form-field-container-height, 40px);--mat-form-field-container-vertical-padding: var(--mat-paginator-form-field-container-vertical-padding, 8px)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-sys-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size, 56px)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:var(--mat-paginator-page-size-select-width, 84px)}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}@media(forced-colors: active){.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon,.mat-mdc-paginator-icon{fill:currentColor}.mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-range-actions .mat-mdc-icon-button[aria-disabled]{color:GrayText}}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display, block);position:absolute;top:50%;left:50%;width:var(--mat-paginator-page-size-select-width, 84px);height:var(--mat-paginator-page-size-select-touch-target-height, 48px);background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}
`],encapsulation:2,changeDetection:0})}return n})(),fA=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[ge,ya,ba,Px]})}return n})();var kx=new I("CdkAccordion"),gA=(()=>{class n{_stateChanges=new P;_openCloseAllActions=new P;id=f(nt).getId("cdk-accordion-");multi=!1;openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",ce]},exportAs:["cdkAccordion"],features:[De([{provide:kx,useExisting:n}]),it]})}return n})(),_A=(()=>{class n{accordion=f(kx,{optional:!0,skipSelf:!0});_changeDetectorRef=f(fe);_expansionDispatcher=f(yu);_openCloseAllSubscription=je.EMPTY;closed=new U;opened=new U;destroyed=new U;expandedChange=new U;id=f(nt).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let i=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,i)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;get disabled(){return this._disabled()}set disabled(e){this._disabled.set(e)}_disabled=$e(!1);_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((e,i)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===i&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",ce],disabled:[2,"disabled","disabled",ce]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[De([{provide:kx,useValue:void 0}])]})}return n})(),vA=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({})}return n})();var Tq=["body"],Aq=["bodyWrapper"],Rq=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Nq=["mat-expansion-panel-header","*","mat-action-row"];function Fq(n,t){}var Lq=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Vq=["mat-panel-title","mat-panel-description","*"];function Bq(n,t){n&1&&(Je(0,"span",1),Cn(),Je(1,"svg",2),tn(2,"path",3),et()())}var Ix=new I("MAT_ACCORDION"),yA=new I("MAT_EXPANSION_PANEL"),jq=(()=>{class n{_template=f(mn);_expansionPanel=f(yA,{optional:!0});constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]})}return n})(),bA=new I("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),Dx=(()=>{class n extends _A{_viewContainerRef=f(en);_animationsDisabled=at();_document=f(ee);_ngZone=f($);_elementRef=f(G);_renderer=f(rt);_cleanupTransitionEnd;get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}_hideToggle=!1;get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_togglePosition;afterExpand=new U;afterCollapse=new U;_inputChanges=new P;accordion=f(Ix,{optional:!0,skipSelf:!0});_lazyContent;_body;_bodyWrapper;_portal;_headerId=f(nt).getId("mat-expansion-panel-header-");constructor(){super();let e=f(bA,{optional:!0});this._expansionDispatcher=f(yu),e&&(this.hideToggle=e.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Mt(null),be(()=>this.expanded&&!this._portal),wt(1)).subscribe(()=>{this._portal=new ar(this._lazyContent._template,this._viewContainerRef)}),this._setupAnimationEvents()}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransitionEnd?.(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}_transitionEndListener=({target:e,propertyName:i})=>{e===this._bodyWrapper?.nativeElement&&i==="grid-template-rows"&&this._ngZone.run(()=>{this.expanded?this.afterExpand.emit():this.afterCollapse.emit()})};_setupAnimationEvents(){this._ngZone.runOutsideAngular(()=>{this._animationsDisabled?(this.opened.subscribe(()=>this._ngZone.run(()=>this.afterExpand.emit())),this.closed.subscribe(()=>this._ngZone.run(()=>this.afterCollapse.emit()))):setTimeout(()=>{let e=this._elementRef.nativeElement;this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this._transitionEndListener),e.classList.add("mat-expansion-panel-animations-enabled")},200)})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,r,o){if(i&1&&Lt(o,jq,5),i&2){let a;W(a=Y())&&(r._lazyContent=a.first)}},viewQuery:function(i,r){if(i&1&&tt(Tq,5)(Aq,5),i&2){let o;W(o=Y())&&(r._body=o.first),W(o=Y())&&(r._bodyWrapper=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:4,hostBindings:function(i,r){i&2&&T("mat-expanded",r.expanded)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",ce],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[De([{provide:Ix,useValue:void 0},{provide:yA,useExisting:n}]),ye,it],ngContentSelectors:Nq,decls:9,vars:4,consts:[["bodyWrapper",""],["body",""],[1,"mat-expansion-panel-content-wrapper"],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,r){i&1&&(Ue(Rq),J(0),l(1,"div",2,0)(3,"div",3,1)(5,"div",4),J(6,1),x(7,Fq,0,0,"ng-template",5),c(),J(8,2),c()()),i&2&&(m(),X("inert",r.expanded?null:""),m(2),g("id",r.id),X("aria-labelledby",r._headerId),m(4),g("cdkPortalOutlet",r._portal))},dependencies:[zr],styles:[`.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;position:relative;background:var(--mat-expansion-container-background-color, var(--mat-sys-surface));color:var(--mat-expansion-container-text-color, var(--mat-sys-on-surface));border-radius:var(--mat-expansion-container-shape, 12px)}.mat-expansion-panel.mat-expansion-panel-animations-enabled{transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:var(--mat-expansion-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape, 12px);border-top-left-radius:var(--mat-expansion-container-shape, 12px)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape, 12px);border-bottom-left-radius:var(--mat-expansion-container-shape, 12px)}@media(forced-colors: active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel-content-wrapper{display:grid;grid-template-rows:0fr;grid-template-columns:100%}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content-wrapper{transition:grid-template-rows 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{grid-template-rows:1fr}@supports not (grid-template-rows: 0fr){.mat-expansion-panel-content-wrapper{height:0}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{height:auto}}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;min-height:0;visibility:hidden;font-family:var(--mat-expansion-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-sys-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-sys-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-sys-body-large-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content{transition:visibility 190ms linear}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper>.mat-expansion-panel-content{visibility:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-sys-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}return n})();var Tx=(()=>{class n{panel=f(Dx,{host:!0});_element=f(G);_focusMonitor=f(hi);_changeDetectorRef=f(fe);_parentChangeSubscription=je.EMPTY;constructor(){f(Ot).load(rr);let e=this.panel,i=f(bA,{optional:!0}),r=f(new uo("tabindex"),{optional:!0}),o=e.accordion?e.accordion._stateChanges.pipe(be(a=>!!(a.hideToggle||a.togglePosition))):Wt;this.tabIndex=parseInt(r||"")||0,this._parentChangeSubscription=dn(e.opened,e.closed,o,e._inputChanges.pipe(be(a=>!!(a.hideToggle||a.disabled||a.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(be(()=>e._containsFocus())).subscribe(()=>this._focusMonitor.focusVia(this._element,"program")),i&&(this.expandedHeight=i.expandedHeight,this.collapsedHeight=i.collapsedHeight)}expandedHeight;collapsedHeight;tabIndex=0;get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:jt(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:13,hostBindings:function(i,r){i&1&&C("click",function(){return r._toggle()})("keydown",function(a){return r._keydown(a)}),i&2&&(X("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),bt("height",r._getHeaderHeight()),T("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after",r._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",r._getTogglePosition()==="before"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Vt(e)]},ngContentSelectors:Vq,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(i,r){i&1&&(Ue(Lq),Je(0,"span",0),J(1),J(2,1),J(3,2),et(),Ee(4,Bq,3,0,"span",1)),i&2&&(T("mat-content-hide-toggle",!r._showToggle()),m(4),Se(r._showToggle()?4:-1))},styles:[`.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;height:var(--mat-expansion-header-collapsed-state-height, 48px);font-family:var(--mat-expansion-header-text-font, var(--mat-sys-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-sys-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-sys-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-sys-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-sys-title-medium-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-header{transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header::before{border-radius:inherit}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height, 64px)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-sys-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-sys-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-sys-on-surface-variant))}.mat-expansion-panel-animations-enabled .mat-expansion-indicator{transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header.mat-expanded .mat-expansion-indicator{transform:rotate(180deg)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, none)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-header-indicator-display, inline-block)}@media(forced-colors: active){.mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}}
`],encapsulation:2,changeDetection:0})}return n})(),CA=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]})}return n})(),xA=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return n})(),wA=(()=>{class n extends gA{_keyManager;_ownHeaders=new ci;_headers;hideToggle=!1;displayMode="default";togglePosition="after";ngAfterContentInit(){this._headers.changes.pipe(Mt(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new vo(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275dir=H({type:n,selectors:[["mat-accordion"]],contentQueries:function(i,r,o){if(i&1&&Lt(o,Tx,5),i&2){let a;W(a=Y())&&(r._headers=a)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(i,r){i&2&&T("mat-accordion-multi",r.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",ce],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[De([{provide:Ix,useExisting:n}]),ye]})}return n})(),Yr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[vA,sr,Oe]})}return n})();var Uq=()=>[6,12,24];function Hq(n,t){if(n&1&&(l(0,"span",38),u(1),c()),n&2){let e=v().$implicit,i=v();m(),O(" Owned: ",i.getItemQuantity(e.id)," ")}}function qq(n,t){if(n&1){let e=F();l(0,"div",27)(1,"div",28)(2,"mat-icon"),u(3),c(),l(4,"div",29)(5,"span",30),u(6),c(),l(7,"span",31),u(8),c()(),l(9,"span",32),u(10),c()(),l(11,"p",33),u(12),c(),l(13,"div",34)(14,"span",35),u(15),c(),x(16,Hq,2,1,"span",36),l(17,"button",37),C("click",function(){let r=E(e).$implicit,o=v();return S(o.purchaseItem(r))}),l(18,"mat-icon"),u(19,"shopping_cart"),c(),u(20," Buy "),c()()()}if(n&2){let e=t.$implicit,i=v();T("affordable",i.canAfford(e))("owned",i.getItemQuantity(e.id)>0),m(2),Ie("item-icon "+e.type),m(),w(i.getItemIcon(e)),m(3),w(e.name),m(2),w(e.type),m(2),O("",e.price,"mk"),m(2),w(e.description),m(3),O("",e.weight," lbs"),m(),g("ngIf",i.getItemQuantity(e.id)>0),m(),g("disabled",!i.canAfford(e))}}function $q(n,t){if(n&1&&(l(0,"p",39),u(1),c()),n&2){let e=v();m(),O(" ",e.startingKit.description," ")}}function Gq(n,t){if(n&1){let e=F();l(0,"div",40)(1,"mat-icon"),u(2),c(),l(3,"div",41)(4,"span",42),u(5),c(),l(6,"span",43),u(7),c()(),l(8,"button",44),C("click",function(){let r=E(e).$implicit,o=v();return S(o.sellItem(r.item.id))}),l(9,"mat-icon"),u(10,"sell"),c()()()}if(n&2){let e=t.$implicit,i=v();m(),Ie("item-icon "+e.item.type),m(),O(" ",i.getItemIcon(e.item)," "),m(3),w(e.item.name),m(2),O("x",e.quantity)}}function Wq(n,t){if(n&1&&(l(0,"div",45)(1,"mat-icon"),u(2,"paid"),c(),l(3,"span"),u(4),c()()),n&2){let e=v();m(4),O("Starting Currency: ",e.startingKit.currency," marks")}}function Yq(n,t){n&1&&(l(0,"p",46),u(1," Sell all starting items for 50% of their value "),c())}function Kq(n,t){n&1&&(l(0,"p",46),u(1," \u2713 Starting kit refunded "),c())}function Qq(n,t){if(n&1&&(l(0,"span",52),u(1),c()),n&2){let e=v().$implicit;m(),O("\xD7",e.quantity)}}function Zq(n,t){if(n&1){let e=F();l(0,"div",47)(1,"mat-icon"),u(2),c(),l(3,"span",48),u(4),c(),x(5,Qq,2,1,"span",49),l(6,"span",31),u(7),c(),l(8,"span",32),u(9),c(),l(10,"span",35),u(11),c(),l(12,"span",50),u(13),c(),l(14,"button",51),C("click",function(){let r=E(e).$implicit,o=v();return S(o.sellItem(r.item.id))}),l(15,"mat-icon"),u(16,"sell"),c(),u(17," Sell "),c()()}if(n&2){let e=t.$implicit,i=v();m(),Ie("item-icon "+e.item.type),m(),w(i.getItemIcon(e.item)),m(2),w(e.item.name),m(),g("ngIf",e.quantity>1),m(2),w(e.item.type),m(2),O("",e.item.price,"mk"),m(2),O("",e.item.weight," lbs"),m(2),O("Value: ",e.item.price*e.quantity,"mk")}}var Rg=class n{constructor(t,e){this.characterState=t;this.router=e}getAllInventoryItems(){return this.character?this.character.inventory.getAllItems().map(t=>({item:t,quantity:t.quantity})):[]}destroy$=new P;character=null;availableItems=[];filteredItems=[];paginatedItems=[];selectedCategory="all";pageSize=12;pageIndex=0;startingKit=null;hasRefundedKit=!1;hasAppliedKit=!1;ngOnInit(){this.characterState.character$.pipe(L(this.destroy$)).subscribe(t=>{this.character=t,t&&(this.loadStartingKit(),this.loadAvailableItems())})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadStartingKit(){if(!this.character)return;let t=this.character.cultures?.[0]||"",e={Alethi:"military-kit",Azish:"academic-kit",Shin:"artisan-kit",Thaylen:"courtier-kit",Herdazian:"underworld-kit",Listener:"prisoner-kit"},i=typeof t=="string"?t:t?.name||"",r=e[i]||"military-kit";this.startingKit=Hd.find(o=>o.id===r)||Hd[0],this.startingKit&&!this.hasRefundedKit&&!this.hasAppliedKit&&(this.character.inventory.getAllItems().length>0?this.hasAppliedKit=!0:(this.applyStartingKit(),this.hasAppliedKit=!0))}applyStartingKit(){if(!this.character||!this.startingKit)return;let t=this.character.inventory;this.startingKit.weapons.forEach(e=>{t.addItem(e.itemId,e.quantity)}),this.startingKit.armor.forEach(e=>{t.addItem(e.itemId,e.quantity)}),this.startingKit.equipment.forEach(e=>{t.addItem(e.itemId,e.quantity)}),t.addCurrency(this.startingKit.currency*5),this.hasAppliedKit=!0,this.characterState.updateCharacter(this.character)}refundStartingKit(){if(!this.character||!this.startingKit||this.hasRefundedKit)return;let t=this.character.inventory;[...this.startingKit.weapons,...this.startingKit.armor,...this.startingKit.equipment].forEach(i=>{let r=kc(i.itemId);if(r){for(let o=0;o<i.quantity;o++)t.removeItem(i.itemId);t.addCurrency(Math.floor(r.price*i.quantity*.5))}}),this.hasRefundedKit=!0,this.hasAppliedKit=!1,this.characterState.updateCharacter(this.character)}loadAvailableItems(){this.availableItems=ps.filter(t=>t.rarity==="common"),this.filterItems()}filterItems(){this.selectedCategory==="all"?this.filteredItems=[...this.availableItems]:this.filteredItems=this.availableItems.filter(t=>t.type===this.selectedCategory),this.pageIndex=0,this.updatePaginatedItems()}updatePaginatedItems(){let t=this.pageIndex*this.pageSize,e=t+this.pageSize;this.paginatedItems=this.filteredItems.slice(t,e)}onPageChange(t){this.pageIndex=t.pageIndex,this.pageSize=t.pageSize,this.updatePaginatedItems()}selectCategory(t){this.selectedCategory=t,this.filterItems()}purchaseItem(t){if(!this.character)return;let e=this.character.inventory;e.getCurrency()>=t.price&&(e.purchaseItem(t.id,t.price,1),this.characterState.updateCharacter(this.character))}sellItem(t){if(!this.character)return;let e=this.character.inventory,i=kc(t);i&&(e.sellItem(t,i.price,1),this.characterState.updateCharacter(this.character))}canAfford(t){return this.character?this.character.inventory.getCurrency()>=t.price:!1}getItemQuantity(t){return this.character&&this.character.inventory.getAllItems().find(i=>i.id===t)?.quantity||0}getItemIcon(t){return{weapon:"swords",armor:"shield",equipment:"backpack",consumable:"science",fabrial:"auto_awesome",mount:"pets"}[t.type]||"category"}getInventoryItemCount(){return this.character?.inventory?.getAllItems().length||0}getInventoryWeight(){return this.character?.inventory?.getTotalWeight()||0}getTotalCurrency(){return this.character?.inventory.getCurrency()||0}getCurrencyDisplay(){if(!this.character)return"0 broams";let t=this.character.inventory.getCurrency(),e=this.character.inventory.convertToMixedDenominations(t),i=[];return e.broams>0&&i.push(`${e.broams}b`),e.marks>0&&i.push(`${e.marks}mk`),e.chips>0&&i.push(`${e.chips}c`),i.length>0?i.join(" "):"0 broams"}getStartingKitItems(){if(!this.character||!this.startingKit)return[];let t=new Set;return[...this.startingKit.weapons,...this.startingKit.armor,...this.startingKit.equipment].forEach(i=>{t.add(i.itemId)}),this.character.inventory.getAllItems().filter(i=>t.has(i.id)).map(i=>({item:i,quantity:i.quantity}))}nextStep(){this.router.navigate(["/character-creator-view/review"])}previousStep(){this.router.navigate(["/character-creator-view/talents"])}static \u0275fac=function(e){return new(e||n)(k(Ne),k(Pt))};static \u0275cmp=D({type:n,selectors:[["app-starting-equipment"]],decls:82,vars:22,consts:[[1,"starting-equipment-container"],[1,"step-header"],[1,"step-description"],[1,"equipment-layout"],[1,"available-items-section"],[1,"items-card"],[1,"section-icon"],[1,"currency-display"],[1,"category-chips"],[3,"click","highlighted"],[1,"items-grid"],["class","item-card",3,"affordable","owned",4,"ngFor","ngForOf"],[3,"page","length","pageSize","pageSizeOptions"],[1,"starting-kit-section"],[1,"kit-card"],["class","kit-description",4,"ngIf"],[1,"kit-items"],["class","kit-item",4,"ngFor","ngForOf"],["class","kit-currency",4,"ngIf"],[1,"kit-actions"],["mat-raised-button","","color","warn",3,"click","disabled"],["class","refund-hint",4,"ngIf"],[1,"inventory-summary"],[1,"inventory-list"],["class","inventory-list-item",4,"ngFor","ngForOf"],[1,"inventory-stats"],[1,"stat"],[1,"item-card"],[1,"item-header"],[1,"item-info"],[1,"item-name"],[1,"item-type"],[1,"item-price"],[1,"item-description"],[1,"item-footer"],[1,"item-weight"],["class","item-owned",4,"ngIf"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"item-owned"],[1,"kit-description"],[1,"kit-item"],[1,"kit-item-info"],[1,"kit-item-name"],[1,"kit-item-quantity"],["mat-icon-button","","matTooltip","Sell item (50% value)",3,"click"],[1,"kit-currency"],[1,"refund-hint"],[1,"inventory-list-item"],[1,"inv-item-name"],["class","inv-item-qty",4,"ngIf"],[1,"item-value"],["mat-raised-button","","color","warn",3,"click"],[1,"inv-item-qty"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),u(3,"Starting Equipment"),c(),l(4,"p",2),u(5," Your character begins with a starting kit based on your background. You can keep these items or sell them back for currency to purchase different equipment. "),c()(),l(6,"div",3)(7,"div",4)(8,"mat-card",5)(9,"mat-card-header")(10,"mat-icon",6),u(11,"store"),c(),l(12,"mat-card-title"),u(13,"Available Equipment"),c(),l(14,"div",7)(15,"mat-icon"),u(16,"paid"),c(),l(17,"span"),u(18),c()()(),l(19,"mat-card-content")(20,"mat-chip-set",8)(21,"mat-chip",9),C("click",function(){return i.selectCategory("all")}),u(22," All Items "),c(),l(23,"mat-chip",9),C("click",function(){return i.selectCategory("weapon")}),u(24," Weapons "),c(),l(25,"mat-chip",9),C("click",function(){return i.selectCategory("armor")}),u(26," Armor "),c(),l(27,"mat-chip",9),C("click",function(){return i.selectCategory("equipment")}),u(28," Equipment "),c(),l(29,"mat-chip",9),C("click",function(){return i.selectCategory("mount")}),u(30," Mounts "),c()(),l(31,"div",10),x(32,qq,21,14,"div",11),c(),l(33,"mat-paginator",12),C("page",function(o){return i.onPageChange(o)}),c()()()(),l(34,"div",13)(35,"mat-card",14)(36,"mat-card-header")(37,"mat-icon",6),u(38,"inventory_2"),c(),l(39,"mat-card-title"),u(40),c()(),l(41,"mat-card-content"),x(42,$q,2,1,"p",15),q(43,"mat-divider"),l(44,"div",16)(45,"h3"),u(46,"Starting Items"),c(),x(47,Gq,11,5,"div",17)(48,Wq,5,1,"div",18),c(),q(49,"mat-divider"),l(50,"div",19)(51,"button",20),C("click",function(){return i.refundStartingKit()}),l(52,"mat-icon"),u(53,"currency_exchange"),c(),u(54," Sell All Starting Items "),c(),x(55,Yq,2,0,"p",21)(56,Kq,2,0,"p",21),c()()(),l(57,"mat-card",22)(58,"mat-card-header")(59,"mat-icon",6),u(60,"inventory"),c(),l(61,"mat-card-title"),u(62,"Current Inventory"),c()(),l(63,"mat-card-content")(64,"div",23),x(65,Zq,18,9,"div",24),c(),l(66,"div",25)(67,"div",26)(68,"mat-icon"),u(69,"category"),c(),l(70,"span"),u(71),c()(),l(72,"div",26)(73,"mat-icon"),u(74,"fitness_center"),c(),l(75,"span"),u(76),c()(),l(77,"div",26)(78,"mat-icon"),u(79,"paid"),c(),l(80,"span"),u(81),c()()()()()()()()),e&2&&(m(18),w(i.getCurrencyDisplay()),m(3),g("highlighted",i.selectedCategory==="all"),m(2),g("highlighted",i.selectedCategory==="weapon"),m(2),g("highlighted",i.selectedCategory==="armor"),m(2),g("highlighted",i.selectedCategory==="equipment"),m(2),g("highlighted",i.selectedCategory==="mount"),m(3),g("ngForOf",i.paginatedItems),m(),g("length",i.filteredItems.length)("pageSize",i.pageSize)("pageSizeOptions",Eb(21,Uq)),m(7),w((i.startingKit==null?null:i.startingKit.name)||"Starting Kit"),m(2),g("ngIf",i.startingKit),m(5),g("ngForOf",i.getStartingKitItems()),m(),g("ngIf",i.startingKit),m(3),g("disabled",i.hasRefundedKit),m(4),g("ngIf",!i.hasRefundedKit),m(),g("ngIf",i.hasRefundedKit),m(9),g("ngForOf",i.getAllInventoryItems()),m(6),O("",i.getInventoryItemCount()," items"),m(5),O("",i.getInventoryWeight()," lbs"),m(5),w(i.getCurrencyDisplay()))},dependencies:[Q,ue,ie,Re,qe,Ke,dt,lt,ge,Pe,an,oe,le,Ut,sn,Ti,fA,Px,Ri,So,ba,Io,Yr],styles:[".mat-mdc-paginator .mat-mdc-select-value,   .mat-mdc-paginator .mat-mdc-select-trigger,   .mat-mdc-paginator .mat-mdc-select,   .mat-mdc-paginator .mat-mdc-select .mat-mdc-select-value,   .mat-mdc-paginator .mat-mdc-select .mat-mdc-select-value-text,   .mat-mdc-paginator .mat-mdc-select .mat-mdc-select-placeholder,   .mat-mdc-paginator .mat-mdc-select .mat-mdc-select-arrow{color:#fff!important}  .mat-mdc-select-panel .mat-mdc-option .mdc-list-item__primary-text{color:#fff!important}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-select-value[_ngcontent-%COMP%], .mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-select-arrow[_ngcontent-%COMP%], .mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-select-trigger[_ngcontent-%COMP%], .mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-select[_ngcontent-%COMP%], .mat-mdc-select-panel[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%], .mat-mdc-select-panel[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%]{color:#fff!important}.mat-mdc-paginator[_ngcontent-%COMP%]{background:var(--gpSystemDarkerGrey);color:#fff;border-radius:0 0 8px 8px}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-select-value[_ngcontent-%COMP%], .mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-select-arrow[_ngcontent-%COMP%], .mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-icon-button[_ngcontent-%COMP%]{color:#fff}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-paginator-range-label[_ngcontent-%COMP%]{color:#bbb}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-select-panel[_ngcontent-%COMP%]{background:var(--gpSystemDarkGrey);color:#fff}.inventory-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1.5rem;max-height:350px;overflow-y:auto;padding-right:4px}.inventory-list-item[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;background:var(--gpSystemDarkerGrey);color:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;border:1px solid var(--gpSystemDarkGrey);padding:.5rem 1rem;gap:.5rem 1rem;font-size:1rem;min-width:0}.inventory-list-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{font-size:1.3rem;margin-right:.5rem;flex-shrink:0}.inventory-list-item[_ngcontent-%COMP%]   .inv-item-name[_ngcontent-%COMP%]{font-weight:600;margin-right:.5rem;min-width:120px;flex-shrink:1;word-break:break-word}.inventory-list-item[_ngcontent-%COMP%]   .inv-item-qty[_ngcontent-%COMP%]{color:#aaa;margin-right:.5rem;flex-shrink:0}.inventory-list-item[_ngcontent-%COMP%]   .item-type[_ngcontent-%COMP%], .inventory-list-item[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%], .inventory-list-item[_ngcontent-%COMP%]   .item-weight[_ngcontent-%COMP%], .inventory-list-item[_ngcontent-%COMP%]   .item-value[_ngcontent-%COMP%]{color:#bbb;margin-right:.75rem;font-size:.95rem;flex-shrink:0}.inventory-list-item[_ngcontent-%COMP%]   .item-value[_ngcontent-%COMP%]{font-weight:600;color:#fff;margin-right:1rem;flex-shrink:0}.inventory-list-item[_ngcontent-%COMP%]   button[mat-raised-button][_ngcontent-%COMP%]{margin-left:auto;flex-shrink:0}  .mat-expansion-indicator:after{color:#fff!important}  .category-chips .mat-mdc-chip .mdc-evolution-chip__text-label{color:#fff!important;font-weight:600}.step-header[_ngcontent-%COMP%]{margin-bottom:2rem}.step-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:#fff;margin:0 0 .5rem}.step-header[_ngcontent-%COMP%]   .step-description[_ngcontent-%COMP%]{color:#ffffffb3;font-size:1rem;margin:0}.equipment-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 400px;gap:1.5rem;margin-bottom:2rem}@media(max-width:1200px){.equipment-layout[_ngcontent-%COMP%]{grid-template-columns:1fr}}.items-card[_ngcontent-%COMP%], .kit-card[_ngcontent-%COMP%], .inventory-summary[_ngcontent-%COMP%]{background-color:var(--gpSystemDarkerGrey);color:#fff}.items-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%], .kit-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%], .inventory-summary[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:1rem}.items-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%], .kit-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%], .inventory-summary[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue);font-size:24px;width:24px;height:24px}.items-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%], .kit-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%], .inventory-summary[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{flex:1;color:#fff;font-size:1.25rem;margin:0}.items-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .currency-display[_ngcontent-%COMP%], .kit-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .currency-display[_ngcontent-%COMP%], .inventory-summary[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .currency-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.1rem;font-weight:600;color:gold}.items-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .currency-display[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .kit-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .currency-display[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .inventory-summary[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .currency-display[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:gold}.items-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%], .kit-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%], .inventory-summary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1rem}.category-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1.5rem}.category-chips[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{cursor:pointer;background-color:#ffffff1a;color:#fff!important;font-weight:600}.category-chips[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   .mat-chip-content[_ngcontent-%COMP%]{color:#fff!important;font-weight:600}.category-chips[_ngcontent-%COMP%]   mat-chip[highlighted=true][_ngcontent-%COMP%]{background-color:var(--gpColor-ChalkyBlue);color:#fff!important}.category-chips[_ngcontent-%COMP%]   mat-chip[highlighted=true][_ngcontent-%COMP%]   .mat-chip-content[_ngcontent-%COMP%]{color:#fff!important;font-weight:600}  .items-card mat-card-content .category-chips mat-chip .mat-chip-content{color:#fff!important}.items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem;margin-bottom:1.5rem;min-height:400px}.item-card[_ngcontent-%COMP%]{background-color:#0000004d;border:1px solid rgba(255,255,255,.1);border-radius:8px;padding:1rem;transition:all .2s ease}.item-card.affordable[_ngcontent-%COMP%]{border-color:#4caf504d}.item-card.owned[_ngcontent-%COMP%]{background-color:#4caf501a}.item-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000004d}.item-card[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.item-card[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}.item-card[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-icon.weapon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue)}.item-card[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-icon.armor[_ngcontent-%COMP%]{color:var(--gpColor-LightGreen)}.item-card[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-icon.equipment[_ngcontent-%COMP%]{color:#ffa726}.item-card[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-icon.mount[_ngcontent-%COMP%]{color:#8d6e63}.item-card[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.item-card[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:600;color:#fff;font-size:1rem}.item-card[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-type[_ngcontent-%COMP%]{font-size:.8rem;color:#fff9;text-transform:capitalize}.item-card[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{font-weight:600;color:gold;font-size:1rem}.item-card[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]{color:#ffffffb3;font-size:.85rem;margin:0 0 1rem;line-height:1.4;min-height:40px}.item-card[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.5rem}.item-card[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .item-weight[_ngcontent-%COMP%]{font-size:.8rem;color:#ffffff80}.item-card[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .item-owned[_ngcontent-%COMP%]{font-size:.85rem;color:var(--gpColor-LightGreen);font-weight:600}.item-card[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.25rem}.starting-kit-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.kit-description[_ngcontent-%COMP%]{color:#fffc;font-style:italic;margin:0 0 1rem}.kit-items[_ngcontent-%COMP%]{margin:1rem 0}.kit-items[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-size:1rem;margin:0 0 1rem}.kit-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem;background-color:#0003;border-radius:4px;margin-bottom:.5rem}.kit-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}.kit-item[_ngcontent-%COMP%]   .item-icon.weapon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue)}.kit-item[_ngcontent-%COMP%]   .item-icon.armor[_ngcontent-%COMP%]{color:var(--gpColor-LightGreen)}.kit-item[_ngcontent-%COMP%]   .item-icon.equipment[_ngcontent-%COMP%]{color:#ffa726}.kit-item[_ngcontent-%COMP%]   .kit-item-info[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:space-between;align-items:center}.kit-item[_ngcontent-%COMP%]   .kit-item-info[_ngcontent-%COMP%]   .kit-item-name[_ngcontent-%COMP%]{color:#fff;font-weight:500}.kit-item[_ngcontent-%COMP%]   .kit-item-info[_ngcontent-%COMP%]   .kit-item-quantity[_ngcontent-%COMP%]{color:#fff9;font-size:.9rem}.kit-currency[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem;margin-top:1rem;background-color:#ffc1071a;border-radius:4px;color:gold;font-weight:600}.kit-currency[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:gold}.kit-actions[_ngcontent-%COMP%]{margin-top:1rem}.kit-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.kit-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.kit-actions[_ngcontent-%COMP%]   .refund-hint[_ngcontent-%COMP%]{margin:.5rem 0 0;font-size:.85rem;color:#fff9;text-align:center}.inventory-summary[_ngcontent-%COMP%]   .inventory-stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.inventory-summary[_ngcontent-%COMP%]   .inventory-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background-color:#0003;border-radius:4px}.inventory-summary[_ngcontent-%COMP%]   .inventory-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue)}.inventory-summary[_ngcontent-%COMP%]   .inventory-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-weight:500}.navigation-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1rem 0}.navigation-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}@media(max-width:768px){.starting-equipment-container[_ngcontent-%COMP%]{padding-bottom:6rem}}"]})};var Xq=["determinateSpinner"];function Jq(n,t){if(n&1&&(Cn(),l(0,"svg",11),q(1,"circle",12),c()),n&2){let e=v();X("viewBox",e._viewBox()),m(),bt("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),X("r",e._circleRadius())}}var e6=new I("mat-progress-spinner-default-options",{providedIn:"root",factory:()=>({diameter:MA})}),MA=100,t6=10,Ng=(()=>{class n{_elementRef=f(G);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=f(e6),i=Jd(),r=this._elementRef.nativeElement;this._noopAnimations=i==="di-disabled"&&!!e&&!e._forceAnimations,this.mode=r.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",!this._noopAnimations&&i==="reduced-motion"&&r.classList.add("mat-progress-spinner-reduced-motion"),e&&(e.color&&(this.color=this._defaultColor=e.color),e.diameter&&(this.diameter=e.diameter),e.strokeWidth&&(this.strokeWidth=e.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=MA;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-t6)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,r){if(i&1&&tt(Xq,5),i&2){let o;W(o=Y())&&(r._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(i,r){i&2&&(X("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",r.mode==="determinate"?r.value:null)("mode",r.mode),Ie("mat-"+r.color),bt("width",r.diameter,"px")("height",r.diameter,"px")("--mat-progress-spinner-size",r.diameter+"px")("--mat-progress-spinner-active-indicator-width",r.diameter+"px"),T("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate",r.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",Vt],diameter:[2,"diameter","diameter",Vt],strokeWidth:[2,"strokeWidth","strokeWidth",Vt]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,r){if(i&1&&(x(0,Jq,2,8,"ng-template",null,0,di),l(2,"div",2,1),Cn(),l(4,"svg",3),q(5,"circle",4),c()(),Uo(),l(6,"div",5)(7,"div",6)(8,"div",7),ac(9,8),c(),l(10,"div",9),ac(11,8),c(),l(12,"div",10),ac(13,8),c()()()),i&2){let o=St(1);m(4),X("viewBox",r._viewBox()),m(),bt("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),X("r",r._circleRadius()),m(4),g("ngTemplateOutlet",o),m(2),g("ngTemplateOutlet",o),m(2),g("ngTemplateOutlet",o)}},dependencies:[Za],styles:[`.mat-mdc-progress-spinner{--mat-progress-spinner-animation-multiplier: 1;display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mat-progress-spinner-reduced-motion{--mat-progress-spinner-animation-multiplier: 1.25}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate calc(1568.2352941176ms*var(--mat-progress-spinner-animation-multiplier)) linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate calc(5332ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return n})();var el=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[Oe]})}return n})();var tl=class n{constructor(t){this.http=t;this.checkServerAvailability()}apiUrl="http://localhost:3000/api";serverAvailable=!1;LOCALSTORAGE_PREFIX="character_image_";async checkServerAvailability(){try{await this.http.get(`${this.apiUrl}/health`).toPromise(),this.serverAvailable=!0,console.log("Image server available - using server storage")}catch{this.serverAvailable=!1,console.warn("Image server not available - using localStorage fallback")}}uploadImage(t,e,i="portrait"){if(this.serverAvailable){let r=new FormData;return r.append("image",t),e&&r.append("characterId",e),r.append("imageType",i),this.http.post(`${this.apiUrl}/images/upload`,r).pipe(vn(o=>(console.error("Server upload failed, falling back to localStorage:",o),this.uploadToLocalStorage(t,e,i))))}else return this.uploadToLocalStorage(t,e,i)}uploadToLocalStorage(t,e,i="portrait"){return new we(r=>{let o=new FileReader;o.onload=a=>{try{let s=a.target?.result,d=`${this.LOCALSTORAGE_PREFIX}${e}_${i}`;Object.keys(localStorage).forEach(_=>{_.startsWith(d)&&localStorage.removeItem(_)});let p=Date.now(),h=`${this.LOCALSTORAGE_PREFIX}${e}_${i}_${p}`;localStorage.setItem(h,s),r.next({success:!0,imageUrl:h,filename:h}),r.complete()}catch(s){r.next({success:!1,error:s.message||"localStorage storage failed"}),r.complete()}},o.onerror=()=>{r.next({success:!1,error:"Failed to read file"}),r.complete()},o.readAsDataURL(t)})}deleteImage(t){return t.startsWith(this.LOCALSTORAGE_PREFIX)?this.deleteFromLocalStorage(t):this.serverAvailable?this.http.delete(`${this.apiUrl}/images/delete/${t}`).pipe(vn(e=>(console.error("Image deletion failed:",e),te({success:!1,error:e.message||"Deletion failed"})))):te({success:!1,error:"Server not available"})}deleteFromLocalStorage(t){try{return localStorage.removeItem(t),console.log(`Image removed from localStorage: ${t}`),te({success:!0})}catch(e){return te({success:!1,error:e.message||"localStorage deletion failed"})}}listImages(){return this.serverAvailable?this.http.get(`${this.apiUrl}/images/list`).pipe(vn(t=>(console.error("Image list failed:",t),te({success:!1,error:t.message||"Failed to list images"})))):te({success:!1,error:"Server not available"})}getImageUrl(t){if(!t)return"";let e=t.split("?")[0];return e.startsWith(this.LOCALSTORAGE_PREFIX)?localStorage.getItem(e)||"":t.startsWith("http")||t.startsWith("data:")?t:e.startsWith("/images/")?`http://localhost:3000${t}`:`http://localhost:3000/images/${t}`}isServerAvailable(){return this.serverAvailable}getStorageType(t){return t?t.startsWith(this.LOCALSTORAGE_PREFIX)?"localStorage":t.startsWith("/images/")||t.startsWith("http")?"server":"unknown":"unknown"}static \u0275fac=function(e){return new(e||n)(ne(Xo))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};function n6(n,t){n&1&&(l(0,"div",4)(1,"mat-icon"),u(2,"person"),c()())}function i6(n,t){if(n&1){let e=F();l(0,"img",5),C("load",function(){E(e);let r=v();return S(r.onImageLoad())})("error",function(){E(e);let r=v();return S(r.onImageError())}),c()}if(n&2){let e=v();T("visible",e.imageLoaded),g("src",e.getFullImageUrl(),Gi)("alt",e.characterName+" portrait")}}function r6(n,t){n&1&&(l(0,"div",6)(1,"mat-icon"),u(2,"broken_image"),c(),l(3,"span"),u(4,"Image failed to load"),c()())}var nl=class n{constructor(t,e,i){this.imageUploadService=t;this.cdr=e;this.ngZone=i}imageUrl=null;characterName="Character";size="medium";showPlaceholder=!0;imageLoading=!1;imageLoaded=!1;imageError=!1;imageLoadAttempts=0;maxRetries=3;retryDelay=1e3;lastImageUrl=null;cachedFullUrl="";ngOnInit(){setTimeout(()=>{this.imageUrl&&this.loadImage()},0)}ngOnChanges(t){if(t.imageUrl){let e=t.imageUrl.previousValue,i=t.imageUrl.currentValue;e!==i&&!t.imageUrl.firstChange&&(this.imageLoaded=!1,this.imageError=!1,this.imageLoadAttempts=0,this.lastImageUrl=null,this.cachedFullUrl="",setTimeout(()=>{this.imageUrl&&this.loadImage()},0))}}getFullImageUrl(){return this.imageUrl?(this.imageUrl!==this.lastImageUrl&&(this.lastImageUrl=this.imageUrl,this.cachedFullUrl=this.imageUploadService.getImageUrl(this.imageUrl)),this.cachedFullUrl):(this.lastImageUrl=null,this.cachedFullUrl="","")}getSizeClass(){return`size-${this.size}`}loadImage(){this.imageLoading=!0,this.imageError=!1;let t=new Image,e=this.getFullImageUrl();t.onload=()=>{this.ngZone.run(()=>{this.imageLoading=!1,this.imageLoaded=!0,this.imageError=!1,this.cdr.markForCheck()})},t.onerror=()=>{this.ngZone.run(()=>{if(this.imageLoadAttempts++,this.imageLoadAttempts<this.maxRetries){let i=this.retryDelay*Math.pow(2,this.imageLoadAttempts-1);console.log(`Image load failed, retrying in ${i}ms... (attempt ${this.imageLoadAttempts}/${this.maxRetries})`),setTimeout(()=>{this.loadImage()},i)}else console.error("Image failed to load after",this.maxRetries,"attempts"),this.imageLoading=!1,this.imageError=!0,this.cdr.markForCheck()})},t.src=e}onImageLoad(){this.ngZone.run(()=>{this.imageLoading=!1,this.imageLoaded=!0,this.imageError=!1,this.cdr.markForCheck()})}onImageError(){this.ngZone.run(()=>{if(this.imageLoadAttempts++,this.imageLoadAttempts<this.maxRetries){let t=this.retryDelay*Math.pow(2,this.imageLoadAttempts-1);console.log(`Image load failed, retrying in ${t}ms... (attempt ${this.imageLoadAttempts}/${this.maxRetries})`),setTimeout(()=>{this.imageLoaded=!1,this.imageError=!1,this.cdr.markForCheck()},t)}else console.error("Image failed to load after",this.maxRetries,"attempts"),this.imageLoading=!1,this.imageError=!0,this.cdr.markForCheck()})}static \u0275fac=function(e){return new(e||n)(k(tl),k(fe),k($))};static \u0275cmp=D({type:n,selectors:[["app-character-image"]],inputs:{imageUrl:"imageUrl",characterName:"characterName",size:"size",showPlaceholder:"showPlaceholder"},features:[it],decls:4,vars:4,consts:[[1,"character-image",3,"ngClass"],["class","placeholder",4,"ngIf"],["class","portrait-image",3,"src","alt","visible","load","error",4,"ngIf"],["class","error-placeholder",4,"ngIf"],[1,"placeholder"],[1,"portrait-image",3,"load","error","src","alt"],[1,"error-placeholder"]],template:function(e,i){e&1&&(l(0,"div",0),x(1,n6,3,0,"div",1)(2,i6,1,4,"img",2)(3,r6,5,0,"div",3),c()),e&2&&(g("ngClass",i.getSizeClass()),m(),g("ngIf",(!i.imageUrl||!i.imageLoaded)&&i.showPlaceholder&&!i.imageError),m(),g("ngIf",i.imageUrl&&!i.imageError),m(),g("ngIf",i.imageError))},dependencies:[Q,Qa,ie,oe,le,el],styles:[".character-image[_ngcontent-%COMP%]{border-radius:50%;overflow:hidden;background-color:var(--gpSystemDarkGrey);border:2px solid var(--gpSystemDarkerGrey);display:flex;align-items:center;justify-content:center;position:relative}.character-image.size-small[_ngcontent-%COMP%]{width:60px;height:60px}.character-image.size-small[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .character-image.size-small[_ngcontent-%COMP%]   .error-placeholder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}.character-image.size-medium[_ngcontent-%COMP%]{width:120px;height:120px}.character-image.size-medium[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .character-image.size-medium[_ngcontent-%COMP%]   .error-placeholder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px}.character-image.size-large[_ngcontent-%COMP%]{width:200px;height:200px}.character-image.size-large[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .character-image.size-large[_ngcontent-%COMP%]   .error-placeholder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:100px;width:100px;height:100px}.character-image[_ngcontent-%COMP%]   .portrait-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;position:absolute;top:0;left:0;opacity:0;transition:opacity .3s ease-in}.character-image[_ngcontent-%COMP%]   .portrait-image.visible[_ngcontent-%COMP%]{opacity:1}.character-image[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], .character-image[_ngcontent-%COMP%]   .error-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;color:#e8e8e8;gap:.5rem;text-align:center;padding:1rem}.character-image[_ngcontent-%COMP%]   .error-placeholder[_ngcontent-%COMP%]{color:#ffc107}.character-image[_ngcontent-%COMP%]   .error-placeholder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffc107}.character-image[_ngcontent-%COMP%]   .error-placeholder[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500}"]})};function o6(n,t){if(n&1&&q(0,"img",15),n&2){let e=v(2);g("src",e.getFullImageUrl(e.currentImageUrl),Gi)("alt",e.label)}}function a6(n,t){n&1&&(l(0,"div",16)(1,"mat-icon"),u(2,"image"),c(),l(3,"span"),u(4,"No image uploaded"),c()())}function s6(n,t){n&1&&(l(0,"div",17),q(1,"mat-spinner",18),l(2,"span"),u(3,"Uploading..."),c()())}function c6(n,t){if(n&1&&(l(0,"div",10)(1,"div",11),x(2,o6,1,2,"img",12)(3,a6,5,0,"div",13)(4,s6,4,0,"div",14),c()()),n&2){let e=v();m(2),g("ngIf",e.currentImageUrl),m(),g("ngIf",!e.currentImageUrl),m(),g("ngIf",e.uploading)}}function l6(n,t){if(n&1){let e=F();l(0,"button",19),C("click",function(){E(e);let r=v();return S(r.removeImage())}),l(1,"mat-icon"),u(2,"delete"),c(),u(3," Remove "),c()}}function d6(n,t){if(n&1&&(l(0,"div",20)(1,"mat-icon"),u(2,"error"),c(),l(3,"span"),u(4),c()()),n&2){let e=v();m(4),w(e.uploadError)}}var Fg=class n{constructor(t,e){this.imageUploadService=t;this.cdr=e}currentImageUrl=null;characterId;imageType="portrait";label="Character Portrait";showPreview=!0;imageUploaded=new U;imageRemoved=new U;uploading=!1;uploadError=null;onFileSelected(t){let e=t.target;if(!e.files||e.files.length===0)return;let i=e.files[0];if(!i.type.match(/^image\/(jpeg|jpg|png|webp)$/)){this.uploadError="Only JPEG, PNG, and WebP images are allowed";return}if(i.size>10*1024*1024){this.uploadError="Image must be smaller than 10MB";return}this.uploadImage(i)}uploadImage(t){this.uploading=!0,this.uploadError=null,this.imageUploadService.uploadImage(t,this.characterId,this.imageType).subscribe(e=>{setTimeout(()=>{this.uploading=!1,e.success&&e.imageUrl?(this.currentImageUrl=e.imageUrl,this.imageUploaded.emit(e.imageUrl),console.log("Image uploaded successfully:",e.imageUrl),this.cdr.markForCheck()):(this.uploadError=e.error||"Upload failed",this.cdr.markForCheck())},0)})}removeImage(){if(!this.currentImageUrl)return;let t=this.currentImageUrl.split("/").pop();t?this.imageUploadService.deleteImage(t).subscribe(e=>{setTimeout(()=>{e.success&&(this.currentImageUrl=null,this.imageRemoved.emit(),console.log("Image removed successfully"),this.cdr.markForCheck())},0)}):setTimeout(()=>{this.currentImageUrl=null,this.imageRemoved.emit(),this.cdr.markForCheck()},0)}getFullImageUrl(t){return t?this.imageUploadService.getImageUrl(t):""}triggerFileInput(t){t.click()}static \u0275fac=function(e){return new(e||n)(k(tl),k(fe))};static \u0275cmp=D({type:n,selectors:[["app-image-uploader"]],inputs:{currentImageUrl:"currentImageUrl",characterId:"characterId",imageType:"imageType",label:"label",showPreview:"showPreview"},outputs:{imageUploaded:"imageUploaded",imageRemoved:"imageRemoved"},decls:16,vars:6,consts:[["fileInput",""],[1,"image-uploader"],[1,"uploader-label"],["class","preview-container",4,"ngIf"],[1,"upload-actions"],["type","file","accept","image/jpeg,image/jpg,image/png,image/webp",2,"display","none",3,"change"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-button","","color","warn",3,"click",4,"ngIf"],[1,"upload-info"],["class","upload-error",4,"ngIf"],[1,"preview-container"],[1,"image-preview"],["class","uploaded-image",3,"src","alt",4,"ngIf"],["class","placeholder",4,"ngIf"],["class","uploading-overlay",4,"ngIf"],[1,"uploaded-image",3,"src","alt"],[1,"placeholder"],[1,"uploading-overlay"],["diameter","40"],["mat-button","","color","warn",3,"click"],[1,"upload-error"]],template:function(e,i){if(e&1){let r=F();l(0,"div",1)(1,"div",2),u(2),c(),x(3,c6,5,3,"div",3),l(4,"div",4)(5,"input",5,0),C("change",function(a){return E(r),S(i.onFileSelected(a))}),c(),l(7,"button",6),C("click",function(){E(r);let a=St(6);return S(i.triggerFileInput(a))}),l(8,"mat-icon"),u(9,"upload"),c(),u(10),c(),x(11,l6,4,0,"button",7),c(),l(12,"div",8)(13,"small"),u(14,"Supports JPG, PNG, WebP. Max 10MB. Auto-converts to WebP."),c()(),x(15,d6,5,1,"div",9),c()}e&2&&(m(2),w(i.label),m(),g("ngIf",i.showPreview),m(4),g("disabled",i.uploading),m(3),O(" ",i.currentImageUrl?"Change Image":"Upload Image"," "),m(),g("ngIf",i.currentImageUrl&&!i.uploading),m(4),g("ngIf",i.uploadError))},dependencies:[Q,ie,ge,Pe,oe,le,el,Ng],styles:[".image-uploader[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1rem;border:1px solid var(--gpSystemDarkGrey);border-radius:8px;background-color:var(--gpSystemDarkerGrey)}.image-uploader[_ngcontent-%COMP%]   .uploader-label[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;color:#fff}.image-uploader[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.image-uploader[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{width:200px;height:200px;border:2px dashed var(--gpSystemDarkGrey);border-radius:8px;overflow:hidden;position:relative;display:flex;align-items:center;justify-content:center;background-color:var(--gpSystemDarkGrey)}.image-uploader[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .uploaded-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.image-uploader[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;color:#e8e8e8}.image-uploader[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:var(--gpColor-ChalkyBlue)}.image-uploader[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.image-uploader[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .uploading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#000000b3;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem}.image-uploader[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .uploading-overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-weight:500}.image-uploader[_ngcontent-%COMP%]   .upload-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center;flex-wrap:wrap}.image-uploader[_ngcontent-%COMP%]   .upload-info[_ngcontent-%COMP%]{text-align:center;color:#e8e8e8}.image-uploader[_ngcontent-%COMP%]   .upload-error[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background-color:#ffc10726;border-left:4px solid #ffc107;border-radius:4px;color:#ffc107}.image-uploader[_ngcontent-%COMP%]   .upload-error[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}"]})};function u6(n,t){if(n&1){let e=F();l(0,"div",14),q(1,"img",15),l(2,"div",16)(3,"span",17),u(4),c(),l(5,"div",18)(6,"button",19),C("click",function(){let r=E(e).$implicit,o=v(2);return S(o.selectCachedImage(r.url))}),l(7,"mat-icon"),u(8,"check_circle"),c()(),l(9,"button",20),C("click",function(r){let o=E(e).$implicit,a=v(2);return S(a.deleteCachedImage(o,r))}),l(10,"mat-icon"),u(11,"delete"),c()()()()()}if(n&2){let e=t.$implicit,i=v(2);T("selected",i.uploadedImageUrl===e.url),m(),g("src",e.url,Gi)("alt",e.characterName||"Portrait"),m(3),w(e.characterName),m(2),g("matTooltip","Use this portrait"),m(3),g("matTooltip","Delete this portrait")}}function m6(n,t){if(n&1&&(l(0,"div",10)(1,"h4")(2,"mat-icon"),u(3,"photo_library"),c(),u(4),c(),l(5,"p",11),u(6,"Click to select, or delete unused portraits to free storage"),c(),l(7,"div",12),x(8,u6,12,7,"div",13),c()()),n&2){let e=v();m(4),O(" Saved Portraits (",e.cachedImages.length,") "),m(4),g("ngForOf",e.cachedImages)}}var il=class n{constructor(t,e){this.dialogRef=t;this.data=e;this.uploadedImageUrl=e.currentImageUrl}uploadedImageUrl;cachedImages=[];ngOnInit(){this.loadCachedImages()}loadCachedImages(){let t=[];for(let e=0;e<localStorage.length;e++){let i=localStorage.key(e);if(i&&i.includes("_portrait")){let r=localStorage.getItem(i);if(r&&r.startsWith("data:image")){let o=i.split("_portrait")[0];t.push({key:i,url:r,characterName:o})}}}this.cachedImages=t}onImageUploaded(t){try{this.uploadedImageUrl=t}catch(e){(e.name==="QuotaExceededError"||e.code===22)&&alert("Storage quota exceeded. Please delete some old character portraits or clear browser data."),console.error("Error saving image:",e)}}onImageRemoved(){this.uploadedImageUrl=null}selectCachedImage(t){this.uploadedImageUrl=t}deleteCachedImage(t,e){e.stopPropagation(),confirm(`Delete portrait for ${t.characterName||"this character"}?`)&&(localStorage.removeItem(t.key),this.loadCachedImages(),this.uploadedImageUrl===t.url&&(this.uploadedImageUrl=null))}onCancel(){this.dialogRef.close()}onSave(){try{this.dialogRef.close(this.uploadedImageUrl)}catch(t){(t.name==="QuotaExceededError"||t.code===22)&&alert("Storage quota exceeded. Unable to save portrait. Please delete some old character portraits or clear browser data."),console.error("Error saving portrait:",t)}}static \u0275fac=function(e){return new(e||n)(k(ni),k(lr))};static \u0275cmp=D({type:n,selectors:[["app-character-portrait-upload"]],decls:30,vars:7,consts:[[1,"portrait-upload-dialog"],["mat-dialog-title",""],[1,"dialog-content"],[1,"instruction-text"],[3,"imageUploaded","imageRemoved","currentImageUrl","characterId","imageType","label","showPreview"],["class","cached-images-section",4,"ngIf"],[1,"tips-section"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"cached-images-section"],[1,"helper-text"],[1,"cached-images-grid"],["class","cached-image-item",3,"selected",4,"ngFor","ngForOf"],[1,"cached-image-item"],[3,"src","alt"],[1,"image-overlay"],[1,"character-name"],[1,"action-buttons"],["mat-icon-button","",1,"select-btn",3,"click","matTooltip"],["mat-icon-button","",1,"delete-btn",3,"click","matTooltip"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"h2",1)(2,"mat-icon"),u(3,"portrait"),c(),u(4),c(),l(5,"mat-dialog-content")(6,"div",2)(7,"p",3),u(8," Upload a character portrait image. It will be automatically compressed to WebP format for optimal storage. "),c(),l(9,"app-image-uploader",4),C("imageUploaded",function(o){return i.onImageUploaded(o)})("imageRemoved",function(){return i.onImageRemoved()}),c(),x(10,m6,9,2,"div",5),l(11,"div",6)(12,"h4"),u(13,"Tips:"),c(),l(14,"ul")(15,"li"),u(16,"Square images work best (e.g., 512x512px)"),c(),l(17,"li"),u(18,"Use clear, well-lit photos or artwork"),c(),l(19,"li"),u(20,"Images are resized to 800x800px max"),c(),l(21,"li"),u(22,"Supported formats: JPG, PNG, WebP (max 10MB)"),c()()()()(),l(23,"mat-dialog-actions",7)(24,"button",8),C("click",function(){return i.onCancel()}),u(25," Cancel "),c(),l(26,"button",9),C("click",function(){return i.onSave()}),l(27,"mat-icon"),u(28,"check"),c(),u(29," Save Portrait "),c()()()),e&2&&(m(4),O(" ",i.data.characterName,"'s Portrait "),m(5),g("currentImageUrl",i.uploadedImageUrl)("characterId",i.data.characterId)("imageType","portrait")("label","Character Portrait")("showPreview",!0),m(),g("ngIf",i.cachedImages.length>0))},dependencies:[Q,ue,ie,Zt,Ur,qr,Hr,ge,Pe,an,oe,le,ba,Io,Fg],styles:[".mat-mdc-dialog-container .mdc-dialog__container{height:100%}  .mat-mdc-dialog-container .mat-mdc-dialog-surface{overflow:visible!important;display:flex!important;flex-direction:column!important;max-height:90vh!important;height:auto!important}  .mat-mdc-dialog-container .mat-mdc-dialog-content,   .mat-mdc-dialog-container .mdc-dialog__content{overflow-y:auto!important;overflow-x:hidden!important;-webkit-overflow-scrolling:touch!important}.portrait-upload-dialog[_ngcontent-%COMP%]{max-width:100%;background-color:var(--gpSystemDarkerGrey);padding:1.5rem;display:flex;flex-direction:column;height:100%;max-height:90vh}@media(max-width:780px){.portrait-upload-dialog[_ngcontent-%COMP%]{padding:1rem;max-height:85vh}}.portrait-upload-dialog[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0 0 1rem;color:#fff;flex-shrink:0}.portrait-upload-dialog[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue)}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{padding:0;overflow-y:auto;overflow-x:hidden;flex:1 1 auto;min-height:0;-webkit-overflow-scrolling:touch}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;padding-bottom:1rem}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .instruction-text[_ngcontent-%COMP%]{font-size:.95rem;color:#e8e8e8;margin:0;line-height:1.5;word-wrap:break-word}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tips-section[_ngcontent-%COMP%]{padding:1rem;background-color:var(--gpSystemDarkGrey);border-radius:8px;border-left:4px solid var(--gpColor-ChalkyBlue)}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tips-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;color:var(--gpColor-ChalkyBlue);font-size:1rem}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tips-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.5rem}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tips-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.9rem;color:#e8e8e8;margin-bottom:.25rem}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]{padding:1rem;background-color:var(--gpSystemDarkGrey);border-radius:8px;border-left:4px solid var(--gpColor-ChalkyBlue)}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0 0 .5rem;color:var(--gpColor-ChalkyBlue);font-size:1rem}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   .helper-text[_ngcontent-%COMP%]{font-size:.85rem;color:#b0b0b0;margin:0 0 1rem}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   .cached-images-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:.75rem;max-height:250px;overflow-y:auto}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   .cached-images-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   .cached-images-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--gpSystemDarkerGrey)}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   .cached-images-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--gpColor-ChalkyBlue);border-radius:3px}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   .cached-images-grid[_ngcontent-%COMP%]   .cached-image-item[_ngcontent-%COMP%]{position:relative;width:100%;padding-top:100%;border-radius:6px;overflow:hidden;cursor:pointer;border:2px solid transparent;transition:all .2s ease}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   .cached-images-grid[_ngcontent-%COMP%]   .cached-image-item[_ngcontent-%COMP%]:hover{border-color:var(--gpColor-ChalkyBlue);transform:scale(1.05)}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   .cached-images-grid[_ngcontent-%COMP%]   .cached-image-item.selected[_ngcontent-%COMP%]{border-color:var(--gpColor-ChalkyBlue);box-shadow:0 0 0 2px #4ab3e84d}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   .cached-images-grid[_ngcontent-%COMP%]   .cached-image-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   .cached-images-grid[_ngcontent-%COMP%]   .cached-image-item[_ngcontent-%COMP%]   .image-overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(to top,rgba(0,0,0,.8),transparent);padding:.5rem .25rem .25rem;display:flex;flex-direction:column;gap:.25rem;opacity:0;transition:opacity .2s ease}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   .cached-images-grid[_ngcontent-%COMP%]   .cached-image-item[_ngcontent-%COMP%]   .image-overlay[_ngcontent-%COMP%]   .character-name[_ngcontent-%COMP%]{font-size:.75rem;color:#fff;font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   .cached-images-grid[_ngcontent-%COMP%]   .cached-image-item[_ngcontent-%COMP%]   .image-overlay[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.25rem;justify-content:flex-end}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   .cached-images-grid[_ngcontent-%COMP%]   .cached-image-item[_ngcontent-%COMP%]   .image-overlay[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:24px;height:24px;padding:0;color:#fff}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   .cached-images-grid[_ngcontent-%COMP%]   .cached-image-item[_ngcontent-%COMP%]   .image-overlay[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   .cached-images-grid[_ngcontent-%COMP%]   .cached-image-item[_ngcontent-%COMP%]   .image-overlay[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .select-btn[_ngcontent-%COMP%]{background:#4caf50e6}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   .cached-images-grid[_ngcontent-%COMP%]   .cached-image-item[_ngcontent-%COMP%]   .image-overlay[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .select-btn[_ngcontent-%COMP%]:hover{background:#4caf50}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   .cached-images-grid[_ngcontent-%COMP%]   .cached-image-item[_ngcontent-%COMP%]   .image-overlay[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{background:#f44336e6}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   .cached-images-grid[_ngcontent-%COMP%]   .cached-image-item[_ngcontent-%COMP%]   .image-overlay[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{background:#f44336}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .cached-images-section[_ngcontent-%COMP%]   .cached-images-grid[_ngcontent-%COMP%]   .cached-image-item[_ngcontent-%COMP%]:hover   .image-overlay[_ngcontent-%COMP%]{opacity:1}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{padding:0;margin:1rem 0 0;gap:1rem;justify-content:flex-end;flex-wrap:wrap;flex-shrink:0}.portrait-upload-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;min-width:fit-content}"]})};var Ca=class n{constructor(t){this.http=t;this.checkServerAvailability()}apiUrl=window.location.hostname==="localhost"&&window.location.port==="4200"?"http://localhost:3000/api/characters":"/api/characters";useServer=!1;serverAvailable=null;checkServerAvailability(){let t=this.apiUrl.replace("/api/characters","/api/health");this.http.get(t,{observe:"response"}).pipe(se(()=>!0),vn(()=>te(!1))).subscribe(e=>{this.serverAvailable=e,this.useServer=e,console.log(e?"Backend server detected, using API":"Backend server not available, using localStorage")})}saveCharacter(t){let e=this.serializeCharacter(t);return this.serverAvailable===null||!this.useServer?this.saveToLocalStorage(t):this.http.post(`${this.apiUrl}/save`,e).pipe(vn(i=>(console.warn("Failed to save to server, falling back to localStorage",i),this.useServer=!1,this.saveToLocalStorage(t))))}loadCharacter(t){return this.serverAvailable===null||!this.useServer?this.loadFromLocalStorage(t):this.http.get(`${this.apiUrl}/load/${t}`).pipe(se(e=>this.deserializeCharacter(e)),vn(e=>(console.warn("Failed to load from server, trying localStorage",e),this.loadFromLocalStorage(t))))}listCharacters(){return this.serverAvailable===null||!this.useServer?this.listFromLocalStorage():this.http.get(`${this.apiUrl}/list`).pipe(vn(t=>(console.warn("Failed to list from server, using localStorage",t),this.listFromLocalStorage())))}deleteCharacter(t){return this.serverAvailable===null||!this.useServer?this.deleteFromLocalStorage(t):this.http.delete(`${this.apiUrl}/delete/${t}`).pipe(vn(e=>(console.warn("Failed to delete from server, using localStorage",e),this.deleteFromLocalStorage(t))))}exportCharacter(t){let e=this.serializeCharacter(t),i=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=window.URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=`${t.name||"character"}_${Date.now()}.json`,o.click(),window.URL.revokeObjectURL(r)}serializeCharacter(t){return{id:t.id||this.generateId(t),name:t.name,level:t.level,ancestry:t.ancestry,cultures:t.cultures,paths:t.paths,selectedExpertises:t.selectedExpertises||[],attributes:{strength:t.attributes.strength,speed:t.attributes.speed,intellect:t.attributes.intellect,willpower:t.attributes.willpower,awareness:t.attributes.awareness,presence:t.attributes.presence},skills:t.skills.getAllSkillRanks(),unlockedTalents:Array.from(t.unlockedTalents),health:{current:t.resources.health.current,max:t.resources.health.max},focus:{current:t.resources.focus.current,max:t.resources.focus.max},investiture:{current:t.resources.investiture.current,max:t.resources.investiture.max},radiantPath:t.radiantPath.toJSON(),inventory:t.inventory.serialize(),sessionNotes:t.sessionNotes||"",lastModified:new Date().toISOString()}}deserializeCharacter(t){let e=new Nr;if(e.id=t.id,e.level=t.level||1,e.name=t.name||"",e.ancestry=t.ancestry||null,e.cultures=t.cultures||[],e.paths=t.paths||[],t.selectedExpertises&&Array.isArray(t.selectedExpertises)&&t.selectedExpertises.length>0&&(typeof t.selectedExpertises[0]=="string"?e.selectedExpertises=Bn.migrateFromStringArray(t.selectedExpertises):e.selectedExpertises=t.selectedExpertises),t.attributes&&(e.attributes.strength=t.attributes.strength||0,e.attributes.speed=t.attributes.speed||0,e.attributes.intellect=t.attributes.intellect||0,e.attributes.willpower=t.attributes.willpower||0,e.attributes.awareness=t.attributes.awareness||0,e.attributes.presence=t.attributes.presence||0),t.skills&&Object.entries(t.skills).forEach(([i,r])=>{e.skills.setSkillRank(i,r)}),t.unlockedTalents&&t.unlockedTalents.forEach(i=>{e.unlockedTalents.add(i)}),t.health){let i=t.health.current-e.resources.health.current;i!==0&&(i>0?e.resources.health.restore(i):e.resources.health.spend(Math.abs(i)))}if(t.focus){let i=t.focus.current-e.resources.focus.current;i!==0&&(i>0?e.resources.focus.restore(i):e.resources.focus.spend(Math.abs(i)))}if(t.investiture){let i=t.investiture.current-e.resources.investiture.current;i!==0&&(i>0?e.resources.investiture.restore(i):e.resources.investiture.spend(Math.abs(i)))}return t.radiantPath&&e.radiantPath.fromJSON(t.radiantPath),t.inventory&&e.inventory.deserialize(t.inventory),e.sessionNotes=t.sessionNotes||"",e}generateId(t){let e=t.id;if(e)return e;let i=t.name.toLowerCase().replace(/\s+/g,"_")||"character",r=Date.now();return`${i}_${r}`}saveToLocalStorage(t){let e=this.serializeCharacter(t),i=e.id;try{let r=this.getAllFromLocalStorage();return t.id&&delete r[t.id],r[i]=e,localStorage.setItem("saved_characters",JSON.stringify(r)),t.id=i,te({success:!0,id:i})}catch(r){return console.error("Error saving to localStorage:",r),te({success:!1,id:""})}}loadFromLocalStorage(t){try{let i=this.getAllFromLocalStorage()[t];return i?te(this.deserializeCharacter(i)):te(null)}catch(e){return console.error("Error loading from localStorage:",e),te(null)}}listFromLocalStorage(){try{let t=this.getAllFromLocalStorage(),e=Object.values(t).map(i=>({id:i.id,name:i.name,level:i.level,ancestry:i.ancestry,lastModified:i.lastModified,data:i}));return te(e)}catch(t){return console.error("Error listing from localStorage:",t),te([])}}deleteFromLocalStorage(t){try{let e=this.getAllFromLocalStorage();return delete e[t],localStorage.setItem("saved_characters",JSON.stringify(e)),te({success:!0})}catch(e){return console.error("Error deleting from localStorage:",e),te({success:!1})}}getAllFromLocalStorage(){let t=localStorage.getItem("saved_characters");return t?JSON.parse(t):{}}static \u0275fac=function(e){return new(e||n)(ne(Xo))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};function p6(n,t){if(n&1&&(l(0,"span",31),u(1),c()),n&2){let e=t.$implicit;m(),O(" ",e.name," ")}}function h6(n,t){if(n&1&&(l(0,"mat-card",10)(1,"mat-card-header")(2,"mat-icon",6),u(3,"language"),c(),l(4,"mat-card-title"),u(5,"Cultural Background"),c()(),l(6,"mat-card-content")(7,"div",29),x(8,p6,2,1,"span",30),c()()()),n&2){let e=v(2);m(8),g("ngForOf",e.character.cultures)}}function f6(n,t){if(n&1&&(l(0,"div",34)(1,"mat-icon"),u(2,"arrow_forward"),c(),l(3,"span"),u(4),c()()),n&2){let e=t.$implicit;m(4),w(e)}}function g6(n,t){if(n&1&&(l(0,"mat-card",10)(1,"mat-card-header")(2,"mat-icon",6),u(3,"route"),c(),l(4,"mat-card-title"),u(5,"Heroic Path"),c()(),l(6,"mat-card-content")(7,"div",32),x(8,f6,5,1,"div",33),c()()()),n&2){let e=v(2);m(8),g("ngForOf",e.character.paths)}}function _6(n,t){if(n&1&&(l(0,"div",37)(1,"span",38),u(2),c(),l(3,"span",39),u(4),c()()),n&2){let e=t.$implicit;m(2),w(e.name),m(2),O("Rank ",e.rank)}}function v6(n,t){if(n&1&&(l(0,"div",35),x(1,_6,5,2,"div",36),c()),n&2){let e=v(2);m(),g("ngForOf",e.getTrainedSkills())}}function y6(n,t){n&1&&(l(0,"p",40),u(1," No skills trained "),c())}function b6(n,t){if(n&1&&(l(0,"div",43)(1,"mat-icon",44),u(2,"check_circle"),c(),l(3,"span",45),u(4),c(),l(5,"span",46),u(6),c()()),n&2){let e=t.$implicit,i=v(3);m(4),w(e.name),m(),Ie("badge-"+e.source),m(),O(" ",i.getExpertiseSourceBadge(e)," ")}}function C6(n,t){if(n&1&&(l(0,"div",41),x(1,b6,7,4,"div",42),c()),n&2){let e=v(2);m(),g("ngForOf",e.getSelectedExpertises())}}function x6(n,t){n&1&&(l(0,"p",40),u(1," No expertises selected "),c())}function w6(n,t){if(n&1&&(l(0,"div",49)(1,"div",50)(2,"mat-icon",51),u(3,"stars"),c(),l(4,"span",52),u(5),c(),l(6,"span",53),u(7),c()(),l(8,"p",54),u(9),c()()),n&2){let e=t.$implicit;m(5),w(e.name),m(2),O("Tier ",e.tier),m(2),w(e.description)}}function M6(n,t){if(n&1&&(l(0,"div",47),x(1,w6,10,3,"div",48),c()),n&2){let e=v(2);m(),g("ngForOf",e.getUnlockedTalents())}}function E6(n,t){n&1&&(l(0,"p",40),u(1," No talents selected "),c())}function S6(n,t){if(n&1&&(l(0,"div",59)(1,"div",60)(2,"mat-icon",61),u(3,"account_balance"),c(),l(4,"span",62),u(5,"Currency:"),c(),l(6,"span",63),u(7),c()()()),n&2){let e=v(3);m(7),Yo(" ",e.getCurrency().broams,"b ",e.getCurrency().marks,"m ",e.getCurrency().chips,"c ")}}function O6(n,t){if(n&1&&(l(0,"div",68)(1,"mat-icon",69),u(2),c(),l(3,"div",70)(4,"span",71),u(5),c(),l(6,"span",72),u(7),c()()()),n&2){let e=t.$implicit,i=v(4);m(2),w(i.getItemIcon(e.type)),m(3),w(e.name),m(2),w(e.slot)}}function P6(n,t){if(n&1&&(l(0,"div",64)(1,"h3",65)(2,"mat-icon"),u(3,"shield"),c(),u(4," Equipped Items "),c(),l(5,"div",66),x(6,O6,8,3,"div",67),c()()),n&2){let e=v(3);m(6),g("ngForOf",e.getEquippedItems())}}function k6(n,t){if(n&1&&(l(0,"span",78),u(1),c()),n&2){let e=v().$implicit;m(),O("\xD7",e.quantity)}}function I6(n,t){if(n&1&&(l(0,"div",76)(1,"mat-icon",69),u(2),c(),l(3,"span",71),u(4),c(),x(5,k6,2,1,"span",77),c()),n&2){let e=t.$implicit,i=v(4);m(2),w(i.getItemIcon(e.type)),m(2),w(e.name),m(),g("ngIf",e.quantity&&e.quantity>1)}}function D6(n,t){if(n&1&&(l(0,"div",73)(1,"h3",65)(2,"mat-icon"),u(3,"inventory"),c(),u(4),c(),l(5,"div",74),x(6,I6,6,3,"div",75),c()()),n&2){let e=v(3);m(4),O(" Carried Items (",e.getInventoryItems().length,") "),m(2),g("ngForOf",e.getInventoryItems())}}function T6(n,t){if(n&1&&(l(0,"div",79)(1,"mat-icon",80),u(2,"fitness_center"),c(),l(3,"span",81),u(4,"Total Weight:"),c(),l(5,"span",82),u(6),c()()),n&2){let e=v(3);m(6),O("",e.getTotalWeight()," lbs")}}function A6(n,t){n&1&&(l(0,"p",40),u(1," No equipment "),c())}function R6(n,t){if(n&1&&(l(0,"mat-card",10)(1,"mat-card-header")(2,"mat-icon",6),u(3,"shopping_bag"),c(),l(4,"mat-card-title"),u(5,"Starting Equipment"),c()(),l(6,"mat-card-content"),x(7,S6,8,3,"div",55)(8,P6,7,1,"div",56)(9,D6,7,2,"div",57)(10,T6,7,1,"div",58)(11,A6,2,0,"p",22),c()()),n&2){let e=v(2);m(7),g("ngIf",e.character),m(),g("ngIf",e.hasEquippedItems()),m(),g("ngIf",e.hasInventoryItems()),m(),g("ngIf",e.character),m(),g("ngIf",!e.hasInventoryItems()&&!e.hasEquippedItems())}}function N6(n,t){if(n&1){let e=F();l(0,"div",1)(1,"div",2)(2,"h1"),u(3,"Character Complete!"),c(),l(4,"p",3),u(5,"Review your character before finalizing"),c()(),l(6,"div",4)(7,"mat-card",5)(8,"mat-card-header")(9,"mat-icon",6),u(10,"portrait"),c(),l(11,"mat-card-title"),u(12,"Character Portrait"),c()(),l(13,"mat-card-content")(14,"div",7),q(15,"app-character-image",8),l(16,"button",9),C("click",function(){E(e);let r=v();return S(r.openPortraitUpload())}),l(17,"mat-icon"),u(18),c(),u(19),c()()()(),l(20,"mat-card",10)(21,"mat-card-header")(22,"mat-icon",6),u(23,"person"),c(),l(24,"mat-card-title"),u(25,"Basic Information"),c()(),l(26,"mat-card-content")(27,"div",11)(28,"div",12)(29,"span",13),u(30,"Name:"),c(),l(31,"span",14),u(32),c()(),l(33,"div",12)(34,"span",13),u(35,"Level:"),c(),l(36,"span",15),u(37),c()(),l(38,"div",12)(39,"span",13),u(40,"Ancestry:"),c(),l(41,"span",15),u(42),c()()()()(),x(43,h6,9,1,"mat-card",16)(44,g6,9,1,"mat-card",16),l(45,"mat-card",10)(46,"mat-card-header")(47,"mat-icon",6),u(48,"fitness_center"),c(),l(49,"mat-card-title"),u(50,"Attributes"),c()(),l(51,"mat-card-content")(52,"div",17)(53,"div",18)(54,"div",19),u(55,"Strength"),c(),l(56,"div",20),u(57),c()(),l(58,"div",18)(59,"div",19),u(60,"Speed"),c(),l(61,"div",20),u(62),c()(),l(63,"div",18)(64,"div",19),u(65,"Intellect"),c(),l(66,"div",20),u(67),c()(),l(68,"div",18)(69,"div",19),u(70,"Willpower"),c(),l(71,"div",20),u(72),c()(),l(73,"div",18)(74,"div",19),u(75,"Awareness"),c(),l(76,"div",20),u(77),c()(),l(78,"div",18)(79,"div",19),u(80,"Presence"),c(),l(81,"div",20),u(82),c()()()()(),l(83,"mat-card",10)(84,"mat-card-header")(85,"mat-icon",6),u(86,"school"),c(),l(87,"mat-card-title"),u(88),c()(),l(89,"mat-card-content"),x(90,v6,2,1,"div",21)(91,y6,2,0,"p",22),c()(),l(92,"mat-card",10)(93,"mat-card-header")(94,"mat-icon",6),u(95,"auto_stories"),c(),l(96,"mat-card-title"),u(97),c()(),l(98,"mat-card-content"),x(99,C6,2,1,"div",23)(100,x6,2,0,"p",22),c()(),l(101,"mat-card",10)(102,"mat-card-header")(103,"mat-icon",6),u(104,"stars"),c(),l(105,"mat-card-title"),u(106),c()(),l(107,"mat-card-content"),x(108,M6,2,1,"div",24)(109,E6,2,0,"p",22),c()(),x(110,R6,12,5,"mat-card",16),c(),l(111,"div",25),q(112,"mat-divider"),l(113,"div",26)(114,"p",27),u(115," Ready to begin your adventure? Once finalized, you can export or save your character. "),c(),l(116,"button",28),C("click",function(){E(e);let r=v();return S(r.finalizeCharacter())}),l(117,"mat-icon"),u(118,"done_all"),c(),u(119," Finalize Character "),c()()()()}if(n&2){let e=v();m(15),g("imageUrl",e.portraitUrl)("characterName",e.character.name||"Character")("size","large")("showPlaceholder",!0),m(3),w(e.portraitUrl?"edit":"add_photo_alternate"),m(),O(" ",e.portraitUrl?"Change Portrait":"Add Portrait"," "),m(13),w(e.character.name||"Unnamed Hero"),m(5),w(e.character.level),m(5),w(e.character.ancestry||"None"),m(),g("ngIf",e.character.cultures.length>0),m(),g("ngIf",e.character.paths.length>0),m(13),w(e.character.attributes.strength),m(5),w(e.character.attributes.speed),m(5),w(e.character.attributes.intellect),m(5),w(e.character.attributes.willpower),m(5),w(e.character.attributes.awareness),m(5),w(e.character.attributes.presence),m(6),O("Trained Skills (",e.getTrainedSkills().length,")"),m(2),g("ngIf",e.getTrainedSkills().length>0),m(),g("ngIf",e.getTrainedSkills().length===0),m(6),O("Expertises (",e.getSelectedExpertises().length,")"),m(2),g("ngIf",e.getSelectedExpertises().length>0),m(),g("ngIf",e.getSelectedExpertises().length===0),m(6),O("Talents (",e.getUnlockedTalents().length,")"),m(2),g("ngIf",e.getUnlockedTalents().length>0),m(),g("ngIf",e.getUnlockedTalents().length===0),m(),g("ngIf",e.hasInventoryItems()||e.hasEquippedItems())}}var Lg=class n{constructor(t,e,i,r,o){this.characterState=t;this.characterStorage=e;this.router=i;this.dialog=r;this.cdr=o}destroy$=new P;character=null;portraitUrl=null;ngOnInit(){this.characterState.character$.pipe(L(this.destroy$)).subscribe(t=>{this.character=t,this.portraitUrl=t?.portraitUrl||null})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getTrainedSkills(){let t=[];if(this.character?.skills)try{let e=this.character.skills.getAllSkillRanks();Object.entries(e).forEach(([i,r])=>{r>0&&t.push({name:this.formatSkillName(i),rank:r})})}catch(e){console.error("Error accessing skill ranks:",e)}return t.sort((e,i)=>e.name.localeCompare(i.name))}formatSkillName(t){return t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}getSelectedExpertises(){return this.character?.selectedExpertises||[]}getExpertiseSourceBadge(t){return Bn.getSourceBadge(t.source)}getTalentIds(){return Array.from(this.character?.unlockedTalents||[])}getTalentCount(t){if(!this.character)return 0;let e=0;return this.character.unlockedTalents.forEach(()=>{e++}),e}finalizeCharacter(){this.character&&this.characterStorage.saveCharacter(this.character).pipe(L(this.destroy$)).subscribe(t=>{t.success?(console.log("Character saved:",t.id),this.router.navigate(["/character-sheet",t.id])):alert("Failed to save character. Please try again.")})}openPortraitUpload(){if(!this.character)return;this.dialog.open(il,{width:"600px",data:{currentImageUrl:this.character.portraitUrl||null,characterId:this.character.id,characterName:this.character.name||"Character"}}).afterClosed().subscribe(e=>{e!==void 0&&this.character&&setTimeout(()=>{if(this.character){if(e){let i=e.split("?")[0];this.character.portraitUrl=i,this.portraitUrl=i}else delete this.character.portraitUrl,this.portraitUrl=null;this.characterState.updateCharacter(this.character),this.cdr.detectChanges()}},0)})}getPortraitUrl(){return this.character?.portraitUrl||null}getUnlockedTalents(){let t=[];return this.character?.unlockedTalents&&this.character.unlockedTalents.size>0&&this.character.unlockedTalents.forEach(e=>{let i=this.findTalentById(e);i&&t.push({name:i.name,tier:i.tier,description:i.description})}),t.sort((e,i)=>e.tier-i.tier||e.name.localeCompare(i.name))}findTalentById(t){let e=[];Object.values(hs).forEach(r=>{r.talentNodes&&e.push({pathName:r.name,nodes:r.talentNodes}),e.push(...r.paths)});let i=nr("singer");i&&e.push(i);for(let r of e){let o=r.nodes.find(a=>a.id===t);if(o)return o}return null}getTalentName(t){let e=this.findTalentById(t);return e?e.name:t.split("_").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ")}hasInventoryItems(){if(!this.character?.inventory)return!1;let t=this.character.inventory.getAllItems(),e=this.character.inventory.getAllEquippedItems(),i=new Set(e.map(r=>r.id));return t.some(r=>!i.has(r.id))}hasEquippedItems(){return this.character?.inventory?this.character.inventory.getAllEquippedItems().length>0:!1}getInventoryItems(){if(!this.character?.inventory)return[];let t=this.character.inventory.getAllItems(),e=this.character.inventory.getAllEquippedItems(),i=new Set(e.map(r=>r.id));return t.filter(r=>!i.has(r.id))}getEquippedItems(){return this.character?.inventory?this.character.inventory.getAllEquippedItems():[]}getCurrency(){if(!this.character?.inventory)return{broams:0,marks:0,chips:0};let t=this.character.inventory.getCurrency(),e=Math.floor(t/20),i=Math.floor(t%20/5),r=t%5;return{broams:e,marks:i,chips:r}}getTotalWeight(){return this.character?.inventory?this.character.inventory.getTotalWeight():0}getItemIcon(t){return{weapon:"gavel",armor:"shield",consumable:"medical_services",tool:"build",fabrial:"blur_on",misc:"category"}[t]||"inventory_2"}static \u0275fac=function(e){return new(e||n)(k(Ne),k(Ca),k(Pt),k(Ai),k(fe))};static \u0275cmp=D({type:n,selectors:[["app-character-review"]],decls:1,vars:1,consts:[["class","character-review-container",4,"ngIf"],[1,"character-review-container"],[1,"review-header"],[1,"subtitle"],[1,"review-content"],[1,"review-card","portrait-card"],[1,"section-icon"],[1,"portrait-section"],[3,"imageUrl","characterName","size","showPlaceholder"],["mat-raised-button","","color","primary",3,"click"],[1,"review-card"],[1,"info-grid"],[1,"info-item"],[1,"label"],[1,"value","highlight-name"],[1,"value"],["class","review-card",4,"ngIf"],[1,"attributes-display"],[1,"attribute-box"],[1,"attr-name"],[1,"attr-value"],["class","skills-display",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","expertises-display",4,"ngIf"],["class","talents-display",4,"ngIf"],[1,"finalize-section"],[1,"finalize-content"],[1,"finalize-message"],["mat-raised-button","","color","primary",1,"finalize-button",3,"click"],[1,"chip-list"],["class","culture-chip",4,"ngFor","ngForOf"],[1,"culture-chip"],[1,"path-display"],["class","path-item",4,"ngFor","ngForOf"],[1,"path-item"],[1,"skills-display"],["class","skill-item",4,"ngFor","ngForOf"],[1,"skill-item"],[1,"skill-name"],[1,"skill-rank"],[1,"empty-state"],[1,"expertises-display"],["class","expertise-item",4,"ngFor","ngForOf"],[1,"expertise-item"],[1,"expertise-icon"],[1,"expertise-name"],[1,"expertise-source-badge"],[1,"talents-display"],["class","talent-item-detailed",4,"ngFor","ngForOf"],[1,"talent-item-detailed"],[1,"talent-header"],[1,"talent-icon"],[1,"talent-name"],[1,"talent-tier"],[1,"talent-description"],["class","currency-display",4,"ngIf"],["class","equipped-section",4,"ngIf"],["class","inventory-section",4,"ngIf"],["class","weight-display",4,"ngIf"],[1,"currency-display"],[1,"currency-item"],[1,"currency-icon"],[1,"currency-label"],[1,"currency-value"],[1,"equipped-section"],[1,"subsection-title"],[1,"equipped-items-list"],["class","equipped-item",4,"ngFor","ngForOf"],[1,"equipped-item"],[1,"item-icon"],[1,"item-details"],[1,"item-name"],[1,"item-slot"],[1,"inventory-section"],[1,"inventory-items-list"],["class","inventory-item",4,"ngFor","ngForOf"],[1,"inventory-item"],["class","item-quantity",4,"ngIf"],[1,"item-quantity"],[1,"weight-display"],[1,"weight-icon"],[1,"weight-label"],[1,"weight-value"]],template:function(e,i){e&1&&x(0,N6,120,27,"div",0),e&2&&g("ngIf",i.character)},dependencies:[Q,ue,ie,Re,qe,Ke,dt,lt,ge,Pe,oe,le,Ri,So,Zt,nl],styles:[".review-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.review-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:#fff;margin-bottom:.5rem}.review-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.2rem;color:#e8e8e8}.review-content[_ngcontent-%COMP%]{display:grid;gap:1.5rem;margin-bottom:2rem}.review-card[_ngcontent-%COMP%]{background-color:var(--gpSystemDarkerGrey)!important}.review-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.review-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px;color:var(--gpColor-ChalkyBlue)}.review-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:500;color:#fff}.review-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1rem}.review-card.portrait-card[_ngcontent-%COMP%]   .portrait-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.5rem;padding:1rem}.review-card.portrait-card[_ngcontent-%COMP%]   .portrait-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.85rem;color:#e8e8e8;text-transform:uppercase;letter-spacing:.5px}.info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;color:#fff}.info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .value.highlight-name[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--gpColor-ChalkyBlue);font-weight:600}.chip-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.chip-list[_ngcontent-%COMP%]   .culture-chip[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:var(--gpSystemDarkGrey);color:#fff;border-radius:16px;font-weight:500}.path-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}.path-display[_ngcontent-%COMP%]   .path-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background-color:var(--gpSystemDarkGrey);border-radius:8px;font-size:1rem;font-weight:500;color:#fff}.path-display[_ngcontent-%COMP%]   .path-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue)}.attributes-display[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:1rem}.attributes-display[_ngcontent-%COMP%]   .attribute-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1rem;background:var(--gpSystemDarkGrey);border-radius:12px;color:#fff}.attributes-display[_ngcontent-%COMP%]   .attribute-box[_ngcontent-%COMP%]   .attr-name[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem;color:#e8e8e8}.attributes-display[_ngcontent-%COMP%]   .attribute-box[_ngcontent-%COMP%]   .attr-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--gpColor-ChalkyBlue)}.skills-display[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:.75rem}.skills-display[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;background-color:var(--gpSystemDarkGrey);border-radius:8px;border-left:3px solid var(--gpColor-ChalkyBlue)}.skills-display[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%]{font-weight:500;color:#fff}.skills-display[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-rank[_ngcontent-%COMP%]{font-weight:600;color:var(--gpColor-ChalkyBlue);font-size:.9rem}.expertises-display[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:.75rem}.expertises-display[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;background-color:var(--gpSystemDarkGrey);border-radius:8px;border-left:3px solid var(--gpColor-ChalkyBlue)}.expertises-display[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-icon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue);font-size:1.25rem;width:1.25rem;height:1.25rem}.expertises-display[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-name[_ngcontent-%COMP%]{font-weight:500;color:#fff;flex:1}.expertises-display[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-source-badge[_ngcontent-%COMP%]{font-size:.7rem;padding:.15rem .5rem;border-radius:10px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.expertises-display[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-source-badge.badge-culture[_ngcontent-%COMP%]{background:#7e57c2;color:#fff}.expertises-display[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-source-badge.badge-talent[_ngcontent-%COMP%]{background:#ff9800;color:#fff}.expertises-display[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-source-badge.badge-gm[_ngcontent-%COMP%]{background:#f44336;color:#fff}.expertises-display[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-source-badge.badge-manual[_ngcontent-%COMP%]{background:#ffffff26;color:#e8e8e8}.talents-display[_ngcontent-%COMP%]{display:grid;gap:1rem}.talents-display[_ngcontent-%COMP%]   .talent-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background-color:var(--gpSystemDarkGrey);border-radius:6px}.talents-display[_ngcontent-%COMP%]   .talent-item[_ngcontent-%COMP%]   .talent-icon[_ngcontent-%COMP%]{color:var(--gpColor-Green);font-size:20px;width:20px;height:20px}.talents-display[_ngcontent-%COMP%]   .talent-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.95rem;color:#fff}.talents-display[_ngcontent-%COMP%]   .talent-item-detailed[_ngcontent-%COMP%]{padding:1rem;background-color:var(--gpSystemDarkGrey);border-radius:8px;border-left:3px solid var(--gpColor-ChalkyBlue)}.talents-display[_ngcontent-%COMP%]   .talent-item-detailed[_ngcontent-%COMP%]   .talent-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem}.talents-display[_ngcontent-%COMP%]   .talent-item-detailed[_ngcontent-%COMP%]   .talent-header[_ngcontent-%COMP%]   .talent-icon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue);font-size:20px;width:20px;height:20px}.talents-display[_ngcontent-%COMP%]   .talent-item-detailed[_ngcontent-%COMP%]   .talent-header[_ngcontent-%COMP%]   .talent-name[_ngcontent-%COMP%]{flex:1;font-size:1.05rem;font-weight:600;color:#fff}.talents-display[_ngcontent-%COMP%]   .talent-item-detailed[_ngcontent-%COMP%]   .talent-header[_ngcontent-%COMP%]   .talent-tier[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;color:#e8e8e8;background-color:var(--gpSystemDarkerGrey);padding:.25rem .75rem;border-radius:12px}.talents-display[_ngcontent-%COMP%]   .talent-item-detailed[_ngcontent-%COMP%]   .talent-description[_ngcontent-%COMP%]{margin:0;font-size:.9rem;line-height:1.5;color:#e8e8e8;padding-left:28px}.currency-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;background-color:var(--gpSystemDarkGrey);border-radius:8px;margin-bottom:1rem}.currency-display[_ngcontent-%COMP%]   .currency-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.currency-display[_ngcontent-%COMP%]   .currency-item[_ngcontent-%COMP%]   .currency-icon[_ngcontent-%COMP%]{color:gold;font-size:24px;width:24px;height:24px}.currency-display[_ngcontent-%COMP%]   .currency-item[_ngcontent-%COMP%]   .currency-label[_ngcontent-%COMP%]{font-size:.9rem;color:#e8e8e8}.currency-display[_ngcontent-%COMP%]   .currency-item[_ngcontent-%COMP%]   .currency-value[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:gold}.equipped-section[_ngcontent-%COMP%], .inventory-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.equipped-section[_ngcontent-%COMP%]   .subsection-title[_ngcontent-%COMP%], .inventory-section[_ngcontent-%COMP%]   .subsection-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1rem;font-weight:600;color:var(--gpColor-ChalkyBlue);margin-bottom:.75rem}.equipped-section[_ngcontent-%COMP%]   .subsection-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .inventory-section[_ngcontent-%COMP%]   .subsection-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.equipped-items-list[_ngcontent-%COMP%]{display:grid;gap:.5rem}.equipped-items-list[_ngcontent-%COMP%]   .equipped-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem;background-color:var(--gpSystemDarkGrey);border-radius:6px;border-left:3px solid var(--gpColor-ChalkyBlue)}.equipped-items-list[_ngcontent-%COMP%]   .equipped-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue);font-size:20px;width:20px;height:20px}.equipped-items-list[_ngcontent-%COMP%]   .equipped-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;flex:1}.equipped-items-list[_ngcontent-%COMP%]   .equipped-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500;color:#fff}.equipped-items-list[_ngcontent-%COMP%]   .equipped-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-slot[_ngcontent-%COMP%]{font-size:.8rem;color:#e8e8e8;text-transform:capitalize}.inventory-items-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:.5rem}.inventory-items-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background-color:var(--gpSystemDarkGrey);border-radius:4px}.inventory-items-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{color:#e8e8e8;font-size:18px;width:18px;height:18px}.inventory-items-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-size:.9rem;color:#fff;flex:1}.inventory-items-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .item-quantity[_ngcontent-%COMP%]{font-size:.85rem;color:#e8e8e8;font-weight:600}.weight-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem;background-color:var(--gpSystemDarkGrey);border-radius:6px;margin-top:1rem}.weight-display[_ngcontent-%COMP%]   .weight-icon[_ngcontent-%COMP%]{color:#e8e8e8;font-size:20px;width:20px;height:20px}.weight-display[_ngcontent-%COMP%]   .weight-label[_ngcontent-%COMP%]{font-size:.9rem;color:#e8e8e8}.weight-display[_ngcontent-%COMP%]   .weight-value[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#fff}.empty-state[_ngcontent-%COMP%]{text-align:center;color:#e8e8e8;font-style:italic;padding:2rem}.finalize-section[_ngcontent-%COMP%]{margin-top:3rem}.finalize-section[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{margin-bottom:2rem}.finalize-section[_ngcontent-%COMP%]   .finalize-content[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:var(--gpSystemDarkerGrey);border-radius:12px;color:#fff;border:2px solid var(--gpColor-ChalkyBlue)}.finalize-section[_ngcontent-%COMP%]   .finalize-content[_ngcontent-%COMP%]   .finalize-message[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:1.5rem;line-height:1.6;color:#fff}.finalize-section[_ngcontent-%COMP%]   .finalize-content[_ngcontent-%COMP%]   .finalize-button[_ngcontent-%COMP%]{font-size:1.2rem;padding:.75rem 2.5rem;height:auto;background-color:var(--gpColor-ChalkyBlue);color:#fff}.finalize-section[_ngcontent-%COMP%]   .finalize-content[_ngcontent-%COMP%]   .finalize-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.finalize-section[_ngcontent-%COMP%]   .finalize-content[_ngcontent-%COMP%]   .finalize-button[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;transform:translateY(-2px);box-shadow:0 4px 12px #0003}.finalize-section[_ngcontent-%COMP%]   .finalize-content[_ngcontent-%COMP%]   .finalize-button[_ngcontent-%COMP%]{transition:all .3s ease}@media(max-width:768px){.character-review-container[_ngcontent-%COMP%]{padding-bottom:6rem}}"]})};function F6(n,t){n&1&&tn(0,"div",2)}var L6=new I("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var PA=(()=>{class n{_elementRef=f(G);_ngZone=f($);_changeDetectorRef=f(fe);_renderer=f(rt);_cleanupTransitionEnd;constructor(){let e=Jd(),i=f(L6,{optional:!0});this._isNoopAnimation=e==="di-disabled",e==="reduced-motion"&&this._elementRef.nativeElement.classList.add("mat-progress-bar-reduced-motion"),i&&(i.color&&(this.color=this._defaultColor=i.color),this.mode=i.mode||this.mode)}_isNoopAnimation;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";get value(){return this._value}set value(e){this._value=OA(e||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=OA(e||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new U;get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=e=>{this.animationEnd.observers.length===0||!e.target||!e.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(i,r){i&2&&(X("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),Ie("mat-"+r.color),T("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",Vt],bufferValue:[2,"bufferValue","bufferValue",Vt],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,r){i&1&&(Je(0,"div",0),tn(1,"div",1),Ee(2,F6,1,0,"div",2),et(),Je(3,"div",3),tn(4,"span",4),et(),Je(5,"div",5),tn(6,"span",4),et()),i&2&&(m(),bt("flex-basis",r._getBufferBarFlexBasis()),m(),Se(r.mode==="buffer"?2:-1),m(),bt("transform",r._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{--mat-progress-bar-animation-multiplier: 1;display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mat-progress-bar-reduced-motion{--mat-progress-bar-animation-multiplier: 2}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mat-progress-bar-track-height, 4px),var(--mat-progress-bar-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mat-progress-bar-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mat-progress-bar-track-height, 4px);border-radius:var(--mat-progress-bar-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{background-image:radial-gradient(circle, var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant)) calc(var(--mat-progress-bar-track-height, 4px) / 2), transparent 0);background-repeat:repeat-x;background-size:calc(calc(var(--mat-progress-bar-track-height, 4px) / 2)*5);background-position:left;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mat-progress-bar-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}
`],encapsulation:2,changeDetection:0})}return n})();function OA(n,t=0,e=100){return Math.max(t,Math.min(e,n))}var Vg=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[Oe]})}return n})();function B6(n,t){if(n&1&&(l(0,"mat-icon",31),u(1),c()),n&2){let e=v().ngIf,i=v(3);T("expertise-unlocked",i.canUseExpertTraits(e))("expertise-locked",!i.canUseExpertTraits(e)),g("matTooltip",i.getExpertiseTooltip(e)),m(),O(" ",i.canUseExpertTraits(e)?"lock_open":"lock"," ")}}function j6(n,t){if(n&1&&(l(0,"div",32),u(1),c()),n&2){let e=v().ngIf;m(),ft(" ",e.weaponProperties.damage," ",e.weaponProperties.damageType," ")}}function z6(n,t){if(n&1){let e=F();l(0,"div")(1,"div",25)(2,"mat-icon"),u(3),c(),l(4,"div",26)(5,"div",27),u(6),x(7,B6,2,6,"mat-icon",28),c(),x(8,j6,2,2,"div",29),c(),l(9,"button",30),C("click",function(){let r=E(e).ngIf,o=v(3);return S(o.unequipItem(r))}),l(10,"mat-icon"),u(11,"close"),c()()()()}if(n&2){let e=t.ngIf,i=v(3);m(2),Ie("item-icon "+e.type),m(),w(i.getItemIcon(e)),m(3),O(" ",e.name," "),m(),g("ngIf",i.hasExpertTraits(e)),m(),g("ngIf",e.weaponProperties)}}function U6(n,t){n&1&&(l(0,"div",33),u(1,"No item equipped"),c())}function H6(n,t){if(n&1&&(l(0,"mat-icon",31),u(1),c()),n&2){let e=v().ngIf,i=v(3);T("expertise-unlocked",i.canUseExpertTraits(e))("expertise-locked",!i.canUseExpertTraits(e)),g("matTooltip",i.getExpertiseTooltip(e)),m(),O(" ",i.canUseExpertTraits(e)?"lock_open":"lock"," ")}}function q6(n,t){if(n&1&&(l(0,"div",32),u(1),c()),n&2){let e=v().ngIf;m(),ft(" ",e.weaponProperties.damage," ",e.weaponProperties.damageType," ")}}function $6(n,t){if(n&1){let e=F();l(0,"div")(1,"div",25)(2,"mat-icon"),u(3),c(),l(4,"div",26)(5,"div",27),u(6),x(7,H6,2,6,"mat-icon",28),c(),x(8,q6,2,2,"div",29),c(),l(9,"button",30),C("click",function(){let r=E(e).ngIf,o=v(3);return S(o.unequipItem(r))}),l(10,"mat-icon"),u(11,"close"),c()()()()}if(n&2){let e=t.ngIf,i=v(3);m(2),Ie("item-icon "+e.type),m(),w(i.getItemIcon(e)),m(3),O(" ",e.name," "),m(),g("ngIf",i.hasExpertTraits(e)),m(),g("ngIf",e.weaponProperties)}}function G6(n,t){if(n&1&&(l(0,"mat-icon",31),u(1),c()),n&2){let e=v().ngIf,i=v(3);T("expertise-unlocked",i.canUseExpertTraits(e))("expertise-locked",!i.canUseExpertTraits(e)),g("matTooltip",i.getExpertiseTooltip(e)),m(),O(" ",i.canUseExpertTraits(e)?"lock_open":"lock"," ")}}function W6(n,t){if(n&1&&(l(0,"div",32),u(1),c()),n&2){let e=v().ngIf;m(),O(" Deflect: ",e.armorProperties.deflectValue," ")}}function Y6(n,t){if(n&1){let e=F();l(0,"div")(1,"div",25)(2,"mat-icon"),u(3),c(),l(4,"div",26)(5,"div",27),u(6),x(7,G6,2,6,"mat-icon",28),c(),x(8,W6,2,1,"div",29),c(),l(9,"button",30),C("click",function(){let r=E(e).ngIf,o=v(3);return S(o.unequipItem(r))}),l(10,"mat-icon"),u(11,"close"),c()()()()}if(n&2){let e=t.ngIf,i=v(3);m(2),Ie("item-icon "+e.type),m(),w(i.getItemIcon(e)),m(3),O(" ",e.name," "),m(),g("ngIf",i.hasExpertTraits(e)),m(),g("ngIf",e.armorProperties)}}function K6(n,t){if(n&1){let e=F();l(0,"div")(1,"div",25)(2,"mat-icon"),u(3),c(),l(4,"div",26)(5,"div",27),u(6),c()(),l(7,"button",30),C("click",function(){let r=E(e).ngIf,o=v(3);return S(o.unequipItem(r))}),l(8,"mat-icon"),u(9,"close"),c()()()()}if(n&2){let e=t.ngIf,i=v(3);m(2),Ie("item-icon "+e.type),m(),w(i.getItemIcon(e)),m(3),w(e.name)}}function Q6(n,t){if(n&1&&(l(0,"div",20)(1,"div",21)(2,"mat-card",22)(3,"mat-card-header")(4,"mat-icon",23),u(5,"pan_tool"),c(),l(6,"mat-card-title"),u(7,"Main Hand"),c()(),l(8,"mat-card-content"),x(9,z6,12,6,"div",24)(10,U6,2,0,"ng-template",null,0,di),c()(),l(12,"mat-card",22)(13,"mat-card-header")(14,"mat-icon",23),u(15,"back_hand"),c(),l(16,"mat-card-title"),u(17,"Off Hand"),c()(),l(18,"mat-card-content"),x(19,$6,12,6,"div",24),c()(),l(20,"mat-card",22)(21,"mat-card-header")(22,"mat-icon",23),u(23,"shield"),c(),l(24,"mat-card-title"),u(25,"Armor"),c()(),l(26,"mat-card-content"),x(27,Y6,12,6,"div",24),c()(),l(28,"mat-card",22)(29,"mat-card-header")(30,"mat-icon",23),u(31,"auto_awesome"),c(),l(32,"mat-card-title"),u(33,"Accessory"),c()(),l(34,"mat-card-content"),x(35,K6,10,4,"div",24),c()()()()),n&2){let e=St(11),i=v(2);m(9),g("ngIf",i.getEquippedItem("mainHand"))("ngIfElse",e),m(10),g("ngIf",i.getEquippedItem("offHand"))("ngIfElse",e),m(8),g("ngIf",i.getEquippedItem("armor"))("ngIfElse",e),m(8),g("ngIf",i.getEquippedItem("accessory"))("ngIfElse",e)}}function Z6(n,t){if(n&1&&(l(0,"mat-icon",50),u(1),c()),n&2){let e=v().$implicit,i=v(3);T("expertise-unlocked",i.canUseExpertTraits(e))("expertise-locked",!i.canUseExpertTraits(e)),g("matTooltip",i.getExpertiseTooltip(e)),m(),O(" ",i.canUseExpertTraits(e)?"lock_open":"lock"," ")}}function X6(n,t){if(n&1&&(l(0,"span",51),u(1),c()),n&2){let e=v().$implicit;m(),O("x",e.quantity)}}function J6(n,t){if(n&1&&(l(0,"mat-chip",59),u(1),c()),n&2){let e=t.$implicit,i=v(2).$implicit,r=v(3);T("disabled",!r.canUseExpertTraits(i)),m(),O(" ",e," ")}}function e$(n,t){if(n&1&&(l(0,"p",60)(1,"mat-icon"),u(2,"info"),c(),u(3),c()),n&2){let e=v(2).$implicit,i=v(3);m(3),O(" ",i.getExpertiseTooltip(e)," ")}}function t$(n,t){if(n&1&&(l(0,"div",52)(1,"div",53)(2,"mat-icon"),u(3),c(),l(4,"span",54),u(5,"Expert Traits"),c(),l(6,"span",55),u(7),c()(),l(8,"div",56),x(9,J6,2,3,"mat-chip",57),c(),x(10,e$,4,1,"p",58),c()),n&2){let e=v().$implicit,i=v(3);m(2),T("unlocked",i.canUseExpertTraits(e))("locked",!i.canUseExpertTraits(e)),m(),O(" ",i.canUseExpertTraits(e)?"lock_open":"lock"," "),m(3),T("unlocked",i.canUseExpertTraits(e))("locked",!i.canUseExpertTraits(e)),m(),O(" ",i.canUseExpertTraits(e)?"Unlocked":"Locked"," "),m(2),g("ngForOf",i.getExpertTraitsList(e)),m(),g("ngIf",!i.canUseExpertTraits(e))}}function n$(n,t){if(n&1){let e=F();l(0,"button",61),C("click",function(){E(e);let r=v().$implicit,o=v(3);return S(o.equipItem(r))}),l(1,"mat-icon"),u(2,"shield"),c(),u(3," Equip "),c()}}function i$(n,t){if(n&1&&(l(0,"button",62),Wi(1,"number"),l(2,"mat-icon"),u(3,"sell"),c(),u(4," Sell "),c()),n&2){let e=v().$implicit;g("matTooltip",Pr("Sell for ",lo(1,2,e.price*.5,"1.0-0"),"mk"))}}function r$(n,t){if(n&1){let e=F();l(0,"mat-expansion-panel",38),C("opened",function(){let r=E(e).$implicit,o=v(3);return S(o.toggleItemExpansion(r.id))})("closed",function(){let r=E(e).$implicit,o=v(3);return S(o.toggleItemExpansion(r.id))}),l(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon"),u(4),c(),l(5,"span",39),u(6),c(),x(7,Z6,2,6,"mat-icon",40)(8,X6,2,1,"span",41),c(),l(9,"mat-panel-description")(10,"span",42),u(11),Wi(12,"number"),c(),l(13,"span",43),u(14),c()()(),l(15,"div",44)(16,"p",45),u(17),c(),x(18,t$,11,12,"div",46),l(19,"div",47),x(20,n$,4,0,"button",48)(21,i$,5,5,"button",49),c()()()}if(n&2){let e=t.$implicit,i=v(3);g("expanded",i.isItemExpanded(e.id)),m(3),Ie("item-icon "+e.type),m(),w(i.getItemIcon(e)),m(),g("matTooltip",e.name),m(),w(e.name),m(),g("ngIf",i.hasExpertTraits(e)),m(),g("ngIf",e.quantity>1),m(3),O("",lo(12,14,e.weight*e.quantity,"1.1-1")," lbs"),m(3),O("",e.price,"mk"),m(3),w(i.getItemDescription(e)),m(),g("ngIf",i.hasExpertTraits(e)),m(2),g("ngIf",e.equipable&&!i.isEquipped(e)),m(),g("ngIf",e.rarity==="common")}}function o$(n,t){n&1&&(l(0,"div",63)(1,"mat-icon"),u(2,"inventory_2"),c(),l(3,"p"),u(4,"No items in inventory"),c(),l(5,"p",64),u(6,"Visit the store to purchase equipment"),c()())}function a$(n,t){if(n&1&&(l(0,"div",34)(1,"mat-accordion",35),x(2,r$,22,17,"mat-expansion-panel",36),c(),x(3,o$,7,0,"div",37),c()),n&2){let e=v(2);m(2),g("ngForOf",e.getUnequippedItems())("ngForTrackBy",e.trackByItemId),m(),g("ngIf",e.getUnequippedItems().length===0)}}function s$(n,t){if(n&1){let e=F();l(0,"div",3)(1,"div",4)(2,"div",5)(3,"span",6),u(4,"\u{1F4B0}"),c(),l(5,"span",7),u(6),c()(),l(7,"div",8)(8,"span",9),u(9,"\u2696"),c(),l(10,"div",10)(11,"span",11),u(12),Wi(13,"number"),c(),l(14,"div",12),q(15,"div",13),c()()()(),l(16,"div",14)(17,"div",15)(18,"button",16),C("click",function(){E(e);let r=v();return S(r.selectTab("equipped"))}),l(19,"span",17),u(20,"\u{1F6E1}"),c(),u(21," Equipment "),c(),l(22,"button",16),C("click",function(){E(e);let r=v();return S(r.selectTab("inventory"))}),l(23,"span",17),u(24,"\u{1F4E6}"),c(),u(25," Inventory "),c()()(),x(26,Q6,36,8,"div",18)(27,a$,4,3,"div",19),c()}if(n&2){let e=v();m(6),w(e.getCurrencyDisplay()),m(),T("overencumbered",e.isOverencumbered()),m(5),ft("",lo(13,15,e.getTotalWeight(),"1.0-1")," / ",e.getCarryingCapacity()," lbs"),m(3),bt("width",e.getWeightPercentage(),"%"),T("overweight",e.isOverencumbered()),m(3),T("active",e.selectedTab==="equipped"),m(4),T("active",e.selectedTab==="inventory"),m(4),g("ngIf",e.selectedTab==="equipped"),m(),g("ngIf",e.selectedTab==="inventory")}}function c$(n,t){n&1&&(l(0,"div",65)(1,"mat-icon"),u(2,"warning"),c(),l(3,"p"),u(4,"No character loaded"),c()())}var Bg=class n{destroy$=new P;character=null;selectedTab="equipped";expandedItemId=null;ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}selectTab(t){this.selectedTab=t}getEquippedItem(t){return this.character?.inventory.getEquippedItem(t)}equipItem(t){!this.character||!t.equipable||this.character.inventory.equipItem(t.id)}unequipItem(t){this.character&&this.character.inventory.unequipItem(t.id)}isEquipped(t){return this.character?.inventory.isEquipped(t.id)||!1}getAllItems(){return this.character?.inventory.getAllItems()||[]}getUnequippedItems(){return this.getAllItems().filter(t=>!this.isEquipped(t))}getTotalWeight(){return this.character?.inventory.getTotalWeight()||0}getCarryingCapacity(){return this.character?this.character.inventory.getCarryingCapacity(this.character.attributes.strength):0}getWeightPercentage(){let t=this.getCarryingCapacity();return t===0?0:Math.min(100,this.getTotalWeight()/t*100)}isOverencumbered(){return this.character?this.character.inventory.isOverencumbered(this.character.attributes.strength):!1}hasExpertTraits(t){let e=t.weaponProperties?.expertTraits||[],i=t.armorProperties?.expertTraits||[];return e.length>0||i.length>0}canUseExpertTraits(t){return!this.character||!this.hasExpertTraits(t)?!0:this.character.inventory.canUseExpertTraits(t.id).canUse}getExpertiseTooltip(t){if(!this.character||!this.hasExpertTraits(t))return"";let e=this.character.inventory.canUseExpertTraits(t.id);return e.canUse?"Expert traits unlocked":e.missingExpertises.length>0?`Requires: ${e.missingExpertises.join(", ")}`:""}getExpertTraitsList(t){let e=t.weaponProperties?.expertTraits||[],i=t.armorProperties?.expertTraits||[];return[...e,...i]}getCurrency(){return this.character?.inventory.getCurrency()||0}getCurrencyDisplay(){let t=this.getCurrency(),e=this.character?.inventory.convertToMixedDenominations(t);return e?e.broams>0?`${e.broams}b ${e.marks}mk`:`${t}mk`:"0mk"}toggleItemExpansion(t){this.expandedItemId=this.expandedItemId===t?null:t}isItemExpanded(t){return this.expandedItemId===t}getItemDescription(t){let e=t.description;return t.weaponProperties&&(e+=`

Damage: ${t.weaponProperties.damage} ${t.weaponProperties.damageType}`,e+=`
Range: ${t.weaponProperties.range}`,t.weaponProperties.traits.length>0&&(e+=`
Traits: ${t.weaponProperties.traits.join(", ")}`)),t.armorProperties&&(e+=`

Deflect: ${t.armorProperties.deflectValue}`,t.armorProperties.traits.length>0&&(e+=`
Traits: ${t.armorProperties.traits.join(", ")}`)),t.fabrialProperties&&(e+=`

Charges: ${t.fabrialProperties.currentCharges}/${t.fabrialProperties.charges}`,e+=`
Effect: ${t.fabrialProperties.effect}`),e}getItemIcon(t){switch(t.type){case"weapon":return"swords";case"armor":return"shield";case"equipment":return"backpack";case"consumable":return"science";case"fabrial":return"auto_awesome";case"mount":return"pets";case"vehicle":return"directions_boat";default:return"inventory_2"}}getRarityColor(t){switch(t){case"reward-only":return"accent";case"talent-only":return"accent";default:return"primary"}}trackByItemId(t,e){return e.id}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-inventory-view"]],inputs:{character:"character"},decls:2,vars:2,consts:[["emptySlot",""],["class","inventory-container",4,"ngIf"],["class","no-character",4,"ngIf"],[1,"inventory-container"],[1,"inventory-header"],[1,"currency-display"],[1,"currency-icon"],[1,"currency-amount"],[1,"weight-tracker"],[1,"weight-icon"],[1,"weight-info"],[1,"weight-text"],[1,"weight-bar-container"],[1,"weight-bar-fill"],[1,"custom-tabs","inventory-tabs"],[1,"tab-labels"],[1,"tab-label",3,"click"],[1,"tab-icon"],["class","equipped-section",4,"ngIf"],["class","inventory-section",4,"ngIf"],[1,"equipped-section"],[1,"equipment-slots"],[1,"equipment-slot"],["mat-card-avatar",""],[4,"ngIf","ngIfElse"],[1,"equipped-item"],[1,"item-info"],[1,"item-name"],["class","expertise-indicator",3,"expertise-unlocked","expertise-locked","matTooltip",4,"ngIf"],["class","item-stats",4,"ngIf"],["mat-icon-button","","matTooltip","Unequip",3,"click"],[1,"expertise-indicator",3,"matTooltip"],[1,"item-stats"],[1,"empty-slot"],[1,"inventory-section"],[1,"inventory-list"],["class","inventory-item",3,"expanded","opened","closed",4,"ngFor","ngForOf","ngForTrackBy"],["class","empty-inventory",4,"ngIf"],[1,"inventory-item",3,"opened","closed","expanded"],[1,"item-name",3,"matTooltip"],["class","expertise-indicator-small",3,"expertise-unlocked","expertise-locked","matTooltip",4,"ngIf"],["class","item-quantity",4,"ngIf"],[1,"item-weight"],[1,"item-price"],[1,"item-details"],[1,"item-description"],["class","expert-traits-section",4,"ngIf"],[1,"item-actions"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-stroked-button","",3,"matTooltip",4,"ngIf"],[1,"expertise-indicator-small",3,"matTooltip"],[1,"item-quantity"],[1,"expert-traits-section"],[1,"expert-traits-header"],[1,"expert-traits-title"],[1,"expert-status"],[1,"expert-traits-list"],["class","expert-trait-chip",3,"disabled",4,"ngFor","ngForOf"],["class","expertise-requirement",4,"ngIf"],[1,"expert-trait-chip"],[1,"expertise-requirement"],["mat-raised-button","","color","primary",3,"click"],["mat-stroked-button","",3,"matTooltip"],[1,"empty-inventory"],[1,"hint"],[1,"no-character"]],template:function(e,i){e&1&&x(0,s$,28,18,"div",1)(1,c$,5,0,"div",2),e&2&&(g("ngIf",i.character),m(),g("ngIf",!i.character))},dependencies:[Q,ue,ie,Re,qe,ia,Ke,dt,lt,ge,Pe,an,oe,le,Ut,sn,ba,Io,Vg,Yr,wA,Dx,Tx,xA,CA,Wb],styles:[".inventory-tabs[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;max-height:100%;overflow:auto}.inventory-tabs[_ngcontent-%COMP%]   .tab-labels[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.5rem;border-bottom:2px solid var(--gpSystemDarkGrey);flex-shrink:0}.inventory-tabs[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{background:none;border:none;color:#e8e8e8;font-size:1.1rem;font-weight:600;padding:.75rem 2rem .5rem;cursor:pointer;border-radius:8px 8px 0 0;transition:background .2s,color .2s;outline:none;position:relative;display:flex;align-items:center;gap:.5rem}.inventory-tabs[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1}.inventory-tabs[_ngcontent-%COMP%]   .tab-label.active[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue);background:var(--gpSystemDarkGrey);box-shadow:0 -2px 8px #4ab3e814;z-index:2}.inventory-tabs[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]:not(.active):hover{background:#4ab3e814;color:#fff}.inventory-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;min-height:0}  mat-chip,   .mat-mdc-chip,   .mat-mdc-chip .mdc-evolution-chip__text{color:#fff!important}.inventory-container[_ngcontent-%COMP%]{padding:1rem;height:100%;display:flex;flex-direction:column;gap:1rem}@media(max-width:768px){.inventory-container[_ngcontent-%COMP%]{padding:0rem}}.inventory-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;background:linear-gradient(135deg,#2a2a2a,#1f1f1f);border-radius:12px;gap:2rem;box-shadow:0 4px 12px #0000004d;border:1px solid #3a3a3a}.currency-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-size:1.3rem;font-weight:700;color:gold;text-shadow:0 0 10px rgba(255,215,0,.3)}.currency-display[_ngcontent-%COMP%]   .currency-icon[_ngcontent-%COMP%]{font-size:1.75rem;line-height:1;filter:drop-shadow(0 0 8px rgba(255,215,0,.4))}.currency-display[_ngcontent-%COMP%]   .currency-amount[_ngcontent-%COMP%]{letter-spacing:.5px}.weight-tracker[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:1rem;max-width:400px}.weight-tracker[_ngcontent-%COMP%]   .weight-icon[_ngcontent-%COMP%]{font-size:1.75rem;line-height:1;color:#7e57c2;transition:all .3s}.weight-tracker[_ngcontent-%COMP%]   .weight-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.5rem}.weight-tracker[_ngcontent-%COMP%]   .weight-text[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#e0e0e0;letter-spacing:.3px}.weight-tracker[_ngcontent-%COMP%]   .weight-bar-container[_ngcontent-%COMP%]{height:10px;background:#1a1a1a;border-radius:6px;overflow:hidden;border:1px solid #3a3a3a;box-shadow:inset 0 2px 4px #0000004d}.weight-tracker[_ngcontent-%COMP%]   .weight-bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#7e57c2,#9575cd);border-radius:6px;transition:all .3s ease;box-shadow:0 0 10px #7e57c280}.weight-tracker[_ngcontent-%COMP%]   .weight-bar-fill.overweight[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f44336,#e57373);box-shadow:0 0 10px #f4433680}.weight-tracker.overencumbered[_ngcontent-%COMP%]   .weight-icon[_ngcontent-%COMP%]{color:#f44336;filter:drop-shadow(0 0 8px rgba(244,67,54,.4))}.weight-tracker.overencumbered[_ngcontent-%COMP%]   .weight-text[_ngcontent-%COMP%]{color:#ff6b6b;font-weight:700}mat-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s ease;background:var(--gpSystemDarkGrey)!important;color:#fff!important;font-weight:600;border-radius:20px;font-size:1.05rem;box-shadow:0 2px 8px #0000001f;border:1.5px solid var(--gpColor-ChalkyBlue);margin-right:.5rem;margin-bottom:.5rem;letter-spacing:.02em}mat-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem;color:var(--gpColor-ChalkyBlue)!important}mat-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]:hover, mat-chip-set[_ngcontent-%COMP%]   mat-chip[highlighted][_ngcontent-%COMP%], mat-chip-set[_ngcontent-%COMP%]   mat-chip.mat-mdc-chip-selected[_ngcontent-%COMP%]{background:var(--gpColor-ChalkyBlue)!important;color:#fff!important;border-color:#fff;transform:translateY(-2px) scale(1.04);box-shadow:0 4px 16px #4ab3e82e}mat-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%], mat-chip-set[_ngcontent-%COMP%]   mat-chip[highlighted][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], mat-chip-set[_ngcontent-%COMP%]   mat-chip.mat-mdc-chip-selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff!important}.equipped-section[_ngcontent-%COMP%]{flex:1;overflow-y:auto}@media(max-width:768px){.equipped-section[_ngcontent-%COMP%]{margin-bottom:10rem}}.equipment-slots[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem}.equipment-slot[_ngcontent-%COMP%]{background-color:var(--gpSystemDarkerGrey)!important;transition:all .3s ease;color:#fff}.equipment-slot[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0003}.equipment-slot[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-icon[mat-card-avatar][_ngcontent-%COMP%]{background-color:var(--gpColor-ChalkyBlue);color:#fff;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%}.equipment-slot[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#fff;font-size:1rem;font-weight:600}.equipment-slot[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{min-height:80px}.equipped-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.5rem;background-color:var(--gpSystemDarkGrey);border-radius:4px}.equipped-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem}.equipped-item[_ngcontent-%COMP%]   .item-icon.weapon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue)}.equipped-item[_ngcontent-%COMP%]   .item-icon.armor[_ngcontent-%COMP%]{color:var(--gpColor-LightGreen)}.equipped-item[_ngcontent-%COMP%]   .item-icon.fabrial[_ngcontent-%COMP%]{color:gold}.equipped-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]{flex:1}.equipped-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#fff}.equipped-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]{font-size:.85rem;color:#ffffffb3}.equipped-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{opacity:.6}.equipped-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.empty-slot[_ngcontent-%COMP%]{text-align:center;padding:1.5rem;color:#ffffff80;font-style:italic}.inventory-section[_ngcontent-%COMP%]{flex:1;overflow-y:auto}@media(max-width:768px){.inventory-section[_ngcontent-%COMP%]{margin-bottom:10rem}}.inventory-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]{margin-bottom:.5rem;background-color:var(--gpSystemDarkerGrey)!important;transition:all .2s ease}.inventory-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]:hover{background-color:var(--gpSystemDarkGrey)!important}.inventory-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.inventory-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}.inventory-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .item-icon.weapon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue)}.inventory-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .item-icon.armor[_ngcontent-%COMP%]{color:var(--gpColor-LightGreen)}.inventory-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .item-icon.equipment[_ngcontent-%COMP%]{color:var(--gpSystemLightGrey)}.inventory-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .item-icon.consumable[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue)}.inventory-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .item-icon.fabrial[_ngcontent-%COMP%]{color:gold}.inventory-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:600;color:#fff;max-width:140px;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:bottom}.inventory-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .item-quantity[_ngcontent-%COMP%]{margin-left:auto;color:var(--gpColor-ChalkyBlue);font-weight:600}.inventory-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-description[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.inventory-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-description[_ngcontent-%COMP%]   .item-weight[_ngcontent-%COMP%]{color:#fff9;font-size:.9rem}.inventory-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-description[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{color:gold;font-weight:600}.item-details[_ngcontent-%COMP%]{padding:1rem 0;color:#fff}.item-details[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]{color:#fffc;margin-bottom:1rem;line-height:1.6;white-space:pre-line}.item-details[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.item-details[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.expertise-indicator[_ngcontent-%COMP%]{font-size:18px!important;width:18px!important;height:18px!important;margin-left:.5rem;vertical-align:middle}.expertise-indicator.expertise-unlocked[_ngcontent-%COMP%]{color:#4caf50}.expertise-indicator.expertise-locked[_ngcontent-%COMP%]{color:#f44336}.expertise-indicator-small[_ngcontent-%COMP%]{font-size:16px!important;width:16px!important;height:16px!important;margin-left:.25rem}.expertise-indicator-small.expertise-unlocked[_ngcontent-%COMP%]{color:#4caf50}.expertise-indicator-small.expertise-locked[_ngcontent-%COMP%]{color:#f44336}.expert-traits-section[_ngcontent-%COMP%]{margin:1rem 0;padding:1rem;background:#0003;border-radius:8px;border-left:3px solid #9c27b0}.expert-traits-section[_ngcontent-%COMP%]   .expert-traits-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem}.expert-traits-section[_ngcontent-%COMP%]   .expert-traits-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.expert-traits-section[_ngcontent-%COMP%]   .expert-traits-header[_ngcontent-%COMP%]   mat-icon.unlocked[_ngcontent-%COMP%]{color:#4caf50}.expert-traits-section[_ngcontent-%COMP%]   .expert-traits-header[_ngcontent-%COMP%]   mat-icon.locked[_ngcontent-%COMP%]{color:#f44336}.expert-traits-section[_ngcontent-%COMP%]   .expert-traits-header[_ngcontent-%COMP%]   .expert-traits-title[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem;color:#e8e8e8;flex:1}.expert-traits-section[_ngcontent-%COMP%]   .expert-traits-header[_ngcontent-%COMP%]   .expert-status[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;padding:.25rem .75rem;border-radius:12px}.expert-traits-section[_ngcontent-%COMP%]   .expert-traits-header[_ngcontent-%COMP%]   .expert-status.unlocked[_ngcontent-%COMP%]{background-color:#4caf5033;color:#4caf50}.expert-traits-section[_ngcontent-%COMP%]   .expert-traits-header[_ngcontent-%COMP%]   .expert-status.locked[_ngcontent-%COMP%]{background-color:#f4433633;color:#f44336}.expert-traits-section[_ngcontent-%COMP%]   .expert-traits-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:.75rem}.expert-traits-section[_ngcontent-%COMP%]   .expert-traits-list[_ngcontent-%COMP%]   .expert-trait-chip[_ngcontent-%COMP%]{background-color:#9c27b04d;color:#ce93d8;font-size:.85rem;font-weight:500}.expert-traits-section[_ngcontent-%COMP%]   .expert-traits-list[_ngcontent-%COMP%]   .expert-trait-chip.disabled[_ngcontent-%COMP%]{opacity:.5;background-color:#9c27b026;color:#ce93d899}.expert-traits-section[_ngcontent-%COMP%]   .expertise-requirement[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0;padding:.5rem;background-color:#f443361a;border-radius:4px;color:#ff8a80;font-size:.85rem}.expert-traits-section[_ngcontent-%COMP%]   .expertise-requirement[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#f44336}.empty-inventory[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#ffffff80}.empty-inventory[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;margin-bottom:1rem;opacity:.5;color:#ffffff80}.empty-inventory[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;color:#ffffffb3}.empty-inventory[_ngcontent-%COMP%]   p.hint[_ngcontent-%COMP%]{font-size:.9rem;font-style:italic}.no-character[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:#ffffff80}.no-character[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;margin-bottom:1rem;opacity:.5;color:#ffffff80}"]})};function l$(n,t){if(n&1){let e=F();l(0,"mat-card",2)(1,"mat-card-header")(2,"mat-icon",3),u(3,"auto_awesome"),c(),l(4,"mat-card-title"),u(5,"A Spren Approaches!"),c()(),l(6,"mat-card-content")(7,"p",4),u(8," A "),l(9,"strong"),u(10),c(),u(11," has offered to bond with you, granting you the powers of a "),l(12,"strong"),u(13),c(),u(14,". "),c(),l(15,"p",5)(16,"em"),u(17),c()()(),l(18,"mat-card-actions")(19,"button",6),C("click",function(){E(e);let r=v();return S(r.acceptSprenGrant())}),l(20,"mat-icon"),u(21,"check_circle"),c(),u(22," Accept Bond "),c()()()}if(n&2){let e=v();m(10),w(e.pendingSprenGrant.sprenType),m(3),w(e.pendingSprenGrant.order),m(4),O('"',e.pendingSprenGrant.philosophy,'"')}}function d$(n,t){if(n&1&&(l(0,"p",13),u(1," As a "),l(2,"strong"),u(3),c(),u(4,", you will gain access to the surges of "),l(5,"strong"),u(6),c(),u(7,". "),c()),n&2){let e,i=v(2);m(3),w((e=i.getOrderInfo())==null?null:e.order),m(3),w(i.getSurgeNames())}}function u$(n,t){if(n&1){let e=F();l(0,"mat-card",7)(1,"mat-card-header")(2,"mat-icon",8),u(3,"record_voice_over"),c(),l(4,"mat-card-title"),u(5,"Speak the First Ideal"),c()(),l(6,"mat-card-content")(7,"p",9),u(8," You have bonded with a spren. To unlock your surges, you must speak the First Ideal of the Knights Radiant: "),c(),l(9,"p",10)(10,"strong"),u(11,'"Life before death. Strength before weakness. Journey before destination."'),c()(),x(12,d$,8,2,"p",11),c(),l(13,"mat-card-actions")(14,"button",12),C("click",function(){E(e);let r=v();return S(r.speakFirstIdeal())}),l(15,"mat-icon"),u(16,"bolt"),c(),u(17," Speak the Words "),c()()()}if(n&2){let e=v();m(12),g("ngIf",e.getOrderInfo())}}var jg=class n{character=null;pendingSprenGrant=null;sprenAccepted=new U;sprenDismissed=new U;idealSpoken=new U;autoDismissTimer=null;ngOnInit(){this.pendingSprenGrant&&this.setupAutoDismiss()}ngOnDestroy(){this.clearAutoDismiss()}ngOnChanges(t){t.pendingSprenGrant&&this.pendingSprenGrant?this.setupAutoDismiss():this.clearAutoDismiss()}setupAutoDismiss(){this.clearAutoDismiss(),this.autoDismissTimer=setTimeout(()=>{console.log("[Radiant Path] Auto-dismissing spren grant after 30 seconds"),this.dismissSprenGrant()},3e4)}clearAutoDismiss(){this.autoDismissTimer&&(clearTimeout(this.autoDismissTimer),this.autoDismissTimer=null)}acceptSprenGrant(){!this.character||!this.pendingSprenGrant||(console.log("[Radiant Path] Accepting spren grant:",this.pendingSprenGrant),this.character.radiantPath.grantSpren(this.pendingSprenGrant.order),this.clearAutoDismiss(),this.sprenAccepted.emit())}dismissSprenGrant(){this.clearAutoDismiss(),this.sprenDismissed.emit()}speakFirstIdeal(){this.character&&(console.log("[Radiant Path] Speaking First Ideal"),this.character.radiantPath.speakIdeal(this.character.skills),this.idealSpoken.emit())}getSurgeNames(){if(!this.character)return"";let t=this.character.radiantPath.getOrderInfo();return t?t.surgePair.map(e=>e.toLowerCase().replace("_"," ").split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ")).join(" and "):""}hasSpren(){return this.character?.radiantPath.hasSpren()??!1}hasSpokenIdeal(){return this.character?.radiantPath.hasSpokenIdeal()??!1}getOrderInfo(){return this.character?.radiantPath.getOrderInfo()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-radiant-path-notifications"]],inputs:{character:"character",pendingSprenGrant:"pendingSprenGrant"},outputs:{sprenAccepted:"sprenAccepted",sprenDismissed:"sprenDismissed",idealSpoken:"idealSpoken"},features:[it],decls:2,vars:2,consts:[["class","spren-notification",4,"ngIf"],["class","ideal-prompt",4,"ngIf"],[1,"spren-notification"],[1,"spren-icon"],[1,"spren-message"],[1,"philosophy-text"],["mat-raised-button","","color","primary",3,"click"],[1,"ideal-prompt"],[1,"ideal-icon"],[1,"ideal-message"],[1,"first-ideal"],["class","order-info",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[1,"order-info"]],template:function(e,i){e&1&&x(0,l$,23,3,"mat-card",0)(1,u$,18,1,"mat-card",1),e&2&&(g("ngIf",i.pendingSprenGrant),m(),g("ngIf",i.character&&i.hasSpren()&&!i.hasSpokenIdeal()))},dependencies:[Q,ie,Re,qe,Tn,Ke,dt,lt,ge,Pe,oe,le],styles:["[_nghost-%COMP%]{display:block;width:100%}.spren-notification[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]{margin:2rem auto;max-width:800px;width:calc(100% - 4rem);background:linear-gradient(135deg,#9c27b01a,#3f51b51a);border:2px solid #9c27b0;box-shadow:0 4px 20px #9c27b04d}.spren-notification[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background-color:#9c27b026;padding:1rem;margin:-16px -16px 16px;display:flex;align-items:center;gap:12px}.spren-notification[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .spren-icon[_ngcontent-%COMP%], .spren-notification[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .ideal-icon[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .spren-icon[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .ideal-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:#9c27b0}.spren-notification[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff;margin:0}.spren-notification[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1.5rem}.spren-notification[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .spren-message[_ngcontent-%COMP%], .spren-notification[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .ideal-message[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .spren-message[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .ideal-message[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:1rem;color:#fff}.spren-notification[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .philosophy-text[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .philosophy-text[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:#e8e8e8;padding:1rem;background-color:#0003;border-left:4px solid #9c27b0;border-radius:4px}.spren-notification[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .first-ideal[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .first-ideal[_ngcontent-%COMP%]{font-size:1.2rem;text-align:center;padding:1.5rem;background:linear-gradient(135deg,#ffd7001a,#ff98001a);border:2px solid #ffd700;border-radius:8px;margin:1rem 0;color:gold;text-shadow:0 0 10px rgba(255,215,0,.5)}.spren-notification[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]{font-size:1rem;color:#e8e8e8;margin-top:1rem}.spren-notification[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding:1rem;display:flex;justify-content:center}.spren-notification[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.1rem;padding:.75rem 2rem}.spren-notification[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.ideal-prompt[_ngcontent-%COMP%]{border-color:#ff9800;box-shadow:0 4px 20px #ff98004d}.ideal-prompt[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background-color:#ff980026}.ideal-prompt[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .ideal-icon[_ngcontent-%COMP%]{color:#ff9800}"]})};function m$(n,t){n&1&&(l(0,"span",3),u(1,"\u2022"),c())}function p$(n,t){n&1&&(l(0,"span"),u(1,", "),c())}function h$(n,t){if(n&1&&(l(0,"span"),u(1),x(2,p$,2,0,"span",9),c()),n&2){let e=t.$implicit,i=t.last;m(),O(" ",e),m(),g("ngIf",!i)}}var zg=class n{character=null;save=new U;export=new U;navigateBack=new U;onSave(){this.save.emit()}onExport(){this.export.emit()}onBackToList(){this.navigateBack.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-character-sheet-header"]],inputs:{character:"character"},outputs:{save:"save",export:"export",navigateBack:"navigateBack"},decls:27,vars:5,consts:[[1,"sheet-header"],[1,"header-left"],[1,"header-subtitle"],[1,"separator"],["class","separator",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"header-actions"],["mat-raised-button","",3,"click"],["mat-button","",3,"click"],[4,"ngIf"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"div",1)(2,"h1"),u(3),c(),l(4,"div",2)(5,"span"),u(6),c(),l(7,"span",3),u(8,"\u2022"),c(),l(9,"span"),u(10),c(),x(11,m$,2,0,"span",4)(12,h$,3,2,"span",5),c()(),l(13,"div",6)(14,"button",7),C("click",function(){return i.onSave()}),l(15,"mat-icon"),u(16,"save"),c(),u(17," Save "),c(),l(18,"button",8),C("click",function(){return i.onExport()}),l(19,"mat-icon"),u(20,"download"),c(),u(21," Export "),c(),l(22,"button",8),C("click",function(){return i.onBackToList()}),l(23,"mat-icon"),u(24,"list"),c(),u(25," Character List "),c()()(),q(26,"mat-divider")),e&2&&(m(3),w((i.character==null?null:i.character.name)||"Unnamed Character"),m(3),O("Level ",(i.character==null?null:i.character.level)||1),m(4),w((i.character==null?null:i.character.ancestry)||"Unknown"),m(),g("ngIf",((i.character==null||i.character.paths==null?null:i.character.paths.length)||0)>0),m(),g("ngForOf",i.character==null?null:i.character.paths))},dependencies:[Q,ue,ie,ge,Pe,oe,le,Ri,So],styles:[".sheet-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem}.sheet-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin:0 0 .5rem;color:#fff}.sheet-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#e8e8e8;display:flex;align-items:center;gap:.5rem}.sheet-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-subtitle[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:#ccc}.sheet-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.sheet-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.sheet-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[mat-raised-button][_ngcontent-%COMP%]{background-color:var(--gpColor-ChalkyBlue);color:#fff}.sheet-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[mat-raised-button][_ngcontent-%COMP%]:hover{background-color:#5ab3e8}.sheet-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[mat-button][_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue)}.sheet-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[mat-button][_ngcontent-%COMP%]:hover{background-color:var(--gpSystemDarkGrey)}@media(max-width:768px){.sheet-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;margin-bottom:1rem}.sheet-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.3rem}.sheet-header[_ngcontent-%COMP%]   .header-subtitle[_ngcontent-%COMP%]{font-size:.9rem}.sheet-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9rem;padding:.4rem 1rem}}"]})};var Ug=class n{constructor(t,e){this.dialog=t;this.cdr=e}character=null;characterId="";portraitUrl=null;portraitChanged=new U;openPortraitUpload(){if(!this.character)return;this.dialog.open(il,{width:"600px",data:{currentImageUrl:this.character.portraitUrl||null,characterId:this.characterId||this.character.id,characterName:this.character.name||"Character"}}).afterClosed().subscribe(e=>{e!==void 0&&this.character&&setTimeout(()=>{if(e){let i=e.split("?")[0];this.portraitChanged.emit(i)}else this.portraitChanged.emit(null);this.cdr.detectChanges()},0)})}getPortraitUrl(){return this.character?.portraitUrl||null}static \u0275fac=function(e){return new(e||n)(k(Ai),k(fe))};static \u0275cmp=D({type:n,selectors:[["app-character-portrait-card"]],inputs:{character:"character",characterId:"characterId",portraitUrl:"portraitUrl"},outputs:{portraitChanged:"portraitChanged"},decls:11,vars:7,consts:[[1,"portrait-card"],[1,"portrait-header"],[1,"character-name-overlay"],[1,"portrait-image-container"],[3,"imageUrl","characterName","size","showPlaceholder"],[1,"portrait-actions"],["mat-button","",3,"click"]],template:function(e,i){e&1&&(l(0,"mat-card",0)(1,"div",1)(2,"h3",2),u(3),c()(),l(4,"div",3),q(5,"app-character-image",4),c(),l(6,"div",5)(7,"button",6),C("click",function(){return i.openPortraitUpload()}),l(8,"mat-icon"),u(9),c(),u(10),c()()()),e&2&&(m(3),w((i.character==null?null:i.character.name)||"Character"),m(2),g("imageUrl",i.portraitUrl)("characterName",(i.character==null?null:i.character.name)||"Character")("size","large")("showPlaceholder",!0),m(4),w(i.getPortraitUrl()?"edit":"add_photo_alternate"),m(),O(" ",i.getPortraitUrl()?"Change Portrait":"Add Portrait"," "))},dependencies:[Q,Re,qe,ge,Pe,oe,le,Zt,nl],styles:[".portrait-card[_ngcontent-%COMP%]{background:var(--gpSystemDarkerGrey);padding:0!important;overflow:hidden;position:relative}.portrait-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:none}.portrait-card[_ngcontent-%COMP%]   .portrait-header[_ngcontent-%COMP%]{padding:1rem;background:var(--gpSystemDarkGrey);position:relative;z-index:2}.portrait-card[_ngcontent-%COMP%]   .portrait-header[_ngcontent-%COMP%]   .character-name-overlay[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#fff;text-align:center;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.portrait-card[_ngcontent-%COMP%]   .portrait-image-container[_ngcontent-%COMP%]{width:100%;height:400px;display:flex;align-items:center;justify-content:center;background:linear-gradient(to bottom,#0000001a,#0000004d)}.portrait-card[_ngcontent-%COMP%]   .portrait-image-container[_ngcontent-%COMP%]   app-character-image[_ngcontent-%COMP%]{width:100%;height:100%}.portrait-card[_ngcontent-%COMP%]   .portrait-image-container[_ngcontent-%COMP%]   app-character-image[_ngcontent-%COMP%]     .character-image{width:100%;height:100%;border-radius:0;border:none}.portrait-card[_ngcontent-%COMP%]   .portrait-image-container[_ngcontent-%COMP%]   app-character-image[_ngcontent-%COMP%]     .character-image .portrait-image{width:100%;height:100%;object-fit:cover;object-position:center top}.portrait-card[_ngcontent-%COMP%]   .portrait-image-container[_ngcontent-%COMP%]   app-character-image[_ngcontent-%COMP%]     .character-image .placeholder{width:100%;height:100%;background:#0000001a}.portrait-card[_ngcontent-%COMP%]   .portrait-image-container[_ngcontent-%COMP%]   app-character-image[_ngcontent-%COMP%]     .character-image .placeholder mat-icon{font-size:120px;width:120px;height:120px;color:#ffffff80}.portrait-card[_ngcontent-%COMP%]   .portrait-actions[_ngcontent-%COMP%]{padding:1rem;display:flex;justify-content:center;background:var(--gpSystemDarkGrey)}.portrait-card[_ngcontent-%COMP%]   .portrait-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#fff;background-color:var(--gpSystemDarkerGrey)}.portrait-card[_ngcontent-%COMP%]   .portrait-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--gpColor-ChalkyBlue)}@media(max-width:720px){.portrait-image-container[_ngcontent-%COMP%]{width:80%}}"]})};var Hg=class n{character=null;getPhysicalDefense(){return this.character?this.character.defenses.getPhysicalDefense(this.character.attributes,0):0}getCognitiveDefense(){return this.character?this.character.defenses.getCognitiveDefense(this.character.attributes,0):0}getSpiritualDefense(){return this.character?this.character.defenses.getSpiritualDefense(this.character.attributes,0):0}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-character-defenses-card"]],inputs:{character:"character"},decls:16,vars:3,consts:[[1,"character-defenses-bar"],[1,"defense-item"],[1,"defense-label"],[1,"defense-value"]],template:function(e,i){e&1&&(Je(0,"div",0)(1,"div",1)(2,"span",2),u(3,"Physical Defense"),et(),Je(4,"span",3),u(5),et()(),Je(6,"div",1)(7,"span",2),u(8,"Cognitive Defense"),et(),Je(9,"span",3),u(10),et()(),Je(11,"div",1)(12,"span",2),u(13,"Spiritual Defense"),et(),Je(14,"span",3),u(15),et()()()),e&2&&(m(5),w(i.getPhysicalDefense()),m(5),w(i.getCognitiveDefense()),m(5),w(i.getSpiritualDefense()))},dependencies:[Q,Re,oe],styles:['.character-defenses-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem;width:100%;margin-bottom:1.5rem;background:var(--gpSystemDarkerGrey);border-radius:8px;box-shadow:0 2px 8px #0003;padding:1.5rem 1rem;align-items:normal;border:1px solid rgba(74,179,232,.15)}.character-defenses-bar[_ngcontent-%COMP%]   .defense-item[_ngcontent-%COMP%]{flex:1 1 0;min-width:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.75rem;background:var(--gpSystemDarkGrey);padding:1.75rem .75rem;border-radius:6px;border:2px solid rgba(74,179,232,.3);box-shadow:inset 0 2px 4px #0000001a;position:relative}.character-defenses-bar[_ngcontent-%COMP%]   .defense-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,transparent 0%,var(--gpColor-ChalkyBlue) 50%,transparent 100%);border-radius:6px 6px 0 0}.character-defenses-bar[_ngcontent-%COMP%]   .defense-item[_ngcontent-%COMP%]   .defense-label[_ngcontent-%COMP%]{font-weight:600;font-size:.85rem;color:#e8e8e8;text-align:center;text-transform:uppercase;letter-spacing:.5px}.character-defenses-bar[_ngcontent-%COMP%]   .defense-item[_ngcontent-%COMP%]   .defense-value[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--gpColor-ChalkyBlue);text-shadow:0 0 8px rgba(74,179,232,.3)}@media(max-width:768px){.character-defenses-bar[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;padding:.75rem}}']})};function f$(n,t){if(n&1&&(l(0,"p",28)(1,"strong"),u(2,"Special Activation:"),c(),u(3),c()),n&2){let e=v().$implicit;m(3),O(" ",e.specialActivation," ")}}function g$(n,t){if(n&1&&(l(0,"li"),u(1),c()),n&2){let e=t.$implicit;m(),w(e)}}function _$(n,t){if(n&1&&(l(0,"div",29)(1,"h4")(2,"span",30),u(3,"\u{1F4C8}"),c(),u(4," Bonuses"),c(),l(5,"ul"),x(6,g$,2,1,"li",31),c()()),n&2){let e=v().$implicit,i=v(2);m(6),g("ngForOf",i.getBonusDisplay(e))}}function v$(n,t){if(n&1&&(l(0,"li"),u(1),c()),n&2){let e=t.$implicit;m(),w(e)}}function y$(n,t){if(n&1&&(l(0,"div",32)(1,"h4")(2,"span",33),u(3,"\u2728"),c(),u(4," Additional Effects"),c(),l(5,"ul"),x(6,v$,2,1,"li",31),c()()),n&2){let e=v().$implicit,i=v(2);m(6),g("ngForOf",i.getOtherEffects(e))}}function b$(n,t){if(n&1&&(l(0,"span",34)(1,"span",35),u(2,"\u{1F6E4}\uFE0F"),c(),u(3),c()),n&2){let e=v().$implicit;m(3),O(" ",e.pathRequirement," ")}}function C$(n,t){if(n&1&&(l(0,"details",14)(1,"summary",15)(2,"div",16)(3,"span",17),u(4,"\u26A1"),c(),l(5,"span",18),u(6),c()(),l(7,"span",19),u(8),c()(),l(9,"div",20)(10,"div",21)(11,"p"),u(12),c(),x(13,f$,4,1,"p",22),c(),x(14,_$,7,1,"div",23)(15,y$,7,1,"div",24),l(16,"div",25)(17,"span",26),u(18),c(),x(19,b$,4,1,"span",27),c()()()),n&2){let e=t.$implicit,i=v(2);m(6),w(e.name),m(2),O(" ",i.getActionCostDisplay(e.actionCost)," "),m(4),w(e.description),m(),g("ngIf",e.specialActivation),m(),g("ngIf",i.getBonusDisplay(e).length>0),m(),g("ngIf",i.getOtherEffects(e).length>0),m(3),O("Tier ",e.tier),m(),g("ngIf",e.pathRequirement)}}function x$(n,t){if(n&1&&(l(0,"div",12),x(1,C$,20,8,"details",13),c()),n&2){let e=v();m(),g("ngForOf",e.getPowers())}}function w$(n,t){n&1&&(l(0,"p",36),u(1," No powers unlocked yet "),c())}function M$(n,t){if(n&1&&(l(0,"div",37)(1,"span",38),u(2,"\u2713"),c(),l(3,"span",39),u(4),c(),l(5,"span",40),u(6),c()()),n&2){let e=t.$implicit,i=v();m(4),w(e.name),m(),Ie("badge-"+e.source),m(),O(" ",i.getExpertiseSourceBadge(e)," ")}}function E$(n,t){n&1&&(l(0,"p",36),u(1," No expertises selected "),c())}var qg=class n{character=null;getSelectedExpertises(){return this.character?.selectedExpertises||[]}getExpertiseSourceBadge(t){return Bn.getSourceBadge(t.source)}getPowers(){let t=Array.from(this.character?.unlockedTalents||[]),e=[],i=[];Object.values(hs).forEach(o=>{o.talentNodes&&i.push({pathName:o.name,nodes:o.talentNodes}),i.push(...o.paths)});let r=nr("singer");return r&&i.push(r),t.forEach(o=>{for(let a of i){let s=a.nodes.find(d=>d.id===o);if(s){e.push(s);break}}}),e}getActionCostDisplay(t){return t===1/0?"Passive":t===-1?"Reaction":t===-2?"Special":t===0?"Free Action":`${t} Action${t>1?"s":""}`}getBonusDisplay(t){return!t.bonuses||t.bonuses.length===0?[]:t.bonuses.map(e=>{let i=[];if(e.value!==void 0){let r=e.value>=0?"+":"";i.push(`${r}${e.value}`)}return e.type&&i.push(e.type.toString()),e.target&&i.push(`to ${e.target}`),e.condition&&i.push(`(${e.condition})`),i.join(" ")})}getOtherEffects(t){let e=[];return t.grantsAdvantage&&t.grantsAdvantage.length>0&&e.push(`Grants Advantage on: ${t.grantsAdvantage.join(", ")}`),t.grantsDisadvantage&&t.grantsDisadvantage.length>0&&e.push(`Grants Disadvantage on: ${t.grantsDisadvantage.join(", ")}`),t.otherEffects&&t.otherEffects.length>0&&e.push(...t.otherEffects),e}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-character-powers-tab"]],inputs:{character:"character"},decls:21,vars:4,consts:[[1,"sheet-content","powers-notes-tab"],[1,"powers-card"],[1,"card-header"],[1,"section-icon"],[1,"card-title"],[1,"card-content"],[1,"powers-list"],["class","powers-accordion",4,"ngIf"],["class","empty-text",4,"ngIf"],[1,"stats-card"],[1,"expertises-list"],["class","expertise-item",4,"ngFor","ngForOf"],[1,"powers-accordion"],["class","power-panel",4,"ngFor","ngForOf"],[1,"power-panel"],[1,"power-header"],[1,"power-title"],[1,"power-icon"],[1,"power-name"],[1,"power-cost"],[1,"power-details"],[1,"power-description"],["class","special-activation",4,"ngIf"],["class","power-bonuses",4,"ngIf"],["class","power-effects",4,"ngIf"],[1,"power-meta"],[1,"power-tier"],["class","power-path",4,"ngIf"],[1,"special-activation"],[1,"power-bonuses"],[1,"bonus-icon"],[4,"ngFor","ngForOf"],[1,"power-effects"],[1,"effect-icon"],[1,"power-path"],[1,"path-icon"],[1,"empty-text"],[1,"expertise-item"],[1,"expertise-icon"],[1,"expertise-name"],[1,"expertise-source-badge"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),u(4,"\u2728"),c(),l(5,"h3",4),u(6,"Powers"),c()(),l(7,"div",5)(8,"div",6),x(9,x$,2,1,"div",7)(10,w$,2,0,"p",8),c()()(),l(11,"div",9)(12,"div",2)(13,"span",3),u(14,"\u{1F4DA}"),c(),l(15,"h3",4),u(16,"Expertises"),c()(),l(17,"div",5)(18,"div",10),x(19,M$,7,4,"div",11)(20,E$,2,0,"p",8),c()()()()),e&2&&(m(9),g("ngIf",i.getPowers().length>0),m(),g("ngIf",i.getPowers().length===0),m(9),g("ngForOf",i.getSelectedExpertises()),m(),g("ngIf",i.getSelectedExpertises().length===0))},dependencies:[Q,ue,ie,Re,oe,Yr],styles:['@charset "UTF-8";.powers-notes-tab[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;padding-bottom:6rem}.powers-card[_ngcontent-%COMP%], .stats-card[_ngcontent-%COMP%]{background:var(--gpSystemDarkerGrey);border-radius:8px;padding:1.5rem;box-shadow:0 2px 8px #0003;border:1px solid rgba(74,179,232,.15)}.powers-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .stats-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.powers-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%], .stats-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{font-size:24px;color:var(--gpColor-ChalkyBlue)}.powers-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .stats-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin:0;color:#fff}.powers-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .stats-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{color:#e8e8e8}.expertises-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;max-height:400px;overflow-y:auto}.expertises-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.expertises-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--gpSystemDarkGrey)}.expertises-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--gpColor-ChalkyBlue);border-radius:4px}.expertises-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#5ab3e8}.expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.5rem .75rem;background-color:var(--gpSystemDarkGrey);border-radius:6px}.expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-icon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue);font-size:1.25rem;font-weight:700}.expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-name[_ngcontent-%COMP%]{font-weight:500;color:#fff;flex:1}.expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-source-badge[_ngcontent-%COMP%]{font-size:.7rem;padding:.15rem .5rem;border-radius:10px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-source-badge.badge-culture[_ngcontent-%COMP%]{background:#7e57c2;color:#fff}.expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-source-badge.badge-talent[_ngcontent-%COMP%]{background:#ff9800;color:#fff}.expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-source-badge.badge-gm[_ngcontent-%COMP%]{background:#f44336;color:#fff}.expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-source-badge.badge-manual[_ngcontent-%COMP%]{background:#ffffff26;color:#e8e8e8}.powers-list[_ngcontent-%COMP%]   .powers-accordion[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.powers-list[_ngcontent-%COMP%]   .power-panel[_ngcontent-%COMP%]{background-color:var(--gpSystemDarkGrey);border-radius:8px;overflow:hidden;margin-bottom:.5rem;border:1px solid rgba(74,179,232,.2)}.powers-list[_ngcontent-%COMP%]   .power-panel[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{list-style:none;cursor:pointer}.powers-list[_ngcontent-%COMP%]   .power-panel[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]::-webkit-details-marker{display:none}.powers-list[_ngcontent-%COMP%]   .power-panel[_ngcontent-%COMP%]   .power-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:var(--gpSystemDarkGrey);color:#fff;padding:.75rem 1rem;transition:background-color .2s}.powers-list[_ngcontent-%COMP%]   .power-panel[_ngcontent-%COMP%]   .power-header[_ngcontent-%COMP%]:hover{background-color:#4ab3e81a}.powers-list[_ngcontent-%COMP%]   .power-panel[_ngcontent-%COMP%]   .power-header[_ngcontent-%COMP%]:after{content:"\\25bc";color:var(--gpColor-ChalkyBlue);font-size:.75rem;transition:transform .2s}.powers-list[_ngcontent-%COMP%]   .power-panel[open][_ngcontent-%COMP%]   .power-header[_ngcontent-%COMP%]:after{transform:rotate(180deg)}.powers-list[_ngcontent-%COMP%]   .power-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex:1}.powers-list[_ngcontent-%COMP%]   .power-title[_ngcontent-%COMP%]   .power-icon[_ngcontent-%COMP%]{font-size:20px;color:var(--gpColor-ChalkyBlue)}.powers-list[_ngcontent-%COMP%]   .power-title[_ngcontent-%COMP%]   .power-name[_ngcontent-%COMP%]{font-weight:600;font-size:1rem}.powers-list[_ngcontent-%COMP%]   .power-cost[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue);font-size:.9rem;font-weight:500}.powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]{padding:1rem;background-color:var(--gpSystemDarkerGrey)}.powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-description[_ngcontent-%COMP%]{margin-bottom:1rem;color:#e8e8e8;line-height:1.6}.powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .5rem}.powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-description[_ngcontent-%COMP%]   .special-activation[_ngcontent-%COMP%]{padding:.75rem;background:#4ab3e81a;border-left:3px solid var(--gpColor-ChalkyBlue);border-radius:4px;margin-top:.75rem}.powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-description[_ngcontent-%COMP%]   .special-activation[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue)}.powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-bonuses[_ngcontent-%COMP%], .powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-effects[_ngcontent-%COMP%]{margin-bottom:1rem}.powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-bonuses[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-effects[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0 0 .5rem;font-size:.95rem;font-weight:600;color:var(--gpColor-ChalkyBlue)}.powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-bonuses[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   .bonus-icon[_ngcontent-%COMP%], .powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-bonuses[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   .effect-icon[_ngcontent-%COMP%], .powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-effects[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   .bonus-icon[_ngcontent-%COMP%], .powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-effects[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   .effect-icon[_ngcontent-%COMP%]{font-size:18px}.powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-bonuses[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-effects[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-bonuses[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-effects[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.4rem .75rem;background:var(--gpSystemDarkGrey);border-radius:4px;margin-bottom:.4rem;color:#e8e8e8;font-size:.9rem}.powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-bonuses[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child, .powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-effects[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-meta[_ngcontent-%COMP%]{display:flex;gap:1rem;padding-top:.75rem;border-top:1px solid var(--gpSystemDarkGrey);font-size:.85rem;color:#b0b0b0}.powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-meta[_ngcontent-%COMP%]   .power-tier[_ngcontent-%COMP%]{font-weight:500}.powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-meta[_ngcontent-%COMP%]   .power-path[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-meta[_ngcontent-%COMP%]   .power-path[_ngcontent-%COMP%]   .path-icon[_ngcontent-%COMP%]{font-size:16px}']})};function S$(n,t){if(n&1&&(l(0,"mat-icon",15),u(1),c()),n&2){let e=v();m(),w(e.resource.icon)}}var $g=class n{resource;valueChanged=new U;get percentage(){return this.resource.max===0?0:this.resource.current/this.resource.max*100}get barColor(){if(this.resource.color)return this.resource.color;let t=this.percentage;return t>66?"#4caf50":t>33?"#ff9800":"#f44336"}increment(t=1){let e=Math.min(this.resource.current+t,this.resource.max);this.resource.current=e,this.valueChanged.emit(e)}decrement(t=1){let e=Math.max(this.resource.current-t,0);this.resource.current=e,this.valueChanged.emit(e)}setToMax(){this.resource.current=this.resource.max,this.valueChanged.emit(this.resource.max)}setToZero(){this.resource.current=0,this.valueChanged.emit(0)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-resource-tracker"]],inputs:{resource:"resource"},outputs:{valueChanged:"valueChanged"},decls:32,vars:12,consts:[[1,"resource-card"],["class","resource-icon",4,"ngIf"],[1,"resource-display"],[1,"resource-numbers"],[1,"current"],[1,"separator"],[1,"max"],[1,"resource-bar-container"],[1,"resource-bar"],[1,"button-group"],["mat-icon-button","","color","warn","title","Decrease by 5",3,"click","disabled"],["mat-icon-button","","color","warn","title","Decrease by 1",3,"click","disabled"],["mat-stroked-button","",1,"reset-button",3,"click"],["mat-icon-button","","color","primary","title","Increase by 1",3,"click","disabled"],["mat-icon-button","","color","primary","title","Increase by 5",3,"click","disabled"],[1,"resource-icon"]],template:function(e,i){e&1&&(l(0,"mat-card",0)(1,"mat-card-header"),x(2,S$,2,1,"mat-icon",1),l(3,"mat-card-title"),u(4),c()(),l(5,"mat-card-content")(6,"div",2)(7,"div",3)(8,"span",4),u(9),c(),l(10,"span",5),u(11,"/"),c(),l(12,"span",6),u(13),c()(),l(14,"div",7),q(15,"div",8),c()()(),l(16,"mat-card-actions")(17,"div",9)(18,"button",10),C("click",function(){return i.decrement(5)}),l(19,"mat-icon"),u(20,"keyboard_double_arrow_down"),c()(),l(21,"button",11),C("click",function(){return i.decrement(1)}),l(22,"mat-icon"),u(23,"remove"),c()(),l(24,"button",12),C("click",function(){return i.setToMax()}),u(25," Reset "),c(),l(26,"button",13),C("click",function(){return i.increment(1)}),l(27,"mat-icon"),u(28,"add"),c()(),l(29,"button",14),C("click",function(){return i.increment(5)}),l(30,"mat-icon"),u(31,"keyboard_double_arrow_up"),c()()()()()),e&2&&(m(2),g("ngIf",i.resource.icon),m(2),w(i.resource.name),m(5),w(i.resource.current),m(4),w(i.resource.max),m(2),bt("width",i.percentage,"%")("background-color",i.barColor),m(3),g("disabled",i.resource.current===0),m(3),g("disabled",i.resource.current===0),m(5),g("disabled",i.resource.current===i.resource.max),m(3),g("disabled",i.resource.current===i.resource.max))},dependencies:[Q,ie,Re,qe,Tn,Ke,dt,lt,ge,Pe,an,oe,le],styles:[".resource-card[_ngcontent-%COMP%]{width:100%;max-width:400px;background:var(--gpSystemDarkerGrey)!important}.resource-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem}.resource-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .resource-icon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue);font-size:24px;width:24px;height:24px}.resource-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin:0;color:#fff}.resource-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1rem}.resource-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.5rem 1rem 1rem}.resource-display[_ngcontent-%COMP%]   .resource-numbers[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.25rem;margin-bottom:.75rem;font-size:1.5rem;font-weight:600}.resource-display[_ngcontent-%COMP%]   .resource-numbers[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue)}.resource-display[_ngcontent-%COMP%]   .resource-numbers[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%], .resource-display[_ngcontent-%COMP%]   .resource-numbers[_ngcontent-%COMP%]   .max[_ngcontent-%COMP%]{color:#e8e8e8}.resource-display[_ngcontent-%COMP%]   .resource-bar-container[_ngcontent-%COMP%]{width:100%;height:24px;background-color:var(--gpSystemDarkGrey);border-radius:12px;overflow:hidden;position:relative}.resource-display[_ngcontent-%COMP%]   .resource-bar-container[_ngcontent-%COMP%]   .resource-bar[_ngcontent-%COMP%]{height:100%;transition:width .3s ease,background-color .3s ease;border-radius:12px}.button-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;background-color:var(--gpSystemDarkGrey)}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--gpColor-ChalkyBlue)}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.button-group[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{margin:0 .5rem;font-size:.9rem;padding:0 1rem}"]})};function O$(n,t){if(n&1){let e=F();l(0,"div",1)(1,"app-resource-tracker",2),C("valueChanged",function(r){E(e);let o=v();return S(o.onResourceChanged("Health",r))}),c(),l(2,"app-resource-tracker",2),C("valueChanged",function(r){E(e);let o=v();return S(o.onResourceChanged("Focus",r))}),c(),l(3,"app-resource-tracker",2),C("valueChanged",function(r){E(e);let o=v();return S(o.onResourceChanged("Investiture",r))}),c()()}if(n&2){let e=v();m(),g("resource",e.healthResource),m(),g("resource",e.focusResource),m(),g("resource",e.investitureResource)}}var Gg=class n{character;resourceChanged=new U;get healthResource(){return{name:"Health",current:this.character?.resources.health.current||0,max:this.character?.resources.health.max||0,icon:"favorite",color:"#f44336"}}get focusResource(){return{name:"Focus",current:this.character?.resources.focus.current||0,max:this.character?.resources.focus.max||0,icon:"psychology",color:"#2196f3"}}get investitureResource(){return{name:"Investiture",current:this.character?.resources.investiture.current||0,max:this.character?.resources.investiture.max||0,icon:"auto_awesome",color:"#9c27b0"}}onResourceChanged(t,e){this.resourceChanged.emit({resourceName:t,newValue:e})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-character-resources-bar"]],inputs:{character:"character"},outputs:{resourceChanged:"resourceChanged"},decls:1,vars:1,consts:[["class","character-resources-bar",4,"ngIf"],[1,"character-resources-bar"],[3,"valueChanged","resource"]],template:function(e,i){e&1&&x(0,O$,4,3,"div",0),e&2&&g("ngIf",i.character)},dependencies:[Q,ie,$g],styles:[".character-resources-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1.5rem;width:100%;margin-bottom:1.5rem;background:var(--gpSystemDarkGrey);border-radius:8px;box-shadow:0 2px 8px #00000014;padding:1rem 2rem;align-items:normal}.character-resources-bar[_ngcontent-%COMP%]   app-resource-tracker[_ngcontent-%COMP%]{flex:1 1 0;min-width:0;background:none;border-radius:0;padding:0;box-shadow:none;margin-bottom:0}@media(max-width:768px){.character-resources-bar[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;padding:.5rem}}"]})};function P$(n,t){if(n&1&&(l(0,"div",9)(1,"div",10)(2,"span",11),u(3),c(),l(4,"span",12),u(5),c(),l(6,"span",13),u(7),c()(),l(8,"div",14)(9,"span",15),u(10),c()()()),n&2){let e=t.$implicit,i=v();Ie(i.getSkillClass(e)),m(3),w(i.getSkillIcon(e)),m(2),w(e.name),m(2),O("+",e.total),m(3),Yo(" Rank ",e.rank," + ",e.associatedAttribute," ",e.attributeValue," ")}}function k$(n,t){n&1&&(l(0,"p",16),u(1," No skills available "),c())}var Wg=class n{character=null;skillAssociationTable=new Ar;getAllSkills(){if(!this.character)return[];let t=[];Object.values(pi).forEach(r=>{let o=this.character.skills.getSkillRank(r),a=this.skillAssociationTable.checkSkillAssociation(r),s=this.character.attributes.getAttribute(a);t.push({name:this.formatSkillName(r),type:of(r)?"surge":"regular",rank:o,attributeValue:s,total:o+s,associatedAttribute:this.capitalizeFirst(a),rawSkillType:r})});let e=this.character.getExpertiseSkills(),i=this.character.attributes.getAttribute("intellect");return e.forEach(r=>{let o=this.character.getExpertiseRank(r);t.push({name:r,type:"expertise",rank:o,attributeValue:i,total:o+i,associatedAttribute:"Intellect",expertiseName:r})}),t.sort((r,o)=>r.name.localeCompare(o.name))}getSkillsByType(){let t=this.getAllSkills();return{regular:t.filter(e=>e.type==="regular"),surge:t.filter(e=>e.type==="surge"),expertise:t.filter(e=>e.type==="expertise")}}getSkillIcon(t){switch(t.type){case"surge":return"\u26A1";case"expertise":return"\u{1F4DA}";default:return"\u{1F3AF}"}}getSkillClass(t){return`skill-${t.type}`}formatSkillName(t){return t.toLowerCase().split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}capitalizeFirst(t){return t.charAt(0).toUpperCase()+t.slice(1)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-character-skills-card"]],inputs:{character:"character"},decls:11,vars:2,consts:[[1,"skills-card-container"],[1,"skills-card"],[1,"card-header"],[1,"section-icon"],[1,"card-title"],[1,"card-content"],[1,"skills-grid"],["class","skill-item",3,"class",4,"ngFor","ngForOf"],["class","empty-text",4,"ngIf"],[1,"skill-item"],[1,"skill-header"],[1,"skill-icon"],[1,"skill-name"],[1,"skill-total"],[1,"skill-details"],[1,"skill-breakdown"],[1,"empty-text"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),u(4,"\u{1F3AF}"),c(),l(5,"h3",4),u(6,"Skills"),c()(),l(7,"div",5)(8,"div",6),x(9,P$,11,8,"div",7)(10,k$,2,0,"p",8),c()()()()),e&2&&(m(9),g("ngForOf",i.getAllSkills()),m(),g("ngIf",i.getAllSkills().length===0))},dependencies:[Q,ue,ie,Re,oe,Ut],styles:[".skills-card[_ngcontent-%COMP%]{background:#2a2a2a;border-radius:8px;padding:1rem;margin-bottom:8rem}.skills-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:2px solid #3a3a3a}.skills-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{font-size:1.5rem}.skills-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:#fff}.skills-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{overflow:hidden}.skills-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:.75rem}.skills-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]{background:#1a1a1a;border:1px solid #3a3a3a;border-radius:6px;padding:.75rem;transition:all .2s ease}.skills-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]:hover{border-color:#4a4a4a;background:#222}.skills-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-item.skill-regular[_ngcontent-%COMP%]{border-left:3px solid #4a90e2}.skills-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-item.skill-surge[_ngcontent-%COMP%]{border-left:3px solid #9b59b6;background:linear-gradient(135deg,#1a1a1a,#221a2a)}.skills-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-item.skill-expertise[_ngcontent-%COMP%]{border-left:3px solid #f39c12;background:linear-gradient(135deg,#1a1a1a,#2a2217)}.skills-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:.5rem}.skills-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-header[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]{font-size:1.2rem}.skills-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-header[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%]{flex:1;min-width:0;font-weight:500;color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.skills-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-header[_ngcontent-%COMP%]   .skill-total[_ngcontent-%COMP%]{flex-basis:100%;font-size:1.1rem;font-weight:600;color:#4a90e2;padding:.25rem .5rem;background:#4a90e21a;border-radius:4px;width:fit-content}.skills-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .skill-breakdown[_ngcontent-%COMP%]{font-size:.85rem;color:#888}.skills-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]{color:#888;font-style:italic;text-align:center;padding:2rem;grid-column:1/-1}@media(max-width:760px){.card-content[_ngcontent-%COMP%]{overflow:visible}}"]})};function I$(n,t){if(n&1&&(l(0,"mat-option",9)(1,"span",10)(2,"span",11),u(3),c(),l(4,"span",12),u(5),c(),l(6,"span",13),u(7),c()()()),n&2){let e=t.$implicit,i=v();g("value",e),m(),Ie(i.getSkillTypeClass(e)),m(2),w(i.getSkillIcon(e)),m(2),w(e.name),m(2),O("+",e.modifier)}}function D$(n,t){if(n&1&&(l(0,"mat-hint"),u(1),c()),n&2){let e=v();m(),Yo(" Rank ",e.selectedSkill.rank," + ",e.selectedSkill.associatedAttribute," ",e.selectedSkill.attributeValue," ")}}function T$(n,t){n&1&&(l(0,"div",23)(1,"mat-icon"),u(2,"star"),c(),u(3," Critical Success! "),c())}function A$(n,t){n&1&&(l(0,"div",24)(1,"mat-icon"),u(2,"warning"),c(),u(3," Critical Failure! "),c())}function R$(n,t){if(n&1){let e=F();l(0,"div",14)(1,"div",15)(2,"div",16)(3,"span",17),u(4,"Result"),c(),l(5,"button",18),C("click",function(){E(e);let r=v();return S(r.clearResult())}),l(6,"mat-icon"),u(7,"close"),c()()(),l(8,"div",19),u(9),c(),l(10,"div",20),u(11),c(),x(12,T$,4,0,"div",21)(13,A$,4,0,"div",22),c()()}if(n&2){let e=v();m(),T("critical-success",e.lastResult.roll===20)("critical-failure",e.lastResult.roll===1),m(8),w(e.lastResult.total),m(2),w(e.lastResult.breakdown),m(),g("ngIf",e.lastResult.roll===20),m(),g("ngIf",e.lastResult.roll===1)}}var Yg=class n{character=null;compact=!1;skillChecked=new U;selectedSkill=null;lastResult=null;availableSkills=[];skillAssociationTable=new Ar;ngOnChanges(t){t.character&&this.updateAvailableSkills()}updateAvailableSkills(){this.availableSkills=this.buildSkillsList()}getAvailableSkills(){return this.availableSkills}buildSkillsList(){if(!this.character)return[];let t=[];Object.values(pi).forEach(r=>{let o=this.character.skills.getSkillRank(r),a=this.skillAssociationTable.checkSkillAssociation(r),s=this.character.attributes.getAttribute(a),d=o+s;t.push({name:this.formatSkillName(r),type:of(r)?"surge":"regular",modifier:d,rank:o,attributeValue:s,associatedAttribute:this.capitalizeFirst(a),rawSkillType:r})});let e=this.character.getExpertiseSkills(),i=this.character.attributes.getAttribute("intellect");return e.forEach(r=>{let o=this.character.getExpertiseRank(r),a=o+i;t.push({name:r,type:"expertise",modifier:a,rank:o,attributeValue:i,associatedAttribute:"Intellect",expertiseName:r})}),t.sort((r,o)=>r.name.localeCompare(o.name))}rollSkillCheck(){if(!this.selectedSkill)return;let t=this.rollD20(),e=t+this.selectedSkill.modifier,i={skill:this.selectedSkill,roll:t,total:e,modifier:this.selectedSkill.modifier,breakdown:`${t} (d20) + ${this.selectedSkill.modifier} (Rank ${this.selectedSkill.rank} + ${this.selectedSkill.associatedAttribute} ${this.selectedSkill.attributeValue})`};this.lastResult=i,this.skillChecked.emit(i)}rollD20(){return Math.floor(Math.random()*20)+1}getSkillIcon(t){switch(t.type){case"surge":return"\u26A1";case"expertise":return"\u{1F4DA}";default:return"\u{1F3AF}"}}getSkillTypeClass(t){return`skill-${t.type}`}clearResult(){this.lastResult=null}compareSkills(t,e){return!t||!e?t===e:t.name===e.name&&t.type===e.type}formatSkillName(t){return t.toLowerCase().split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}capitalizeFirst(t){return t.charAt(0).toUpperCase()+t.slice(1)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-skill-roller"]],inputs:{character:"character",compact:"compact"},outputs:{skillChecked:"skillChecked"},features:[it],decls:19,vars:8,consts:[[1,"skill-roller"],[1,"roller-card"],[1,"header-icon"],["appearance","outline",1,"skill-select"],[3,"ngModelChange","ngModel","compareWith"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["mat-raised-button","","color","primary",1,"roll-button",3,"click","disabled"],["class","result-container",4,"ngIf"],[3,"value"],[1,"skill-option"],[1,"skill-icon"],[1,"skill-name"],[1,"skill-modifier"],[1,"result-container"],[1,"result-card"],[1,"result-header"],[1,"result-label"],["mat-icon-button","",1,"clear-button",3,"click"],[1,"result-total"],[1,"result-breakdown"],["class","critical-message",4,"ngIf"],["class","critical-message failure",4,"ngIf"],[1,"critical-message"],[1,"critical-message","failure"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-icon",2),u(4,"casino"),c(),l(5,"mat-card-title"),u(6,"Skill Check"),c()(),l(7,"mat-card-content")(8,"mat-form-field",3)(9,"mat-label"),u(10,"Select Skill"),c(),l(11,"mat-select",4),rn("ngModelChange",function(o){return pn(i.selectedSkill,o)||(i.selectedSkill=o),o}),x(12,I$,8,6,"mat-option",5),c(),x(13,D$,2,3,"mat-hint",6),c(),l(14,"button",7),C("click",function(){return i.rollSkillCheck()}),l(15,"mat-icon"),u(16,"casino"),c(),u(17," Roll d20 "),c(),x(18,R$,14,8,"div",8),c()()()),e&2&&(T("compact",i.compact),m(11),nn("ngModel",i.selectedSkill),g("compareWith",i.compareSkills),m(),g("ngForOf",i.availableSkills),m(),g("ngIf",i.selectedSkill),m(),g("disabled",!i.selectedSkill),m(4),g("ngIf",i.lastResult))},dependencies:[Q,ue,ie,Ii,ki,fi,Un,ti,gi,xs,ya,va,Ni,ge,Pe,an,oe,le,Re,qe,Ke,dt,lt,ua],styles:[".skill-roller.compact[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]{padding:.5rem}.skill-roller.compact[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding-bottom:.5rem}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]{background:#2a2a2a}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{color:#4a90e2}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#fff;font-size:1.25rem;font-weight:600}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .skill-select[_ngcontent-%COMP%]{width:100%}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .skill-select[_ngcontent-%COMP%]     .mat-mdc-select-value .skill-option{display:flex;align-items:center;gap:.5rem}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .roll-button[_ngcontent-%COMP%]{width:100%;height:48px;font-size:1.1rem}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .roll-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]{margin-top:1rem}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]{background:#1a1a1a;border:2px solid #4a90e2;border-radius:8px;padding:1rem;position:relative}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-card.critical-success[_ngcontent-%COMP%]{border-color:#2ecc71;background:linear-gradient(135deg,#1a1a1a,#1a2a1a);box-shadow:0 0 20px #2ecc714d}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-card.critical-failure[_ngcontent-%COMP%]{border-color:#e74c3c;background:linear-gradient(135deg,#1a1a1a,#2a1a1a);box-shadow:0 0 20px #e74c3c4d}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   .result-label[_ngcontent-%COMP%]{color:#888;font-size:.9rem;text-transform:uppercase}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]{width:24px;height:24px}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .result-total[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:#4a90e2;text-align:center;margin:.5rem 0}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .result-breakdown[_ngcontent-%COMP%]{font-size:.9rem;color:#aaa;text-align:center;margin-bottom:.5rem}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .critical-message[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-top:1rem;padding:.5rem;background:#2ecc711a;border-radius:4px;color:#2ecc71;font-weight:600}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .critical-message.failure[_ngcontent-%COMP%]{background:#e74c3c1a;color:#e74c3c}.skill-roller[_ngcontent-%COMP%]   .roller-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .critical-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}  .mat-mdc-option .skill-option{display:flex;align-items:center;gap:.5rem;width:100%}  .mat-mdc-option .skill-option .skill-icon{font-size:1.1rem}  .mat-mdc-option .skill-option .skill-name{flex:1}  .mat-mdc-option .skill-option .skill-modifier{font-weight:600;color:#4a90e2}  .mat-mdc-option .skill-option.skill-surge .skill-icon{color:#9b59b6}  .mat-mdc-option .skill-option.skill-surge .skill-modifier{color:#9b59b6}  .mat-mdc-option .skill-option.skill-expertise .skill-icon{color:#f39c12}  .mat-mdc-option .skill-option.skill-expertise .skill-modifier{color:#f39c12}"]})};function N$(n,t){if(n&1&&(l(0,"div",20)(1,"strong"),u(2,"Created:"),c(),u(3),c()),n&2){let e=v(2);m(3),ft(" ",e.lastCraftResult.quantity,"x ",e.formatItemName(e.lastCraftResult.itemId)," ")}}function F$(n,t){if(n&1){let e=F();l(0,"div",10)(1,"div",11)(2,"div",12)(3,"span",13),u(4),c(),l(5,"h3",14),u(6),c()(),l(7,"div",15)(8,"p"),u(9),c(),x(10,N$,4,2,"div",16),c(),l(11,"div",17)(12,"button",18),C("click",function(){E(e);let r=v();return S(r.dismissResult())}),l(13,"span",19),u(14,"\u2715"),c(),u(15," Dismiss "),c()()()()}if(n&2){let e=v();m(),T("success",e.lastCraftResult.success)("failure",!e.lastCraftResult.success),m(2),T("success-icon",e.lastCraftResult.success)("error-icon",!e.lastCraftResult.success),m(),O(" ",e.lastCraftResult.success?"\u2713":"\u2715"," "),m(2),w(e.lastCraftResult.success?"Crafting Successful!":"Crafting Failed"),m(3),w(e.lastCraftResult.message),m(),g("ngIf",e.lastCraftResult.success&&e.lastCraftResult.itemId)}}function L$(n,t){if(n&1&&(l(0,"div",38)(1,"span",39),u(2),c(),l(3,"span",40),u(4),c(),l(5,"span",41),u(6),c()()),n&2){let e=t.$implicit,i=v(2);T("has-material",i.hasMaterial(e))("lacks-material",!i.hasMaterial(e)),m(2),O(" ",i.hasMaterial(e)?"\u2713":"\u2715"," "),m(2),w(i.formatItemName(e.itemId)),m(2),ft(" ",i.getItemQuantity(e.itemId)," / ",e.quantity," ")}}function V$(n,t){if(n&1&&(l(0,"span",42)(1,"span",43),u(2,"\u23F1"),c(),u(3),c()),n&2){let e=v().$implicit;m(3),O(" ",e.craftingTime," ")}}function B$(n,t){if(n&1){let e=F();l(0,"details",21)(1,"summary",22)(2,"div",23)(3,"span",24),u(4),c(),l(5,"span",25),u(6),c()(),l(7,"div",26)(8,"span"),u(9),c()()(),l(10,"div",27)(11,"div",28)(12,"p",29),u(13),c()(),l(14,"div",28)(15,"h4")(16,"span",30),u(17,"\u{1F393}"),c(),u(18," Required Expertise "),c(),l(19,"span",31),u(20),c()(),l(21,"div",28)(22,"h4")(23,"span",30),u(24,"\u{1F4E6}"),c(),u(25," Required Materials "),c(),l(26,"div",32),x(27,L$,7,8,"div",33),c()(),l(28,"div",28)(29,"h4")(30,"span",30),u(31,"\u{1F3C6}"),c(),u(32," Result "),c(),l(33,"div",34)(34,"span"),u(35),c(),x(36,V$,4,1,"span",35),c()(),l(37,"div",36)(38,"button",37),C("click",function(){let r=E(e).$implicit,o=v();return S(o.craftItem(r))}),l(39,"span",19),u(40,"\u{1F528}"),c(),u(41),c()()()()}if(n&2){let e=t.$implicit,i=v();m(4),w(i.getCategoryIcon(e.category)),m(2),w(e.name),m(2),Ie(Pr("difficulty-chip difficulty-",e.difficulty)),m(),O(" ",i.formatDifficulty(e.difficulty)," "),m(4),w(e.description),m(7),w(e.requiredExpertise),m(7),g("ngForOf",e.materials),m(8),ft("",e.resultQuantity,"x ",i.formatItemName(e.resultItemId)),m(),g("ngIf",e.craftingTime),m(2),g("disabled",!i.canCraftRecipe(e.id)),m(3),O(" ",i.canCraftRecipe(e.id)?"Craft Item":i.getCraftabilityMessage(e.id)," ")}}function j$(n,t){n&1&&(l(0,"p"),u(1," You need crafting expertises to unlock recipes. Gain expertises through your culture, talents, or from the GM. "),c())}function z$(n,t){n&1&&(l(0,"p"),u(1," No recipes in this category. Try selecting a different category. "),c())}function U$(n,t){if(n&1&&(l(0,"div",44)(1,"span",45),u(2,"\u2139"),c(),l(3,"h3"),u(4,"No Recipes Available"),c(),x(5,j$,2,0,"p",46)(6,z$,2,0,"p",46),c()),n&2){let e=v();m(5),g("ngIf",e.availableRecipes.length===0),m(),g("ngIf",e.availableRecipes.length>0)}}var Kg=class n{constructor(t){this.characterState=t}character=null;destroy$=new P;availableRecipes=[];allRecipes=[];selectedCategory="all";lastCraftResult=null;ngOnInit(){this.characterState.character$.pipe(L(this.destroy$)).subscribe(t=>{t&&(this.character=t,this.refreshRecipes())}),this.character&&this.refreshRecipes()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refreshRecipes(){this.character&&(this.availableRecipes=this.character.crafting.getAvailableRecipes(),this.allRecipes=this.character.crafting.getAllRecipes())}getFilteredRecipes(){return this.selectedCategory==="all"?this.availableRecipes:this.availableRecipes.filter(t=>t.category===this.selectedCategory)}selectCategory(t){this.selectedCategory=t}canCraftRecipe(t){return this.character?this.character.crafting.canCraft(t).canCraft:!1}getCraftabilityMessage(t){if(!this.character)return"No character loaded";let e=this.character.crafting.canCraft(t);return e.canCraft?"Ready to craft":e.reason||"Cannot craft"}craftItem(t){if(!this.character)return;let e=this.character.crafting.craftItem(t.id);this.lastCraftResult=e,e.success&&(this.characterState.updateCharacter(this.character),this.refreshRecipes()),e.success&&setTimeout(()=>{this.lastCraftResult===e&&(this.lastCraftResult=null)},5e3)}dismissResult(){this.lastCraftResult=null}getMaterialStatus(t){return this.character?t.materials.map(e=>({itemId:e.itemId,required:e.quantity,available:this.character.inventory.getItemQuantity(e.itemId)})):[]}hasMaterial(t){return this.character?this.character.inventory.getItemQuantity(t.itemId)>=t.quantity:!1}getDifficultyColor(t){return{trivial:"primary",easy:"primary",moderate:"accent",hard:"warn","very-hard":"warn",masterwork:"warn"}[t]}getCategoryIcon(t){return{weapon:"swords",armor:"shield",utility:"construction",consumable:"science",fabrial:"auto_awesome",equipment:"handyman"}[t]}getCategoryCount(t){return this.availableRecipes.filter(e=>e.category===t).length}formatItemName(t){return t.split(/[-_]/).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}formatDifficulty(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}getItemQuantity(t){return this.character?.inventory.getItemQuantity(t)||0}static \u0275fac=function(e){return new(e||n)(k(Ne))};static \u0275cmp=D({type:n,selectors:[["app-crafting-view"]],inputs:{character:"character"},decls:32,vars:21,consts:[[1,"crafting-view-container"],["class","craft-result-notification",4,"ngIf"],[1,"category-tabs-card"],[1,"category-chips"],[1,"chip",3,"click"],[1,"chip-icon"],[1,"recipes-list"],[1,"recipe-accordion"],["class","recipe-panel",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"craft-result-notification"],[1,"notification-card"],[1,"notification-header"],[1,"notification-icon"],[1,"notification-title"],[1,"notification-content"],["class","result-details",4,"ngIf"],[1,"notification-actions"],[1,"btn","btn-text",3,"click"],[1,"btn-icon"],[1,"result-details"],[1,"recipe-panel"],[1,"recipe-header"],[1,"recipe-title"],[1,"recipe-icon"],[1,"recipe-name"],[1,"recipe-description-inline"],[1,"recipe-details"],[1,"recipe-section"],[1,"recipe-description"],[1,"section-icon"],[1,"expertise-chip"],[1,"materials-list"],["class","material-item",3,"has-material","lacks-material",4,"ngFor","ngForOf"],[1,"result-item"],["class","crafting-time",4,"ngIf"],[1,"craft-action"],[1,"btn","btn-primary","craft-button",3,"click","disabled"],[1,"material-item"],[1,"material-icon"],[1,"material-name"],[1,"material-quantity"],[1,"crafting-time"],[1,"time-icon"],[1,"empty-state"],[1,"empty-icon"],[4,"ngIf"]],template:function(e,i){e&1&&(l(0,"div",0),x(1,F$,16,12,"div",1),l(2,"div",2)(3,"div",3)(4,"button",4),C("click",function(){return i.selectCategory("all")}),l(5,"span",5),u(6,"\u229E"),c(),u(7),c(),l(8,"button",4),C("click",function(){return i.selectCategory("weapon")}),l(9,"span",5),u(10,"\u2694"),c(),u(11),c(),l(12,"button",4),C("click",function(){return i.selectCategory("armor")}),l(13,"span",5),u(14,"\u{1F6E1}"),c(),u(15),c(),l(16,"button",4),C("click",function(){return i.selectCategory("fabrial")}),l(17,"span",5),u(18,"\u2726"),c(),u(19),c(),l(20,"button",4),C("click",function(){return i.selectCategory("consumable")}),l(21,"span",5),u(22,"\u2697"),c(),u(23),c(),l(24,"button",4),C("click",function(){return i.selectCategory("equipment")}),l(25,"span",5),u(26,"\u{1F527}"),c(),u(27),c()()(),l(28,"div",6)(29,"div",7),x(30,B$,42,14,"details",8),c(),x(31,U$,7,2,"div",9),c()()),e&2&&(m(),g("ngIf",i.lastCraftResult),m(3),T("selected",i.selectedCategory==="all"),m(3),O(" All (",i.availableRecipes.length,") "),m(),T("selected",i.selectedCategory==="weapon"),m(3),O(" Weapons (",i.getCategoryCount("weapon"),") "),m(),T("selected",i.selectedCategory==="armor"),m(3),O(" Armor (",i.getCategoryCount("armor"),") "),m(),T("selected",i.selectedCategory==="fabrial"),m(3),O(" Fabrials (",i.getCategoryCount("fabrial"),") "),m(),T("selected",i.selectedCategory==="consumable"),m(3),O(" Consumables (",i.getCategoryCount("consumable"),") "),m(),T("selected",i.selectedCategory==="equipment"),m(3),O(" Equipment (",i.getCategoryCount("equipment"),") "),m(3),g("ngForOf",i.getFilteredRecipes()),m(),g("ngIf",i.getFilteredRecipes().length===0))},dependencies:[Q,ue,ie],styles:[".crafting-view-container[_ngcontent-%COMP%]{padding:1rem;max-width:1200px;margin:0 auto;color:#e0e0e0}.crafting-view-container[_ngcontent-%COMP%]   .craft-result-notification[_ngcontent-%COMP%]{margin-bottom:1.5rem;animation:_ngcontent-%COMP%_slideDown .3s ease-out}.crafting-view-container[_ngcontent-%COMP%]   .craft-result-notification[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]{background:#2a2a2a;border-radius:8px;border-left:4px solid;padding:1rem;box-shadow:0 2px 8px #0000004d}.crafting-view-container[_ngcontent-%COMP%]   .craft-result-notification[_ngcontent-%COMP%]   .notification-card.success[_ngcontent-%COMP%]{border-left-color:#4caf50;background-color:#4caf5026}.crafting-view-container[_ngcontent-%COMP%]   .craft-result-notification[_ngcontent-%COMP%]   .notification-card.failure[_ngcontent-%COMP%]{border-left-color:#f44336;background-color:#f4433626}.crafting-view-container[_ngcontent-%COMP%]   .craft-result-notification[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:.75rem}.crafting-view-container[_ngcontent-%COMP%]   .craft-result-notification[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{font-size:2rem;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%}.crafting-view-container[_ngcontent-%COMP%]   .craft-result-notification[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon.success-icon[_ngcontent-%COMP%]{color:#4caf50;background:#4caf5033}.crafting-view-container[_ngcontent-%COMP%]   .craft-result-notification[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon.error-icon[_ngcontent-%COMP%]{color:#f44336;background:#f4433633}.crafting-view-container[_ngcontent-%COMP%]   .craft-result-notification[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600}.crafting-view-container[_ngcontent-%COMP%]   .craft-result-notification[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]{margin-bottom:1rem}.crafting-view-container[_ngcontent-%COMP%]   .craft-result-notification[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#b0b0b0}.crafting-view-container[_ngcontent-%COMP%]   .craft-result-notification[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .result-details[_ngcontent-%COMP%]{margin-top:.5rem;padding:.5rem;background-color:#ffffff0d;border-radius:4px}.crafting-view-container[_ngcontent-%COMP%]   .craft-result-notification[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .result-details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#4caf50}.crafting-view-container[_ngcontent-%COMP%]   .craft-result-notification[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.crafting-view-container[_ngcontent-%COMP%]   .category-tabs-card[_ngcontent-%COMP%]{background:#2a2a2a;border-radius:8px;padding:1rem;margin-bottom:1.5rem;box-shadow:0 2px 4px #0003}.crafting-view-container[_ngcontent-%COMP%]   .category-tabs-card[_ngcontent-%COMP%]   .category-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.crafting-view-container[_ngcontent-%COMP%]   .category-tabs-card[_ngcontent-%COMP%]   .category-chips[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#3a3a3a;border:1px solid #4a4a4a;border-radius:16px;color:#b0b0b0;font-weight:500;cursor:pointer;transition:all .2s}.crafting-view-container[_ngcontent-%COMP%]   .category-tabs-card[_ngcontent-%COMP%]   .category-chips[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]   .chip-icon[_ngcontent-%COMP%]{font-size:18px;line-height:1}.crafting-view-container[_ngcontent-%COMP%]   .category-tabs-card[_ngcontent-%COMP%]   .category-chips[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]:hover{background:#4a4a4a;border-color:#5a5a5a}.crafting-view-container[_ngcontent-%COMP%]   .category-tabs-card[_ngcontent-%COMP%]   .category-chips[_ngcontent-%COMP%]   .chip.selected[_ngcontent-%COMP%]{background:#5e35b1;color:#fff;border-color:#7e57c2}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-accordion[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]{background:#2a2a2a;border:1px solid #3a3a3a;border-radius:8px;overflow:hidden;transition:all .2s}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #0000004d;border-color:#4a4a4a}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{list-style:none;cursor:pointer;-webkit-user-select:none;user-select:none}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]::-webkit-details-marker{display:none}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#333;transition:background .2s}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-header[_ngcontent-%COMP%]:hover{background:#3a3a3a}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-header[_ngcontent-%COMP%]   .recipe-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-header[_ngcontent-%COMP%]   .recipe-title[_ngcontent-%COMP%]   .recipe-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:#7e57c2}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-header[_ngcontent-%COMP%]   .recipe-title[_ngcontent-%COMP%]   .recipe-name[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;color:#e0e0e0}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-header[_ngcontent-%COMP%]   .recipe-description-inline[_ngcontent-%COMP%]   .difficulty-chip[_ngcontent-%COMP%]{display:inline-block;font-size:.75rem;font-weight:600;padding:.25rem .75rem;border-radius:12px;white-space:nowrap}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-header[_ngcontent-%COMP%]   .recipe-description-inline[_ngcontent-%COMP%]   .difficulty-chip.difficulty-trivial[_ngcontent-%COMP%]{background-color:#2e7d32;color:#c8e6c9}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-header[_ngcontent-%COMP%]   .recipe-description-inline[_ngcontent-%COMP%]   .difficulty-chip.difficulty-easy[_ngcontent-%COMP%]{background-color:#388e3c;color:#e8f5e9}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-header[_ngcontent-%COMP%]   .recipe-description-inline[_ngcontent-%COMP%]   .difficulty-chip.difficulty-moderate[_ngcontent-%COMP%]{background-color:#f57f17;color:#fff9c4}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-header[_ngcontent-%COMP%]   .recipe-description-inline[_ngcontent-%COMP%]   .difficulty-chip.difficulty-hard[_ngcontent-%COMP%]{background-color:#e65100;color:#ffe0b2}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-header[_ngcontent-%COMP%]   .recipe-description-inline[_ngcontent-%COMP%]   .difficulty-chip.difficulty-very-hard[_ngcontent-%COMP%]{background-color:#bf360c;color:#ffccbc}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-header[_ngcontent-%COMP%]   .recipe-description-inline[_ngcontent-%COMP%]   .difficulty-chip.difficulty-masterwork[_ngcontent-%COMP%]{background-color:#4a148c;color:#f3e5f5}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]{padding:1.5rem;background:#2a2a2a}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]:last-of-type{margin-bottom:1rem}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0 0 .75rem;font-size:.95rem;font-weight:600;color:#b0b0b0}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{font-size:20px;line-height:1}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]   .recipe-description[_ngcontent-%COMP%]{margin:0;color:#909090;line-height:1.5}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]   .expertise-chip[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;background-color:#5a93d34d;color:#90caf9;font-weight:500;border-radius:12px}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]   .materials-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]   .materials-list[_ngcontent-%COMP%]   .material-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem;border-radius:6px;transition:all .2s}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]   .materials-list[_ngcontent-%COMP%]   .material-item.has-material[_ngcontent-%COMP%]{background-color:#4caf5026;border-left:3px solid #4caf50}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]   .materials-list[_ngcontent-%COMP%]   .material-item.has-material[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{color:#4caf50;font-weight:700;font-size:1.25rem}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]   .materials-list[_ngcontent-%COMP%]   .material-item.has-material[_ngcontent-%COMP%]   .material-quantity[_ngcontent-%COMP%]{color:#66bb6a;font-weight:600}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]   .materials-list[_ngcontent-%COMP%]   .material-item.lacks-material[_ngcontent-%COMP%]{background-color:#f4433626;border-left:3px solid #f44336}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]   .materials-list[_ngcontent-%COMP%]   .material-item.lacks-material[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{color:#f44336;font-weight:700;font-size:1.25rem}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]   .materials-list[_ngcontent-%COMP%]   .material-item.lacks-material[_ngcontent-%COMP%]   .material-quantity[_ngcontent-%COMP%]{color:#ef5350;font-weight:600}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]   .materials-list[_ngcontent-%COMP%]   .material-item[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{width:24px;text-align:center}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]   .materials-list[_ngcontent-%COMP%]   .material-item[_ngcontent-%COMP%]   .material-name[_ngcontent-%COMP%]{flex:1;font-weight:500;color:#e0e0e0}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]   .materials-list[_ngcontent-%COMP%]   .material-item[_ngcontent-%COMP%]   .material-quantity[_ngcontent-%COMP%]{font-size:.9rem;font-family:monospace}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background-color:#9c27b026;border-radius:6px;border-left:3px solid #9c27b0}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-child{font-weight:600;color:#ce93d8}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .crafting-time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.85rem;color:#b39ddb}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .recipe-section[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .crafting-time[_ngcontent-%COMP%]   .time-icon[_ngcontent-%COMP%]{font-size:16px}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .recipe-panel[_ngcontent-%COMP%]   .recipe-details[_ngcontent-%COMP%]   .craft-action[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:1.5rem}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;color:#707070}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;display:block;margin:0 auto 1rem;color:#505050}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-weight:500;color:#909090}.crafting-view-container[_ngcontent-%COMP%]   .recipes-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;max-width:500px;margin:0 auto;color:#707070}.crafting-view-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.625rem 1.25rem;border:none;border-radius:6px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s;text-transform:uppercase;letter-spacing:.5px}.crafting-view-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1}.crafting-view-container[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:#5e35b1;color:#fff}.crafting-view-container[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#7e57c2;box-shadow:0 4px 8px #5e35b14d}.crafting-view-container[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:active:not(:disabled){background:#512da8}.crafting-view-container[_ngcontent-%COMP%]   .btn.btn-text[_ngcontent-%COMP%]{background:transparent;color:#b0b0b0;padding:.5rem 1rem}.crafting-view-container[_ngcontent-%COMP%]   .btn.btn-text[_ngcontent-%COMP%]:hover{background:#ffffff0d}.crafting-view-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.crafting-view-container[_ngcontent-%COMP%]   .craft-button[_ngcontent-%COMP%]{min-width:180px}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}"]})};function H$(n,t){if(n&1){let e=F();l(0,"div",11)(1,"mat-card",12)(2,"mat-card-header")(3,"mat-icon",13),u(4,"school"),c(),l(5,"mat-card-title"),u(6,"Expertise Granted!"),c(),l(7,"mat-card-subtitle"),u(8,"The GM has granted you a new expertise"),c()(),l(9,"mat-card-content")(10,"div",14)(11,"div",15)(12,"mat-icon"),u(13,"check_circle"),c(),l(14,"strong"),u(15),c()(),l(16,"p",16),u(17," This expertise has been added to your character and now functions as a skill with Intellect as the governing attribute. "),c()()(),l(18,"mat-card-actions",17)(19,"button",18),C("click",function(){E(e);let r=v(2);return S(r.dismissExpertiseGrant())}),l(20,"mat-icon"),u(21,"close"),c(),u(22," Dismiss "),c()()()()}if(n&2){let e=v(2);m(15),w(e.pendingExpertiseGrant.expertiseName)}}function q$(n,t){if(n&1){let e=F();l(0,"div",19)(1,"mat-card",20)(2,"mat-card-header")(3,"mat-icon",21),u(4,"warning"),c(),l(5,"mat-card-title"),u(6,"Pending Level-Up!"),c(),l(7,"mat-card-subtitle"),u(8),c()(),l(9,"mat-card-content")(10,"div",22)(11,"p",23),u(12," You must spend your pending level points before continuing. Click the button below to proceed with character advancement. "),c()()(),l(13,"mat-card-actions",17)(14,"button",24),C("click",function(){E(e);let r=v(2);return S(r.navigateToLevelUp())}),l(15,"mat-icon"),u(16,"trending_up"),c(),u(17," Level Up Now "),c()()()()}if(n&2){let e=v(2);m(8),ft("You have ",e.character.pendingLevelPoints," unspent level",e.character.pendingLevelPoints>1?"s":"")}}function $$(n,t){if(n&1){let e=F();l(0,"div",25)(1,"div",26)(2,"app-character-portrait-card",27),C("portraitChanged",function(r){E(e);let o=v(2);return S(o.onPortraitChanged(r))}),c(),q(3,"app-character-defenses-card",28),l(4,"app-character-resources-bar",29),C("resourceChanged",function(r){E(e);let o=v(2);return S(o.onResourceChanged(r))}),c()()()}if(n&2){let e=v(2);m(2),g("character",e.character)("characterId",e.characterId)("portraitUrl",e.portraitUrl),m(),g("character",e.character),m(),g("character",e.character)}}function G$(n,t){if(n&1&&(l(0,"div",25)(1,"div",30)(2,"div",31)(3,"div",32),q(4,"app-character-skills-card",28),c(),l(5,"div",33),q(6,"app-skill-roller",28),c()()()()),n&2){let e=v(2);m(4),g("character",e.character),m(2),g("character",e.character)}}function W$(n,t){if(n&1&&(l(0,"div",25)(1,"div",34),q(2,"app-character-powers-tab",28),c()()),n&2){let e=v(2);m(2),g("character",e.character)}}function Y$(n,t){if(n&1&&(l(0,"div",41),q(1,"app-inventory-view",28),c()),n&2){let e=v(3);m(),g("character",e.character)}}function K$(n,t){if(n&1&&(l(0,"div",41),q(1,"app-crafting-view",28),c()),n&2){let e=v(3);m(),g("character",e.character)}}function Q$(n,t){if(n&1){let e=F();l(0,"div",25)(1,"div",35)(2,"div",36)(3,"div",37)(4,"button",38),C("click",function(){E(e);let r=v(2);return S(r.equipmentActiveTab="inventory")}),l(5,"span",39),u(6,"\u{1F392}"),c(),u(7," Inventory "),c(),l(8,"button",38),C("click",function(){E(e);let r=v(2);return S(r.equipmentActiveTab="crafting")}),l(9,"span",39),u(10,"\u{1F528}"),c(),u(11," Crafting "),c()(),x(12,Y$,2,1,"div",40)(13,K$,2,1,"div",40),c()()()}if(n&2){let e=v(2);m(4),T("active",e.equipmentActiveTab==="inventory"),m(4),T("active",e.equipmentActiveTab==="crafting"),m(4),g("ngIf",e.equipmentActiveTab==="inventory"),m(),g("ngIf",e.equipmentActiveTab==="crafting")}}function Z$(n,t){if(n&1){let e=F();l(0,"div",25)(1,"div",34)(2,"mat-card",42)(3,"mat-card-header")(4,"mat-icon",43),u(5,"notes"),c(),l(6,"mat-card-title"),u(7,"Session Notes"),c()(),l(8,"mat-card-content")(9,"mat-form-field",44)(10,"mat-label"),u(11,"Notes, objectives, and reminders..."),c(),l(12,"textarea",45),rn("ngModelChange",function(r){E(e);let o=v(2);return pn(o.sessionNotes,r)||(o.sessionNotes=r),S(r)}),C("blur",function(){E(e);let r=v(2);return S(r.saveCharacter())}),u(13,"              "),c()()()()()()}if(n&2){let e=v(2);m(12),nn("ngModel",e.sessionNotes)}}function X$(n,t){if(n&1){let e=F();l(0,"div",2)(1,"app-character-sheet-header",3),C("save",function(){E(e);let r=v();return S(r.saveCharacter())})("export",function(){E(e);let r=v();return S(r.exportCharacter())})("navigateBack",function(){E(e);let r=v();return S(r.backToList())}),c(),l(2,"app-radiant-path-notifications",4),C("sprenAccepted",function(){E(e);let r=v();return S(r.onSprenAccepted())})("sprenDismissed",function(){E(e);let r=v();return S(r.onSprenDismissed())})("idealSpoken",function(){E(e);let r=v();return S(r.onIdealSpoken())}),c(),x(3,H$,23,1,"div",5)(4,q$,18,2,"div",6),l(5,"div",7)(6,"div",8)(7,"button",9),C("click",function(){E(e);let r=v();return S(r.activeTab=0)}),u(8,"Overview"),c(),l(9,"button",9),C("click",function(){E(e);let r=v();return S(r.activeTab=1)}),u(10,"Skills"),c(),l(11,"button",9),C("click",function(){E(e);let r=v();return S(r.activeTab=2)}),u(12,"Talents & Expertises"),c(),l(13,"button",9),C("click",function(){E(e);let r=v();return S(r.activeTab=3)}),u(14,"Equipment"),c(),l(15,"button",9),C("click",function(){E(e);let r=v();return S(r.activeTab=4)}),u(16,"Notes"),c()(),x(17,$$,5,5,"div",10)(18,G$,7,2,"div",10)(19,W$,3,1,"div",10)(20,Q$,14,6,"div",10)(21,Z$,14,1,"div",10),c()()}if(n&2){let e=v();m(),g("character",e.character),m(),g("character",e.character)("pendingSprenGrant",e.pendingSprenGrant),m(),g("ngIf",e.pendingExpertiseGrant),m(),g("ngIf",e.character.pendingLevelPoints>0),m(3),T("active",e.activeTab===0),m(2),T("active",e.activeTab===1),m(2),T("active",e.activeTab===2),m(2),T("active",e.activeTab===3),m(2),T("active",e.activeTab===4),m(2),g("ngIf",e.activeTab===0),m(),g("ngIf",e.activeTab===1),m(),g("ngIf",e.activeTab===2),m(),g("ngIf",e.activeTab===3),m(),g("ngIf",e.activeTab===4)}}function J$(n,t){if(n&1){let e=F();l(0,"div",46)(1,"mat-icon"),u(2,"error_outline"),c(),l(3,"h2"),u(4,"No Character Loaded"),c(),l(5,"p"),u(6,"Please select a character from the character list."),c(),l(7,"button",47),C("click",function(){E(e);let r=v();return S(r.backToList())}),u(8," Go to Character List "),c()()}}var Tu=class n{constructor(t,e,i,r,o,a,s){this.route=t;this.router=e;this.characterStorage=i;this.characterState=r;this.websocketService=o;this.dialog=a;this.cdr=s}activeTab=0;equipmentActiveTab="inventory";destroy$=new P;resourceUpdateSubject=new P;autoSaveInterval=null;character=null;characterId="";sessionNotes="";portraitUrl=null;pendingSprenGrant=null;pendingExpertiseGrant=null;ngOnInit(){this.websocketService.connect(),this.websocketService.connected$.pipe(L(this.destroy$)).subscribe(t=>{t&&this.character&&this.emitPlayerJoin()}),this.route.params.pipe(L(this.destroy$)).subscribe(t=>{t.id&&(this.characterId=t.id,this.loadCharacter(this.characterId))}),this.characterState.character$.pipe(L(this.destroy$)).subscribe(t=>{t&&this.character?(this.character=t,this.portraitUrl=t.portraitUrl||null,this.cdr.detectChanges()):t&&!this.character&&(this.character=t,this.portraitUrl=t.portraitUrl||null,this.sessionNotes=t.sessionNotes||"",this.cdr.detectChanges())}),this.resourceUpdateSubject.pipe(L(this.destroy$),yi(2500)).subscribe(()=>{this.emitResourceUpdate()}),this.autoSaveInterval=setInterval(()=>{this.character&&this.saveCharacter()},3e4),this.websocketService.itemGrant$.pipe(L(this.destroy$)).subscribe(t=>{this.character&&t.characterId===this.characterId&&(console.log("[Character Sheet] Item granted:",t.itemId,"x",t.quantity),this.character.inventory.addItem(t.itemId,t.quantity),this.saveCharacter())}),console.log("[Character Sheet] \u{1F514} Setting up spren grant listener..."),this.websocketService.sprenGrant$.pipe(L(this.destroy$)).subscribe(t=>{console.log("[Character Sheet] \u2B50\u2B50\u2B50 SPREN GRANT RECEIVED IN CHARACTER SHEET \u2B50\u2B50\u2B50"),console.log("[Character Sheet] \u2B50 Spren grant received:",t),console.log("[Character Sheet] \u2B50 Current character ID:",this.characterId),this.characterId&&t.characterId===this.characterId?(console.log("[Character Sheet] \u2B50 Match! Showing spren notification"),this.pendingSprenGrant=t,setTimeout(()=>{this.pendingSprenGrant===t&&(this.pendingSprenGrant=null,this.cdr.detectChanges())},3e4),this.cdr.detectChanges()):console.log("[Character Sheet] \u2B50 No match - character ID mismatch")}),console.log("[Character Sheet] \u{1F4DA} Setting up expertise grant listener..."),console.log("[Character Sheet] \u{1F4DA} Current character ID:",this.characterId),this.websocketService.expertiseGrant$.pipe(L(this.destroy$)).subscribe(t=>{console.log("[Character Sheet] \u{1F4DA}\u{1F4DA}\u{1F4DA} EXPERTISE GRANT RECEIVED IN SUBSCRIBE \u{1F4DA}\u{1F4DA}\u{1F4DA}"),console.log("[Character Sheet] \u{1F4DA} Expertise grant received:",t),console.log("[Character Sheet] \u{1F4DA} Current character ID:",this.characterId),console.log("[Character Sheet] \u{1F4DA} Grant character ID:",t.characterId),this.characterId&&t.characterId===this.characterId?(console.log("[Character Sheet] \u{1F4DA} Match! Adding expertise:",t.expertiseName),this.pendingExpertiseGrant=t,this.character&&(this.characterState.addExpertise(t.expertiseName,"gm",void 0),this.saveCharacter()),setTimeout(()=>{this.pendingExpertiseGrant===t&&(this.pendingExpertiseGrant=null,this.cdr.detectChanges())},1e4),this.cdr.detectChanges()):console.log("[Character Sheet] \u{1F4DA} No match - character ID mismatch or missing")}),console.log("[Character Sheet] \u{1F4DA} Expertise grant listener subscription complete"),console.log("[Character Sheet] \u{1F199} Setting up level-up listener..."),this.websocketService.levelUp$.pipe(L(this.destroy$)).subscribe(t=>{console.log("[Character Sheet] \u{1F199}\u{1F199}\u{1F199} LEVEL-UP EVENT RECEIVED \u{1F199}\u{1F199}\u{1F199}"),console.log("[Character Sheet] \u{1F199} Level-up event:",t),this.characterId&&t.characterId===this.characterId&&(console.log("[Character Sheet] \u{1F199} Match! Incrementing level and pending points"),this.character&&(this.character.level=t.newLevel,this.character.pendingLevelPoints+=1,this.saveCharacter(),this.cdr.detectChanges()))}),console.log("[Character Sheet] \u{1F199} Level-up listener subscription complete")}ngOnDestroy(){this.character&&this.saveCharacter(),this.characterId&&this.websocketService.emitPlayerLeave(this.characterId),this.websocketService.disconnect(),this.autoSaveInterval&&clearInterval(this.autoSaveInterval),this.destroy$.next(),this.destroy$.complete()}loadCharacter(t){console.log("[Character Sheet] Loading character with ID:",t),this.characterStorage.loadCharacter(t).pipe(L(this.destroy$)).subscribe(e=>{e?(console.log("[Character Sheet] Character loaded:",{name:e.name,level:e.level,ancestry:e.ancestry}),this.character=e,this.portraitUrl=e.portraitUrl||null,this.characterState.updateCharacter(e),this.sessionNotes=e.sessionNotes||"",this.cdr.detectChanges(),this.websocketService.isConnected()?(console.log("[Character Sheet] WebSocket connected, emitting player-join immediately"),this.emitPlayerJoin()):console.log("[Character Sheet] WebSocket not connected yet, will emit on connection")):(console.warn("[Character Sheet] Character not found, redirecting to landing page"),this.router.navigate(["/"]))})}onResourceChanged(t){if(!this.character)return;let{resourceName:e,newValue:i}=t,r=this.character.resources.health.current;switch(e){case"Health":this.character.resources.health.currentValue=i;break;case"Focus":this.character.resources.focus.currentValue=i;break;case"Investiture":this.character.resources.investiture.currentValue=i;break}e==="Health"&&i===0&&r!==0?this.emitResourceUpdate():this.resourceUpdateSubject.next(),this.autoSave()}saveCharacter(){if(!this.character)return;let t=this.character.id,e=this.character.name&&this.character.name.trim().length>0,i=this.character.ancestry!==null,r=this.character.level>1;if(!t&&!e&&!i&&!r){console.warn("[Character Sheet] Skipping save - character is completely empty");return}this.character.sessionNotes=this.sessionNotes,this.characterStorage.saveCharacter(this.character).pipe(L(this.destroy$)).subscribe(o=>{o.success&&(console.log("Character saved successfully:",o.id),this.characterId=o.id)})}autoSave(){this.saveCharacter()}exportCharacter(){this.character&&this.characterStorage.exportCharacter(this.character)}backToList(){if(!this.character){this.router.navigate(["/character-list"]);return}confirm("Do you want to save your character before leaving?")?this.characterStorage.saveCharacter(this.character).pipe(L(this.destroy$)).subscribe({next:e=>{console.log("Character saved before navigation:",e),this.router.navigate(["/character-list"])},error:e=>{console.error("Error saving character:",e),this.router.navigate(["/character-list"])}}):this.router.navigate(["/character-list"])}getTrainedSkills(){let t=[];if(this.character?.skills)try{let e=this.character.skills.getAllSkillRanks();Object.entries(e).forEach(([i,r])=>{if(r>0){let o=i,a=this.character.skills.getAllSkillTotals(this.character.attributes)[o];t.push({name:this.formatSkillName(i),rank:r,total:a})}})}catch(e){console.error("Error accessing skill ranks:",e)}return t.sort((e,i)=>e.name.localeCompare(i.name))}formatSkillName(t){return t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}onPortraitChanged(t){this.character&&(t?(this.character.portraitUrl=t,this.portraitUrl=t):(delete this.character.portraitUrl,this.portraitUrl=null),this.characterState.updateCharacter(this.character),this.autoSave())}emitPlayerJoin(){if(!this.character){console.warn("[Character Sheet] Cannot emit player-join: character is null");return}let t={characterId:this.characterId||this.character.id,name:this.character.name||"Unknown",level:this.character.level||1,ancestry:this.character.ancestry,health:{current:this.character.resources.health.current,max:this.character.resources.health.max},focus:{current:this.character.resources.focus.current,max:this.character.resources.focus.max},investiture:{current:this.character.resources.investiture.current,max:this.character.resources.investiture.max}};console.log("[Character Sheet] Emitting player-join with data:",t),this.websocketService.emitPlayerJoin(t)}emitResourceUpdate(){!this.character||!this.characterId||this.websocketService.emitResourceUpdate({characterId:this.characterId||this.character.id,health:{current:this.character.resources.health.current,max:this.character.resources.health.max},focus:{current:this.character.resources.focus.current,max:this.character.resources.focus.max},investiture:{current:this.character.resources.investiture.current,max:this.character.resources.investiture.max}})}onSprenAccepted(){console.log("[Character Sheet] Spren accepted, saving character"),this.pendingSprenGrant=null,this.characterState.updateCharacter(this.character),this.saveCharacter(),this.cdr.detectChanges()}onSprenDismissed(){console.log("[Character Sheet] Spren grant dismissed"),this.pendingSprenGrant=null}onIdealSpoken(){console.log("[Character Sheet] First Ideal spoken, saving character"),this.characterState.updateCharacter(this.character),this.saveCharacter(),this.cdr.detectChanges()}dismissExpertiseGrant(){console.log("[Character Sheet] Expertise grant dismissed"),this.pendingExpertiseGrant=null,this.cdr.detectChanges()}navigateToLevelUp(){if(!this.character||this.character.pendingLevelPoints<=0)return;console.log("[Character Sheet] Navigating to level-up screen"),this.saveCharacter();let i=new gn().getAttributePointsForLevel(this.character.level||1)>0?"attributes":"skills";this.router.navigate([`/character-creator-view/${i}`],{queryParams:{levelUp:"true"}})}static \u0275fac=function(e){return new(e||n)(k(Bt),k(Pt),k(Ca),k(Ne),k(Wr),k(Ai),k(fe))};static \u0275cmp=D({type:n,selectors:[["app-character-sheet-view"]],decls:2,vars:2,consts:[["class","character-sheet-container",4,"ngIf"],["class","no-character",4,"ngIf"],[1,"character-sheet-container"],[3,"save","export","navigateBack","character"],[3,"sprenAccepted","sprenDismissed","idealSpoken","character","pendingSprenGrant"],["class","expertise-grant-notification",4,"ngIf"],["class","level-up-warning-notification",4,"ngIf"],[1,"sheet-tabs","custom-tabs"],[1,"tab-labels"],[1,"tab-label",3,"click"],["class","tab-content",4,"ngIf"],[1,"expertise-grant-notification"],[1,"notification-card","expertise-notification"],["mat-card-avatar","",1,"notification-icon"],[1,"expertise-grant-content"],[1,"expertise-name"],[1,"grant-message"],["align","end"],["mat-button","",3,"click"],[1,"level-up-warning-notification"],[1,"notification-card","level-up-warning"],["mat-card-avatar","",1,"notification-icon","warning-icon"],[1,"level-up-warning-content"],[1,"warning-message"],["mat-raised-button","","color","warn",3,"click"],[1,"tab-content"],[1,"sheet-content","overview-tab"],[3,"portraitChanged","character","characterId","portraitUrl"],[3,"character"],[3,"resourceChanged","character"],[1,"sheet-content","skills-tab"],[1,"skills-layout"],[1,"skills-display"],[1,"skills-roller"],[1,"sheet-content","powers-notes-tab"],[1,"sheet-content"],[1,"equipment-tabs"],[1,"equipment-tab-headers"],[1,"equipment-tab-label",3,"click"],[1,"tab-icon"],["class","equipment-tab-content",4,"ngIf"],[1,"equipment-tab-content"],[1,"notes-card"],[1,"section-icon"],["appearance","outline",1,"notes-field"],["matInput","","rows","10","placeholder","Track your adventure here...",3,"ngModelChange","blur","ngModel"],[1,"no-character"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){e&1&&x(0,X$,22,20,"div",0)(1,J$,9,0,"div",1),e&2&&(g("ngIf",i.character),m(),g("ngIf",!i.character))},dependencies:[Q,ie,Ii,Lr,ki,fi,Re,qe,Tn,ia,Ke,dt,na,lt,ge,Pe,oe,le,Un,ti,gi,ua,Hc,Ri,Zt,Yr,Bg,jg,zg,Ug,Hg,qg,Gg,Wg,Yg,Kg],styles:['@keyframes _ngcontent-%COMP%_fadeInTab{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}.custom-tabs[_ngcontent-%COMP%]   .tab-labels[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:1rem;border-bottom:2px solid var(--gpSystemDarkGrey);overflow-x:auto;-webkit-overflow-scrolling:touch}.custom-tabs[_ngcontent-%COMP%]   .tab-labels[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}.custom-tabs[_ngcontent-%COMP%]   .tab-labels[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--gpSystemDarkGrey)}.custom-tabs[_ngcontent-%COMP%]   .tab-labels[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--gpColor-ChalkyBlue);border-radius:2px}.custom-tabs[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{background:none;border:none;color:#e8e8e8;font-size:1rem;font-weight:600;padding:.75rem 1.25rem .5rem;cursor:pointer;border-radius:8px 8px 0 0;transition:background .2s,color .2s;outline:none;position:relative;white-space:nowrap;flex-shrink:0}.custom-tabs[_ngcontent-%COMP%]   .tab-label.active[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue);background:var(--gpSystemDarkGrey);box-shadow:0 -2px 8px #4ab3e814;z-index:2}.custom-tabs[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]:not(.active):hover{background:#4ab3e814;color:#fff}.custom-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInTab .2s}mat-divider[_ngcontent-%COMP%]{border-top-color:var(--gpSystemDarkGrey)}.sheet-tabs[_ngcontent-%COMP%]{margin-top:0}.sheet-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-labels{background-color:var(--gpSystemDarkerGrey)}.sheet-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-label .mdc-tab__content, .sheet-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-label .mdc-tab__text-label, .sheet-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-label span, .sheet-tabs[_ngcontent-%COMP%]     [mat-tab-label] .mdc-tab__content, .sheet-tabs[_ngcontent-%COMP%]     [mat-tab-label] .mdc-tab__text-label, .sheet-tabs[_ngcontent-%COMP%]     [mat-tab-label] span{color:#fff!important;opacity:1!important}.sheet-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-label.mdc-tab--active .mdc-tab__content, .sheet-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-label.mdc-tab--active .mdc-tab__text-label, .sheet-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-label.mdc-tab--active span, .sheet-tabs[_ngcontent-%COMP%]     [mat-tab-label].mdc-tab--active .mdc-tab__content, .sheet-tabs[_ngcontent-%COMP%]     [mat-tab-label].mdc-tab--active .mdc-tab__text-label, .sheet-tabs[_ngcontent-%COMP%]     [mat-tab-label].mdc-tab--active span{color:var(--gpColor-ChalkyBlue)!important}.sheet-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-label:focus .mdc-tab__content, .sheet-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-label.cdk-keyboard-focused .mdc-tab__content, .sheet-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-label.cdk-program-focused .mdc-tab__content, .sheet-tabs[_ngcontent-%COMP%]     [mat-tab-label]:focus .mdc-tab__content, .sheet-tabs[_ngcontent-%COMP%]     [mat-tab-label].cdk-keyboard-focused .mdc-tab__content, .sheet-tabs[_ngcontent-%COMP%]     [mat-tab-label].cdk-program-focused .mdc-tab__content{color:#fff!important}.sheet-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1rem}.sheet-content.powers-notes-tab[_ngcontent-%COMP%]{max-width:100%}.sheet-content.skills-tab[_ngcontent-%COMP%]{max-width:100%;padding:1rem 0}.sheet-content.skills-tab[_ngcontent-%COMP%]   .skills-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 400px;gap:1rem;align-items:start}.sheet-content.skills-tab[_ngcontent-%COMP%]   .skills-layout[_ngcontent-%COMP%]   .skills-display[_ngcontent-%COMP%]{grid-column:1}.sheet-content.skills-tab[_ngcontent-%COMP%]   .skills-layout[_ngcontent-%COMP%]   .skills-roller[_ngcontent-%COMP%]{grid-column:2;position:sticky;top:1rem}@media(max-width:1024px){.sheet-content.skills-tab[_ngcontent-%COMP%]   .skills-layout[_ngcontent-%COMP%]{grid-template-columns:1fr}.sheet-content.skills-tab[_ngcontent-%COMP%]   .skills-layout[_ngcontent-%COMP%]   .skills-display[_ngcontent-%COMP%], .sheet-content.skills-tab[_ngcontent-%COMP%]   .skills-layout[_ngcontent-%COMP%]   .skills-roller[_ngcontent-%COMP%]{grid-column:1}.sheet-content.skills-tab[_ngcontent-%COMP%]   .skills-layout[_ngcontent-%COMP%]   .skills-roller[_ngcontent-%COMP%]{position:static}}.sheet-content.overview-tab[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:auto auto;gap:1rem;padding-bottom:6rem;padding-left:0}.sheet-content.overview-tab[_ngcontent-%COMP%]   app-character-portrait-card[_ngcontent-%COMP%]{grid-column:1;grid-row:1/3}.sheet-content.overview-tab[_ngcontent-%COMP%]   app-character-defenses-card[_ngcontent-%COMP%]{grid-column:2;grid-row:1}.sheet-content.overview-tab[_ngcontent-%COMP%]   app-character-resources-bar[_ngcontent-%COMP%]{grid-column:2;grid-row:2}@media(max-width:900px){.sheet-content.overview-tab[_ngcontent-%COMP%]{grid-template-columns:1fr}.sheet-content.overview-tab[_ngcontent-%COMP%]   app-character-portrait-card[_ngcontent-%COMP%], .sheet-content.overview-tab[_ngcontent-%COMP%]   app-character-defenses-card[_ngcontent-%COMP%], .sheet-content.overview-tab[_ngcontent-%COMP%]   app-character-resources-bar[_ngcontent-%COMP%]{grid-column:1;grid-row:auto}.sheet-content.overview-tab[_ngcontent-%COMP%]   app-character-portrait-card[_ngcontent-%COMP%]{grid-row:1}.sheet-content.overview-tab[_ngcontent-%COMP%]   app-character-defenses-card[_ngcontent-%COMP%]{grid-row:2}.sheet-content.overview-tab[_ngcontent-%COMP%]   app-character-resources-bar[_ngcontent-%COMP%]{grid-row:3}}.stats-card[_ngcontent-%COMP%], .powers-card[_ngcontent-%COMP%], .notes-card[_ngcontent-%COMP%], .portrait-card[_ngcontent-%COMP%]{margin-bottom:0;background:var(--gpSystemDarkerGrey)!important}.stats-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .powers-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .notes-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .portrait-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem}.stats-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%], .powers-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%], .notes-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%], .portrait-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:var(--gpColor-ChalkyBlue)}.stats-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .powers-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .notes-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .portrait-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin:0;color:#fff}.stats-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .powers-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .notes-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .portrait-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:.75rem;color:#e8e8e8}.character-sheet-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;max-width:80%;max-height:90%;margin:0 auto;padding:1rem;box-sizing:border-box}@media(max-width:900px){.character-sheet-container[_ngcontent-%COMP%]{padding:.5rem .5rem 20rem;gap:.5rem}}@media(max-width:768px){.character-sheet-container[_ngcontent-%COMP%]{padding-bottom:20rem;gap:.25rem}}.expertise-grant-notification[_ngcontent-%COMP%]{position:fixed;top:80px;right:20px;z-index:1000;max-width:400px;animation:_ngcontent-%COMP%_slideInRight .3s ease-out}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.expertise-grant-notification[_ngcontent-%COMP%]   .expertise-notification[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a1a,#2a2217);border:2px solid #f39c12;box-shadow:0 4px 20px #f39c124d}.expertise-grant-notification[_ngcontent-%COMP%]   .expertise-notification[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{background:#f39c12;color:#fff}.expertise-grant-notification[_ngcontent-%COMP%]   .expertise-notification[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#f39c12;font-size:1.3rem;font-weight:600}.expertise-grant-notification[_ngcontent-%COMP%]   .expertise-notification[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#bbb}.expertise-grant-notification[_ngcontent-%COMP%]   .expertise-notification[_ngcontent-%COMP%]   .expertise-grant-content[_ngcontent-%COMP%]   .expertise-name[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem;padding:1rem;background:#f39c121a;border-radius:8px;border-left:4px solid #f39c12}.expertise-grant-notification[_ngcontent-%COMP%]   .expertise-notification[_ngcontent-%COMP%]   .expertise-grant-content[_ngcontent-%COMP%]   .expertise-name[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2ecc71;font-size:28px;width:28px;height:28px}.expertise-grant-notification[_ngcontent-%COMP%]   .expertise-notification[_ngcontent-%COMP%]   .expertise-grant-content[_ngcontent-%COMP%]   .expertise-name[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem;color:#fff}.expertise-grant-notification[_ngcontent-%COMP%]   .expertise-notification[_ngcontent-%COMP%]   .expertise-grant-content[_ngcontent-%COMP%]   .grant-message[_ngcontent-%COMP%]{color:#ddd;line-height:1.5;margin:0}.expertise-grant-notification[_ngcontent-%COMP%]   .expertise-notification[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding-top:1rem;border-top:1px solid rgba(243,156,18,.2)}@media(max-width:768px){.expertise-grant-notification[_ngcontent-%COMP%]{right:10px;left:10px;max-width:none}}.level-up-warning-notification[_ngcontent-%COMP%]{position:fixed;top:20px;left:50%;transform:translate(-50%);z-index:1001;max-width:500px;animation:_ngcontent-%COMP%_slideInDown .4s ease-out}@keyframes _ngcontent-%COMP%_slideInDown{0%{transform:translate(-50%,-100%);opacity:0}to{transform:translate(-50%);opacity:1}}.level-up-warning-notification[_ngcontent-%COMP%]   .level-up-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a1a,#2a1717);border:3px solid #e74c3c;box-shadow:0 6px 30px #e74c3c66}.level-up-warning-notification[_ngcontent-%COMP%]   .level-up-warning[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{background:#e74c3c;color:#fff;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.level-up-warning-notification[_ngcontent-%COMP%]   .level-up-warning[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#e74c3c;font-size:1.4rem;font-weight:700}.level-up-warning-notification[_ngcontent-%COMP%]   .level-up-warning[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#bbb;font-size:1rem}.level-up-warning-notification[_ngcontent-%COMP%]   .level-up-warning[_ngcontent-%COMP%]   .level-up-warning-content[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]{color:#ddd;line-height:1.6;margin:0;font-size:1rem;padding:1rem;background:#e74c3c1a;border-radius:8px;border-left:4px solid #e74c3c}.level-up-warning-notification[_ngcontent-%COMP%]   .level-up-warning[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding-top:1rem;border-top:1px solid rgba(231,76,60,.2)}.level-up-warning-notification[_ngcontent-%COMP%]   .level-up-warning[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}@media(max-width:768px){.level-up-warning-notification[_ngcontent-%COMP%]{left:10px;right:10px;max-width:none;transform:translate(0)}@keyframes slideInDown{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}}@media(max-width:900px){.sheet-content[_ngcontent-%COMP%]{padding:.5rem;gap:.5rem}.stats-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .powers-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .notes-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .portrait-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{gap:.4rem}.stats-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%], .powers-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%], .notes-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%], .portrait-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.stats-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .powers-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .notes-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .portrait-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1rem}.stats-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .powers-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .notes-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .portrait-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:.5rem;font-size:.95rem}.portrait-card[_ngcontent-%COMP%]   .portrait-header[_ngcontent-%COMP%]{padding:.5rem}.portrait-card[_ngcontent-%COMP%]   .portrait-header[_ngcontent-%COMP%]   .character-name-overlay[_ngcontent-%COMP%]{font-size:1.1rem}.portrait-card[_ngcontent-%COMP%]   .portrait-image-container[_ngcontent-%COMP%]{height:220px}.portrait-card[_ngcontent-%COMP%]   .portrait-actions[_ngcontent-%COMP%]{padding:.5rem}.portrait-card[_ngcontent-%COMP%]   .portrait-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.95rem;padding:.4rem 1rem}.attributes-grid[_ngcontent-%COMP%]{gap:.4rem}.attributes-grid[_ngcontent-%COMP%]   .attribute-box[_ngcontent-%COMP%]{padding:.5rem}.attributes-grid[_ngcontent-%COMP%]   .attribute-box[_ngcontent-%COMP%]   .attr-label[_ngcontent-%COMP%]{font-size:.75rem}.attributes-grid[_ngcontent-%COMP%]   .attribute-box[_ngcontent-%COMP%]   .attr-value[_ngcontent-%COMP%]{font-size:1.2rem}.defenses-list[_ngcontent-%COMP%]{gap:.4rem}.defenses-list[_ngcontent-%COMP%]   .defense-item[_ngcontent-%COMP%]{padding:.4rem .5rem}.defenses-list[_ngcontent-%COMP%]   .defense-item[_ngcontent-%COMP%]   .defense-label[_ngcontent-%COMP%]{font-size:.95rem}.defenses-list[_ngcontent-%COMP%]   .defense-item[_ngcontent-%COMP%]   .defense-value[_ngcontent-%COMP%]{font-size:1rem}.skills-list[_ngcontent-%COMP%], .expertises-list[_ngcontent-%COMP%]{max-height:200px;gap:.3rem}.skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%], .skills-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%], .expertises-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%], .expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]{padding:.3rem .5rem;font-size:.95rem}.skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%], .skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .expertise-name[_ngcontent-%COMP%], .skills-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%], .skills-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-name[_ngcontent-%COMP%], .expertises-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%], .expertises-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .expertise-name[_ngcontent-%COMP%], .expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%], .expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-name[_ngcontent-%COMP%]{font-size:.95rem}.skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-total[_ngcontent-%COMP%], .skills-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .skill-total[_ngcontent-%COMP%], .expertises-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-total[_ngcontent-%COMP%], .expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .skill-total[_ngcontent-%COMP%]{font-size:.85rem}.powers-list[_ngcontent-%COMP%]   .power-title[_ngcontent-%COMP%]   .power-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.powers-list[_ngcontent-%COMP%]   .power-title[_ngcontent-%COMP%]   .power-name[_ngcontent-%COMP%]{font-size:.95rem}.powers-list[_ngcontent-%COMP%]   .power-cost[_ngcontent-%COMP%]{font-size:.8rem}.powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-description[_ngcontent-%COMP%]{font-size:.95rem}.powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-meta[_ngcontent-%COMP%]{font-size:.8rem}.notes-card[_ngcontent-%COMP%]   .notes-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:120px;font-size:.9rem}.spren-notification[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]{margin:1rem auto}.spren-notification[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:.5rem}.spren-notification[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .spren-icon[_ngcontent-%COMP%], .spren-notification[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .ideal-icon[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .spren-icon[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .ideal-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.spren-notification[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem}.spren-notification[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:.7rem}.spren-notification[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .spren-message[_ngcontent-%COMP%], .spren-notification[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .ideal-message[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .spren-message[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .ideal-message[_ngcontent-%COMP%]{font-size:.95rem}.spren-notification[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .philosophy-text[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .philosophy-text[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem}.spren-notification[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .first-ideal[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .first-ideal[_ngcontent-%COMP%]{font-size:1rem;padding:.7rem}.spren-notification[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]{font-size:.9rem}.spren-notification[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{padding:.5rem}.spren-notification[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.95rem;padding:.4rem 1rem}}@media(max-width:768px){.custom-tabs[_ngcontent-%COMP%]   .tab-labels[_ngcontent-%COMP%]{gap:.25rem;margin-bottom:.5rem}.custom-tabs[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem .75rem .3rem}.sheet-header[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;margin-bottom:.5rem}.sheet-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.1rem}.sheet-header[_ngcontent-%COMP%]   .header-subtitle[_ngcontent-%COMP%]{font-size:.8rem}.sheet-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.85rem;padding:.3rem .7rem}.sheet-content[_ngcontent-%COMP%]{padding:.25rem;gap:.25rem}.stats-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .powers-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .notes-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .portrait-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{gap:.2rem}.stats-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%], .powers-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%], .notes-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%], .portrait-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.stats-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .powers-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .notes-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .portrait-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:.95rem}.stats-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .powers-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .notes-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .portrait-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:.3rem;font-size:.9rem}.portrait-card[_ngcontent-%COMP%]   .portrait-header[_ngcontent-%COMP%]{padding:.3rem}.portrait-card[_ngcontent-%COMP%]   .portrait-header[_ngcontent-%COMP%]   .character-name-overlay[_ngcontent-%COMP%]{font-size:.95rem}.portrait-card[_ngcontent-%COMP%]   .portrait-image-container[_ngcontent-%COMP%]{height:120px}.portrait-card[_ngcontent-%COMP%]   .portrait-actions[_ngcontent-%COMP%]{padding:.3rem}.portrait-card[_ngcontent-%COMP%]   .portrait-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.85rem;padding:.3rem .7rem}.attributes-grid[_ngcontent-%COMP%]{gap:.2rem}.attributes-grid[_ngcontent-%COMP%]   .attribute-box[_ngcontent-%COMP%]{padding:.3rem}.attributes-grid[_ngcontent-%COMP%]   .attribute-box[_ngcontent-%COMP%]   .attr-label[_ngcontent-%COMP%]{font-size:.7rem}.attributes-grid[_ngcontent-%COMP%]   .attribute-box[_ngcontent-%COMP%]   .attr-value[_ngcontent-%COMP%]{font-size:1rem}.defenses-list[_ngcontent-%COMP%]{gap:.2rem}.defenses-list[_ngcontent-%COMP%]   .defense-item[_ngcontent-%COMP%]{padding:.2rem .3rem}.defenses-list[_ngcontent-%COMP%]   .defense-item[_ngcontent-%COMP%]   .defense-label[_ngcontent-%COMP%]{font-size:.85rem}.defenses-list[_ngcontent-%COMP%]   .defense-item[_ngcontent-%COMP%]   .defense-value[_ngcontent-%COMP%]{font-size:.9rem}.skills-list[_ngcontent-%COMP%], .expertises-list[_ngcontent-%COMP%]{max-height:120px;gap:.15rem}.skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%], .skills-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%], .expertises-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%], .expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]{padding:.15rem .3rem;font-size:.85rem}.skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%], .skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .expertise-name[_ngcontent-%COMP%], .skills-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%], .skills-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-name[_ngcontent-%COMP%], .expertises-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%], .expertises-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .expertise-name[_ngcontent-%COMP%], .expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%], .expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .expertise-name[_ngcontent-%COMP%]{font-size:.85rem}.skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-total[_ngcontent-%COMP%], .skills-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .skill-total[_ngcontent-%COMP%], .expertises-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-total[_ngcontent-%COMP%], .expertises-list[_ngcontent-%COMP%]   .expertise-item[_ngcontent-%COMP%]   .skill-total[_ngcontent-%COMP%]{font-size:.75rem}.powers-list[_ngcontent-%COMP%]   .power-title[_ngcontent-%COMP%]   .power-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px}.powers-list[_ngcontent-%COMP%]   .power-title[_ngcontent-%COMP%]   .power-name[_ngcontent-%COMP%]{font-size:.85rem}.powers-list[_ngcontent-%COMP%]   .power-cost[_ngcontent-%COMP%]{font-size:.7rem}.powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-description[_ngcontent-%COMP%]{font-size:.85rem}.powers-list[_ngcontent-%COMP%]   .power-details[_ngcontent-%COMP%]   .power-meta[_ngcontent-%COMP%]{font-size:.7rem}.notes-card[_ngcontent-%COMP%]   .notes-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:60px;font-size:.8rem}.spren-notification[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]{margin:.5rem auto}.spren-notification[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:.3rem}.spren-notification[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .spren-icon[_ngcontent-%COMP%], .spren-notification[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .ideal-icon[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .spren-icon[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .ideal-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.spren-notification[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:.95rem}.spren-notification[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:.3rem}.spren-notification[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .spren-message[_ngcontent-%COMP%], .spren-notification[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .ideal-message[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .spren-message[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .ideal-message[_ngcontent-%COMP%]{font-size:.85rem}.spren-notification[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .philosophy-text[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .philosophy-text[_ngcontent-%COMP%]{font-size:.8rem;padding:.3rem}.spren-notification[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .first-ideal[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .first-ideal[_ngcontent-%COMP%]{font-size:.85rem;padding:.3rem}.spren-notification[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]{font-size:.8rem}.spren-notification[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{padding:.3rem}.spren-notification[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .ideal-prompt[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.85rem;padding:.3rem .7rem}}.stats-card[_ngcontent-%COMP%], .powers-card[_ngcontent-%COMP%], .notes-card[_ngcontent-%COMP%], .portrait-card[_ngcontent-%COMP%]{margin-bottom:1.5rem;background:var(--gpSystemDarkerGrey)!important}.stats-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .powers-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .notes-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .portrait-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.stats-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%], .powers-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%], .notes-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%], .portrait-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;color:var(--gpColor-ChalkyBlue)}.stats-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .powers-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .notes-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .portrait-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin:0;color:#fff}.stats-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .powers-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .notes-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .portrait-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:1rem;color:#e8e8e8}.attributes-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.75rem}.attributes-grid[_ngcontent-%COMP%]   .attribute-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1rem;background:var(--gpSystemDarkGrey);border-radius:8px;color:#fff}.attributes-grid[_ngcontent-%COMP%]   .attribute-box[_ngcontent-%COMP%]   .attr-label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem;color:#e8e8e8}.attributes-grid[_ngcontent-%COMP%]   .attribute-box[_ngcontent-%COMP%]   .attr-value[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--gpColor-ChalkyBlue)}.skills-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;max-height:400px;overflow-y:auto}.skills-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.skills-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--gpSystemDarkGrey)}.skills-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--gpColor-ChalkyBlue);border-radius:4px}.skills-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#5ab3e8}.skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto auto;gap:.5rem;align-items:center;padding:.5rem .75rem;background-color:var(--gpSystemDarkGrey);border-radius:6px}.skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%]{font-weight:500;color:#fff}.skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-ranks[_ngcontent-%COMP%]{font-size:.85rem;color:#e8e8e8}.skills-list[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .skill-total[_ngcontent-%COMP%]{font-weight:600;color:var(--gpColor-ChalkyBlue);font-size:.95rem}.notes-card[_ngcontent-%COMP%]   .notes-field[_ngcontent-%COMP%]{width:100%}.notes-card[_ngcontent-%COMP%]   .notes-field[_ngcontent-%COMP%]     .mat-mdc-form-field-focus-overlay{background-color:transparent}.notes-card[_ngcontent-%COMP%]   .notes-field[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{background-color:var(--gpSystemDarkGrey)}.notes-card[_ngcontent-%COMP%]   .notes-field[_ngcontent-%COMP%]     label, .notes-card[_ngcontent-%COMP%]   .notes-field[_ngcontent-%COMP%]     .mat-mdc-floating-label, .notes-card[_ngcontent-%COMP%]   .notes-field[_ngcontent-%COMP%]     .mat-mdc-form-field-label{display:none!important}.notes-card[_ngcontent-%COMP%]   .notes-field[_ngcontent-%COMP%]     .mat-mdc-form-field-hint, .notes-card[_ngcontent-%COMP%]   .notes-field[_ngcontent-%COMP%]     .mat-mdc-form-field-error{color:#e8e8e8}.notes-card[_ngcontent-%COMP%]   .notes-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:200px;font-family:Roboto,sans-serif;font-size:.95rem;line-height:1.6;color:#fff}.notes-card[_ngcontent-%COMP%]   .notes-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#b0b0b0;opacity:1}.middle-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.empty-text[_ngcontent-%COMP%]{text-align:center;color:#e8e8e8;font-style:italic;padding:2rem}.no-character[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:60vh;text-align:center;color:#e8e8e8}.no-character[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:var(--gpColor-ChalkyBlue);margin-bottom:1rem}.no-character[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#fff}.no-character[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2rem}.equipment-tabs[_ngcontent-%COMP%]   .equipment-tab-headers[_ngcontent-%COMP%]{display:flex;gap:0;background:#1a1a1a;border-radius:8px 8px 0 0;overflow:hidden;border-bottom:2px solid #333}.equipment-tabs[_ngcontent-%COMP%]   .equipment-tab-headers[_ngcontent-%COMP%]   .equipment-tab-label[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:.5rem;padding:1rem 1.5rem;background:transparent;border:none;color:#b0b0b0;font-size:.95rem;font-weight:600;cursor:pointer;transition:all .2s;position:relative}.equipment-tabs[_ngcontent-%COMP%]   .equipment-tab-headers[_ngcontent-%COMP%]   .equipment-tab-label[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1}.equipment-tabs[_ngcontent-%COMP%]   .equipment-tab-headers[_ngcontent-%COMP%]   .equipment-tab-label[_ngcontent-%COMP%]:hover:not(.active){background:#ffffff0d;color:#d0d0d0}.equipment-tabs[_ngcontent-%COMP%]   .equipment-tab-headers[_ngcontent-%COMP%]   .equipment-tab-label.active[_ngcontent-%COMP%]{background:#2a2a2a;color:#7e57c2}.equipment-tabs[_ngcontent-%COMP%]   .equipment-tab-headers[_ngcontent-%COMP%]   .equipment-tab-label.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;right:0;height:2px;background:#7e57c2}.equipment-tabs[_ngcontent-%COMP%]   .equipment-tab-content[_ngcontent-%COMP%]{padding-top:1rem;animation:_ngcontent-%COMP%_fadeInTab .3s ease-out}']})};function eG(n,t){n&1&&(l(0,"div",9),q(1,"mat-spinner"),l(2,"p"),u(3,"Loading characters..."),c()())}function tG(n,t){if(n&1){let e=F();l(0,"div",10)(1,"mat-icon"),u(2,"error_outline"),c(),l(3,"h2"),u(4),c(),l(5,"button",4),C("click",function(){E(e);let r=v();return S(r.loadCharacters())}),l(6,"mat-icon"),u(7,"refresh"),c(),u(8," Try Again "),c()()}if(n&2){let e=v();m(4),w(e.error)}}function nG(n,t){if(n&1){let e=F();l(0,"div",11)(1,"mat-icon"),u(2,"person_add"),c(),l(3,"h2"),u(4,"No Characters Yet"),c(),l(5,"p"),u(6,"Create your first character to begin your adventure!"),c(),l(7,"button",4),C("click",function(){E(e);let r=v();return S(r.createNewCharacter())}),l(8,"mat-icon"),u(9,"add"),c(),u(10," Create Character "),c()()}}function iG(n,t){if(n&1&&(l(0,"div",22)(1,"mat-icon"),u(2,"route"),c(),l(3,"span"),u(4),c()()),n&2){let e=v().$implicit;m(4),w(e.data.paths.join(", "))}}function rG(n,t){if(n&1&&(l(0,"div",22)(1,"mat-icon"),u(2,"public"),c(),l(3,"span"),u(4),c()()),n&2){let e=v().$implicit,i=v(2);m(4),w(i.getCultureNames(e))}}function oG(n,t){if(n&1){let e=F();l(0,"mat-card",14),C("click",function(){let r=E(e).$implicit,o=v(2);return S(o.selectCharacter(r))}),l(1,"mat-card-header")(2,"mat-icon",15),u(3,"person"),c(),l(4,"mat-card-title"),u(5),c(),l(6,"mat-card-subtitle"),u(7),c()(),l(8,"mat-card-content")(9,"div",16),x(10,iG,5,1,"div",17)(11,rG,5,1,"div",17),l(12,"div",18)(13,"mat-icon"),u(14,"schedule"),c(),l(15,"span"),u(16),Wi(17,"date"),c()()()(),l(18,"mat-card-actions")(19,"button",19)(20,"mat-icon"),u(21,"visibility"),c(),u(22," View "),c(),l(23,"button",20),C("click",function(r){let o=E(e).$implicit,a=v(2);return S(a.editCharacter(o,r))}),l(24,"mat-icon"),u(25,"edit"),c(),u(26," Edit "),c(),l(27,"button",21),C("click",function(r){let o=E(e).$implicit,a=v(2);return S(a.deleteCharacter(o,r))}),l(28,"mat-icon"),u(29,"delete"),c(),u(30," Delete "),c()()()}if(n&2){let e=t.$implicit;m(5),w(e.name),m(2),ft(" Level ",e.level," ",e.ancestry," "),m(3),g("ngIf",(e.data==null||e.data.paths==null?null:e.data.paths.length)>0),m(),g("ngIf",(e.data==null||e.data.cultures==null?null:e.data.cultures.length)>0),m(5),w(lo(17,6,e.lastModified,"short"))}}function aG(n,t){if(n&1&&(l(0,"div",12),x(1,oG,31,9,"mat-card",13),c()),n&2){let e=v();m(),g("ngForOf",e.characters)}}var Au=class n{constructor(t,e,i,r){this.characterStorage=t;this.characterState=e;this.router=i;this.cdr=r}destroy$=new P;characters=[];loading=!0;error=null;ngOnInit(){this.loadCharacters()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadCharacters(){this.loading=!0,this.error=null,console.log("[Character List] Loading characters..."),this.characterStorage.listCharacters().pipe(L(this.destroy$)).subscribe({next:t=>{console.log("[Character List] Loaded characters:",t.length),this.characters=t,this.loading=!1,this.cdr.detectChanges()},error:t=>{console.error("[Character List] Error loading characters:",t),this.error="Failed to load characters",this.loading=!1,this.cdr.detectChanges()},complete:()=>{console.log("[Character List] Load complete")}})}selectCharacter(t){this.router.navigate(["/character-sheet",t.id])}deleteCharacter(t,e){e.stopPropagation(),confirm(`Are you sure you want to delete ${t.name}?`)&&this.characterStorage.deleteCharacter(t.id).pipe(L(this.destroy$)).subscribe({next:()=>{this.loadCharacters()},error:i=>{console.error("Error deleting character:",i),alert("Failed to delete character")}})}createNewCharacter(){let t=new Nr;this.characterState.updateCharacter(t),this.router.navigate(["/character-creator-view"])}editCharacter(t,e){e.stopPropagation(),this.characterStorage.loadCharacter(t.id).pipe(L(this.destroy$)).subscribe({next:i=>{i&&(this.characterState.updateCharacter(i),this.router.navigate(["/character-creator-view"]))},error:i=>{console.error("Error loading character for edit:",i),alert("Failed to load character")}})}backToHome(){this.router.navigate(["/"])}getCultureNames(t){return t.data?.cultures?t.data.cultures.map(e=>e.name||e).join(", "):""}static \u0275fac=function(e){return new(e||n)(k(Ca),k(Ne),k(Pt),k(fe))};static \u0275cmp=D({type:n,selectors:[["app-character-list-view"]],decls:16,vars:4,consts:[[1,"character-list-container"],[1,"list-header"],[1,"header-content"],["mat-icon-button","",1,"back-button",3,"click"],["mat-raised-button","","color","primary",3,"click"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","character-grid",4,"ngIf"],[1,"loading-state"],[1,"error-state"],[1,"empty-state"],[1,"character-grid"],["class","character-card",3,"click",4,"ngFor","ngForOf"],[1,"character-card",3,"click"],["mat-card-avatar","",1,"character-avatar"],[1,"character-info"],["class","info-item",4,"ngIf"],[1,"info-item","last-modified"],["mat-button","","color","primary"],["mat-button","","color","accent",3,"click"],["mat-button","","color","warn",3,"click"],[1,"info-item"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),C("click",function(){return i.backToHome()}),l(4,"mat-icon"),u(5,"arrow_back"),c()(),l(6,"h1"),u(7,"Your Characters"),c()(),l(8,"button",4),C("click",function(){return i.createNewCharacter()}),l(9,"mat-icon"),u(10,"add"),c(),u(11," New Character "),c()(),x(12,eG,4,0,"div",5)(13,tG,9,1,"div",6)(14,nG,11,0,"div",7)(15,aG,2,1,"div",8),c()),e&2&&(m(12),g("ngIf",i.loading),m(),g("ngIf",i.error&&!i.loading),m(),g("ngIf",!i.loading&&!i.error&&i.characters.length===0),m(),g("ngIf",!i.loading&&!i.error&&i.characters.length>0))},dependencies:[Q,ue,ie,Re,qe,Tn,ia,Ke,dt,na,lt,ge,Pe,an,oe,le,el,Ng,ld],styles:[".character-list-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:2rem}.list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.list-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.list-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:2rem;color:#fff}.list-header[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue)}.list-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center}.loading-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:var(--gpColor-ChalkyBlue);margin-bottom:1rem}.loading-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:.5rem 0;color:#fff}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e8e8e8;margin-bottom:2rem}.loading-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem}.error-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}.character-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem}.character-card[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s ease;background:var(--gpSystemDarkerGrey)!important}.character-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #66c0f44d;background:var(--gpSystemDarkGrey)!important}.character-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:1rem}.character-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .character-avatar[_ngcontent-%COMP%]{background-color:var(--gpColor-ChalkyBlue);color:#fff}.character-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff}.character-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#e8e8e8;margin-top:.25rem}.character-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .character-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.character-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .character-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#e8e8e8}.character-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .character-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem;color:var(--gpColor-ChalkyBlue)}.character-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .character-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.character-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .character-info[_ngcontent-%COMP%]   .info-item.last-modified[_ngcontent-%COMP%]{color:#b0b0b0;font-size:.85rem;margin-top:.5rem;padding-top:.5rem;border-top:1px solid var(--gpSystemDarkGrey)}.character-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:.5rem 1rem;border-top:1px solid var(--gpSystemDarkGrey)}.character-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.character-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}@media(max-width:768px){.character-list-container[_ngcontent-%COMP%]{padding:1rem}.list-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:1rem}.list-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{justify-content:center}.list-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;justify-content:center}.character-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var kA="mat-badge-content",sG=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["ng-component"]],decls:0,vars:0,template:function(i,r){},styles:[`.mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-sys-error));color:var(--mat-badge-text-color, var(--mat-sys-on-error));font-family:var(--mat-badge-text-font, var(--mat-sys-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-sys-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-sys-corner-full))}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}@media(forced-colors: active){.mat-badge-content{outline:solid 1px;border-radius:0}}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-error) 38%, transparent));color:var(--mat-badge-disabled-state-text-color, var(--mat-sys-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, 6px);min-height:var(--mat-badge-small-size-container-size, 6px);line-height:var(--mat-badge-small-size-line-height, 6px);padding:var(--mat-badge-small-size-container-padding, 0);font-size:var(--mat-badge-small-size-text-size, 0);margin:var(--mat-badge-small-size-container-offset, -6px 0)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset, -6px)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, 16px);min-height:var(--mat-badge-container-size, 16px);line-height:var(--mat-badge-line-height, 16px);padding:var(--mat-badge-container-padding, 0 4px);font-size:var(--mat-badge-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-container-offset, -12px 0)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset, -12px)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, 16px);min-height:var(--mat-badge-large-size-container-size, 16px);line-height:var(--mat-badge-large-size-line-height, 16px);padding:var(--mat-badge-large-size-container-padding, 0 4px);font-size:var(--mat-badge-large-size-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-large-size-container-offset, -12px 0)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset, -12px)}
`],encapsulation:2,changeDetection:0})}return n})(),IA=(()=>{class n{_ngZone=f($);_elementRef=f(G);_ariaDescriber=f(Tf);_renderer=f(rt);_animationsDisabled=at();_idGenerator=f(nt);get color(){return this._color}set color(e){this._setColor(e),this._color=e}_color="primary";overlap=!0;disabled;position="above after";get content(){return this._content}set content(e){this._updateRenderedContent(e)}_content;get description(){return this._description}set description(e){this._updateDescription(e)}_description;size="medium";hidden;_badgeElement;_inlineBadgeDescription;_isInitialized=!1;_interactivityChecker=f(sa);_document=f(ee);constructor(){let e=f(Ot);e.load(sG),e.load(tr)}isAbove(){return this.position.indexOf("below")===-1}isAfter(){return this.position.indexOf("before")===-1}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){let e=this._renderer.createElement("span"),i="mat-badge-active";return e.setAttribute("id",this._idGenerator.getId("mat-badge-content-")),e.setAttribute("aria-hidden","true"),e.classList.add(kA),this._animationsDisabled&&e.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(e),typeof requestAnimationFrame=="function"&&!this._animationsDisabled?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(i)})}):e.classList.add(i),e}_updateRenderedContent(e){let i=`${e??""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateDescription(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!e||this._isHostInteractive())&&this._removeInlineDescription(),this._description=e,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,e):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(e){let i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),e&&i.add(`mat-badge-${e}`)}_clearExistingBadges(){let e=this._elementRef.nativeElement.querySelectorAll(`:scope > .${kA}`);for(let i of Array.from(e))i!==this._badgeElement&&i.remove()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(i,r){i&2&&T("mat-badge-overlap",r.overlap)("mat-badge-above",r.isAbove())("mat-badge-below",!r.isAbove())("mat-badge-before",!r.isAfter())("mat-badge-after",r.isAfter())("mat-badge-small",r.size==="small")("mat-badge-medium",r.size==="medium")("mat-badge-large",r.size==="large")("mat-badge-hidden",r.hidden||!r.content)("mat-badge-disabled",r.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",ce],disabled:[2,"matBadgeDisabled","disabled",ce],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",ce]}})}return n})(),DA=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[_s,Oe]})}return n})();function lG(n,t){if(n&1){let e=F();l(0,"div",1)(1,"button",2),C("click",function(){E(e);let r=v();return S(r.action())}),u(2),c()()}if(n&2){let e=v();m(2),O(" ",e.data.action," ")}}var dG=["label"];function uG(n,t){}var mG=Math.pow(2,31)-1,Ru=class{_overlayRef;instance;containerInstance;_afterDismissed=new P;_afterOpened=new P;_onAction=new P;_durationTimeoutId;_dismissedByAction=!1;constructor(t,e){this._overlayRef=e,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,mG))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},TA=new I("MatSnackBarData"),rl=class{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},pG=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return n})(),hG=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return n})(),fG=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return n})(),AA=(()=>{class n{snackBarRef=f(Ru);data=f(TA);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(i,r){i&1&&(l(0,"div",0),u(1),c(),Ee(2,lG,3,1,"div",1)),i&2&&(m(),O(" ",r.data.message,`
`),m(),Se(r.hasAction?2:-1))},dependencies:[Pe,pG,hG,fG],styles:[`.mat-mdc-simple-snack-bar{display:flex}.mat-mdc-simple-snack-bar .mat-mdc-snack-bar-label{max-height:50vh;overflow:auto}
`],encapsulation:2,changeDetection:0})}return n})(),Rx="_mat-snack-bar-enter",Nx="_mat-snack-bar-exit",gG=(()=>{class n extends ma{_ngZone=f($);_elementRef=f(G);_changeDetectorRef=f(fe);_platform=f(Fe);_animationsDisabled=at();snackBarConfig=f(rl);_document=f(ee);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=f(ae);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new P;_onExit=new P;_onEnter=new P;_animationState="void";_live;_label;_role;_liveElementId=f(nt).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}attachDomPortal=e=>{this._assertNotAttached();let i=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),i};onAnimationEnd(e){e===Nx?this._completeExit():e===Rx&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?$t(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Rx)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(Rx)},200)))}exit(){return this._destroyed?te(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?$t(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Nx)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(Nx),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(a=>e.classList.add(a)):e.classList.add(i)),this._exposeToModals();let r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){let e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],a=o.getAttribute("aria-owns");this._trackedModals.add(o),a?a.indexOf(e)===-1&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let i=e.getAttribute("aria-owns");if(i){let r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,i=e.querySelector("[aria-hidden]"),r=e.querySelector("[aria-live]");if(i&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(o=document.activeElement),i.removeAttribute("aria-hidden"),r.appendChild(i),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(i&1&&tt(zr,7)(dG,7),i&2){let o;W(o=Y())&&(r._portalOutlet=o.first),W(o=Y())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(i,r){i&1&&C("animationend",function(a){return r.onAnimationEnd(a.animationName)})("animationcancel",function(a){return r.onAnimationEnd(a.animationName)}),i&2&&T("mat-snack-bar-container-enter",r._animationState==="visible")("mat-snack-bar-container-exit",r._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!r._animationsDisabled)},features:[ye],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(l(0,"div",1)(1,"div",2,0)(3,"div",3),x(4,uG,0,0,"ng-template",4),c(),q(5,"div"),c()()),i&2&&(m(5),X("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[zr],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return n})(),_G=new I("mat-snack-bar-default-options",{providedIn:"root",factory:()=>new rl}),Fx=(()=>{class n{_live=f(Zd);_injector=f(ae);_breakpointObserver=f(Kd);_parentSnackBar=f(n,{optional:!0,skipSelf:!0});_defaultConfig=f(_G);_animationsDisabled=at();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=AA;snackBarContainerComponent=gG;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){let o=R(R({},this._defaultConfig),r);return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){let r=i&&i.viewContainerRef&&i.viewContainerRef.injector,o=ae.create({parent:r||this._injector,providers:[{provide:rl,useValue:i}]}),a=new or(this.snackBarContainerComponent,i.viewContainerRef,o),s=e.attach(a);return s.instance.snackBarConfig=i,s.instance}_attach(e,i){let r=R(R(R({},new rl),this._defaultConfig),i),o=this._createOverlay(r),a=this._attachSnackBarContainer(o,r),s=new Ru(a,o);if(e instanceof mn){let d=new ar(e,null,{$implicit:r.data,snackBarRef:s});s.instance=a.attachTemplatePortal(d)}else{let d=this._createInjector(r,s),p=new or(e,void 0,d),h=a.attachComponentPortal(p);s.instance=h.instance}return this._breakpointObserver.observe(FI.HandsetPortrait).pipe(L(o.detachments())).subscribe(d=>{o.overlayElement.classList.toggle(this.handsetCssClass,d.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(s,r),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let i=new wo;i.direction=e.direction;let r=pa(this._injector),o=e.direction==="rtl",a=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!o||e.horizontalPosition==="end"&&o,s=!a&&e.horizontalPosition!=="center";return a?r.left("0"):s?r.right("0"):r.centerHorizontally(),e.verticalPosition==="top"?r.top("0"):r.bottom("0"),i.positionStrategy=r,i.disableAnimations=this._animationsDisabled,Eo(this._injector,i)}_createInjector(e,i){let r=e&&e.viewContainerRef&&e.viewContainerRef.injector;return ae.create({parent:r||this._injector,providers:[{provide:Ru,useValue:i},{provide:TA,useValue:e.data}]})}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var RA=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({providers:[Fx],imports:[cr,sr,ge,AA,Oe]})}return n})();function yG(n,t){if(n&1){let e=F();l(0,"div",7),C("click",function(){let r=E(e).$implicit,o=v();return S(o.selectOrder(r))}),l(1,"div",8)(2,"div",9)(3,"strong"),u(4),c(),l(5,"mat-icon",10),u(6,"interests"),c(),l(7,"span",11),u(8),c()(),l(9,"div",12)(10,"em"),u(11),c()(),l(12,"div",13)(13,"mat-icon",14),u(14,"bolt"),c(),l(15,"span"),u(16),c()()()()}if(n&2){let e=t.$implicit,i=v();T("selected",i.selectedOrderName===e.order),m(4),w(e.order),m(4),w(e.orderInfo.sprenType),m(3),O('"',e.orderInfo.philosophy,'"'),m(5),w(i.getSurgeNames(e.orderInfo))}}var Qg=class n{constructor(t,e){this.dialogRef=t;this.data=e}selectedOrderName=null;selectedOrder=null;getOrders(){return Object.entries(Ud).map(([t,e])=>({order:t,orderInfo:e}))}getSurgeNames(t){return t.surgePair.map(e=>e.toLowerCase().replace("_"," ").split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ")).join(" & ")}selectOrder(t){this.selectedOrderName=t.order,this.selectedOrder=t,console.log("Selected order:",t.order)}onCancel(){this.dialogRef.close()}onGrant(){this.selectedOrder&&(console.log("Granting spren:",this.selectedOrder),this.dialogRef.close(this.selectedOrder))}static \u0275fac=function(e){return new(e||n)(k(ni),k(lr))};static \u0275cmp=D({type:n,selectors:[["app-spren-grant-dialog"]],decls:16,vars:3,consts:[["mat-dialog-title",""],[1,"dialog-description"],[1,"orders-list"],["class","order-option",3,"selected","click",4,"ngFor","ngForOf"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"order-option",3,"click"],[1,"order-content"],[1,"order-header"],[1,"spren-icon"],[1,"spren-name"],[1,"order-philosophy"],[1,"order-surges"],[1,"surge-icon"]],template:function(e,i){e&1&&(l(0,"h2",0)(1,"mat-icon"),u(2,"auto_awesome"),c(),u(3),c(),l(4,"mat-dialog-content")(5,"p",1),u(6," Select a Radiant Order to grant this character. They will bond the corresponding spren and unlock the Order's tier 0 talent. "),c(),l(7,"div",2),x(8,yG,17,6,"div",3),c()(),l(9,"mat-dialog-actions",4)(10,"button",5),C("click",function(){return i.onCancel()}),u(11,"Cancel"),c(),l(12,"button",6),C("click",function(){return i.onGrant()}),l(13,"mat-icon"),u(14,"check"),c(),u(15," Grant Spren "),c()()),e&2&&(m(3),O(" Grant Spren to ",i.data.player.name," "),m(5),g("ngForOf",i.getOrders()),m(4),g("disabled",!i.selectedOrder))},dependencies:[Q,ue,Zt,Ur,qr,Hr,ge,Pe,Gr,oe,le],styles:['[_nghost-%COMP%]     .mat-mdc-dialog-content{max-height:60vh!important;overflow-y:auto!important;padding:0 24px!important}.dialog-description[_ngcontent-%COMP%]{margin-bottom:16px;color:#0009;padding-top:8px}.orders-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;padding-bottom:16px}.order-option[_ngcontent-%COMP%]{padding:16px;border:2px solid rgba(0,0,0,.12);border-radius:8px;cursor:pointer;transition:all .2s ease;background-color:#fff;position:relative}.order-option[_ngcontent-%COMP%]:hover:not(.selected){border-color:#3f51b580;background-color:#3f51b50d;transform:translate(4px)}.order-option.selected[_ngcontent-%COMP%]{border-color:#3f51b5!important;border-width:3px!important;background:linear-gradient(135deg,#3f51b533,#3f51b526)!important;box-shadow:0 0 0 3px #3f51b533,0 4px 12px #3f51b566!important}.order-option.selected[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#3f51b5!important;font-size:1.1em}.order-option.selected[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;top:12px;right:12px;background-color:#3f51b5;color:#fff;border-radius:50%;width:28px;height:28px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px;line-height:28px;text-align:center}.order-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;width:100%}.order-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.spren-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#9c27b0}.spren-name[_ngcontent-%COMP%]{color:#9c27b0;font-size:.9em}.order-philosophy[_ngcontent-%COMP%]{font-size:.9em;color:#000000b3;padding-left:8px;border-left:2px solid #3f51b5}.order-surges[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.85em;color:#0009}.surge-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#ff9800}h2[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}']})};function bG(n,t){if(n&1&&(l(0,"mat-chip",30),u(1),c()),n&2){let e=v().$implicit;g("color",e.rarity==="reward-only"?"accent":"warn"),m(),O(" ",e.rarity," ")}}function CG(n,t){if(n&1&&(l(0,"span"),u(1),c()),n&2){let e=v(2).$implicit;m(),ft(" ",e.weaponProperties.damage," ",e.weaponProperties.damageType," ")}}function xG(n,t){if(n&1&&(l(0,"span"),u(1),c()),n&2){let e=v(2).$implicit;m(),O(" Deflect: ",e.armorProperties.deflectValue," ")}}function wG(n,t){if(n&1&&(l(0,"div",31),x(1,CG,2,2,"span",32)(2,xG,2,1,"span",32),l(3,"span",33),u(4),c(),l(5,"span",34),u(6),c()()),n&2){let e=v().$implicit;m(),g("ngIf",e.weaponProperties),m(),g("ngIf",e.armorProperties),m(2),O("",e.weight," lbs"),m(2),O("",e.price,"mk")}}function MG(n,t){if(n&1){let e=F();l(0,"mat-card",22),C("click",function(){let r=E(e).$implicit,o=v();return S(o.selectItem(r))}),l(1,"div",23)(2,"mat-icon"),u(3),c(),l(4,"div",24)(5,"span",25),u(6),c(),l(7,"span",26),u(8),c()(),x(9,bG,2,2,"mat-chip",27),c(),l(10,"p",28),u(11),c(),x(12,wG,7,4,"div",29),c()}if(n&2){let e=t.$implicit,i=v();T("selected",(i.selectedItem==null?null:i.selectedItem.id)===e.id)("reward-only",e.rarity==="reward-only")("talent-only",e.rarity==="talent-only"),m(2),Ie("item-icon "+e.type),m(),w(i.getItemIcon(e)),m(3),w(e.name),m(2),w(e.type),m(),g("ngIf",e.rarity!=="common"),m(2),w(e.description),m(),g("ngIf",(i.selectedItem==null?null:i.selectedItem.id)===e.id)}}function EG(n,t){n&1&&(l(0,"div",35)(1,"mat-icon"),u(2,"search_off"),c(),l(3,"p"),u(4,"No items found"),c()())}function SG(n,t){if(n&1){let e=F();l(0,"mat-form-field",36)(1,"mat-label"),u(2,"Quantity"),c(),l(3,"input",37),rn("ngModelChange",function(r){E(e);let o=v();return pn(o.quantity,r)||(o.quantity=r),S(r)}),c()()}if(n&2){let e=v();m(3),nn("ngModel",e.quantity)}}function OG(n,t){n&1&&(l(0,"p"),u(1,' This item is marked as "Reward Only" and should only be granted for significant achievements or story milestones. '),c())}function PG(n,t){n&1&&(l(0,"p"),u(1,' This item is marked as "Talent Only" and is typically granted through character advancement, not directly by the GM. '),c())}function kG(n,t){if(n&1&&(l(0,"div",38)(1,"mat-icon"),u(2,"warning"),c(),l(3,"div")(4,"strong"),u(5,"Special Item Warning"),c(),x(6,OG,2,0,"p",32)(7,PG,2,0,"p",32),c()()),n&2){let e=v();m(6),g("ngIf",e.selectedItem.rarity==="reward-only"),m(),g("ngIf",e.selectedItem.rarity==="talent-only")}}var Zg=class n{constructor(t,e){this.dialogRef=t;this.data=e;this.filterItems()}selectedItem=null;quantity=1;searchQuery="";selectedCategory="all";showCommon=!0;showRewardOnly=!0;showTalentOnly=!0;filteredItems=[];filterItems(){this.filteredItems=ps.filter(t=>{if(this.selectedCategory!=="all"&&t.type!==this.selectedCategory||t.rarity==="common"&&!this.showCommon||t.rarity==="reward-only"&&!this.showRewardOnly||t.rarity==="talent-only"&&!this.showTalentOnly)return!1;if(this.searchQuery){let e=this.searchQuery.toLowerCase();return t.name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)}return!0})}getFilteredItems(){return this.filteredItems}selectItem(t){this.selectedItem=t}toggleCommon(){this.showCommon=!this.showCommon,this.filterItems()}toggleRewardOnly(){this.showRewardOnly=!this.showRewardOnly,this.filterItems()}toggleTalentOnly(){this.showTalentOnly=!this.showTalentOnly,this.filterItems()}getItemIcon(t){switch(t.type){case"weapon":return"swords";case"armor":return"shield";case"equipment":return"backpack";case"consumable":return"science";case"fabrial":return"auto_awesome";case"mount":return"pets";case"vehicle":return"directions_boat";default:return"inventory_2"}}cancel(){this.dialogRef.close()}confirm(){this.selectedItem&&this.dialogRef.close({itemId:this.selectedItem.id,quantity:this.quantity})}static \u0275fac=function(e){return new(e||n)(k(ni),k(lr))};static \u0275cmp=D({type:n,selectors:[["app-item-grant-dialog"]],decls:48,vars:13,consts:[["mat-dialog-title",""],[1,"category-select"],[3,"ngModelChange","ngModel"],["value","all"],["value","weapon"],["value","armor"],["value","equipment"],["value","consumable"],["value","fabrial"],["value","mount"],[1,"search-field"],["matInput","","placeholder","Search by name...",3,"ngModelChange","ngModel"],["matPrefix",""],[1,"rarity-chips"],[3,"click","highlighted"],[1,"item-list"],["class","item-card",3,"selected","reward-only","talent-only","click",4,"ngFor","ngForOf"],["class","no-results",4,"ngIf"],["class","quantity-field",4,"ngIf"],["class","warning-box",4,"ngIf"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"item-card",3,"click"],[1,"item-header"],[1,"item-info"],[1,"item-name"],[1,"item-type"],[3,"color",4,"ngIf"],[1,"item-description"],["class","item-stats",4,"ngIf"],[3,"color"],[1,"item-stats"],[4,"ngIf"],[1,"item-weight"],[1,"item-price"],[1,"no-results"],[1,"quantity-field"],["matInput","","type","number","min","1","max","99",3,"ngModelChange","ngModel"],[1,"warning-box"]],template:function(e,i){e&1&&(l(0,"h2",0)(1,"mat-icon"),u(2,"redeem"),c(),u(3),c(),l(4,"mat-dialog-content")(5,"mat-form-field",1)(6,"mat-label"),u(7,"Category"),c(),l(8,"mat-select",2),rn("ngModelChange",function(o){return pn(i.selectedCategory,o)||(i.selectedCategory=o),o}),C("ngModelChange",function(){return i.filterItems()}),l(9,"mat-option",3),u(10,"All Items"),c(),l(11,"mat-option",4),u(12,"Weapons"),c(),l(13,"mat-option",5),u(14,"Armor"),c(),l(15,"mat-option",6),u(16,"Equipment"),c(),l(17,"mat-option",7),u(18,"Consumables"),c(),l(19,"mat-option",8),u(20,"Fabrials"),c(),l(21,"mat-option",9),u(22,"Mounts"),c()()(),l(23,"mat-form-field",10)(24,"mat-label"),u(25,"Search items"),c(),l(26,"input",11),rn("ngModelChange",function(o){return pn(i.searchQuery,o)||(i.searchQuery=o),o}),C("ngModelChange",function(){return i.filterItems()}),c(),l(27,"mat-icon",12),u(28,"search"),c()(),l(29,"mat-chip-set",13)(30,"mat-chip",14),C("click",function(){return i.toggleCommon()}),u(31," Common Items "),c(),l(32,"mat-chip",14),C("click",function(){return i.toggleRewardOnly()}),u(33," Reward Only "),c(),l(34,"mat-chip",14),C("click",function(){return i.toggleTalentOnly()}),u(35," Talent Only "),c()(),l(36,"div",15),x(37,MG,13,14,"mat-card",16)(38,EG,5,0,"div",17),c(),x(39,SG,4,1,"mat-form-field",18)(40,kG,8,2,"div",19),c(),l(41,"mat-dialog-actions")(42,"button",20),C("click",function(){return i.cancel()}),u(43,"Cancel"),c(),l(44,"button",21),C("click",function(){return i.confirm()}),l(45,"mat-icon"),u(46,"redeem"),c(),u(47),c()()),e&2&&(m(3),O(" Grant Item to ",i.data.player.name," "),m(5),nn("ngModel",i.selectedCategory),m(18),nn("ngModel",i.searchQuery),m(4),g("highlighted",i.showCommon),m(2),g("highlighted",i.showRewardOnly),m(2),g("highlighted",i.showTalentOnly),m(3),g("ngForOf",i.getFilteredItems()),m(),g("ngIf",i.getFilteredItems().length===0),m(),g("ngIf",i.selectedItem),m(),g("ngIf",i.selectedItem&&i.selectedItem.rarity!=="common"),m(4),g("disabled",!i.selectedItem),m(3),ft(" Grant ",i.quantity,"x ",(i.selectedItem==null?null:i.selectedItem.name)||"Item"," "))},dependencies:[Q,ue,ie,Ii,Lr,cu,ki,du,VC,fi,Zt,Ur,qr,Hr,Un,ti,gi,zC,ua,Hc,ge,Pe,oe,le,Ut,sn,Ti,Re,qe,ya,va,Ni],styles:["[_nghost-%COMP%]{display:block;background-color:var(--gpSystemDarkerGrey)}h2[mat-dialog-title][_ngcontent-%COMP%]{background-color:var(--gpSystemDarkerGrey);color:#fff;padding:1rem 1.5rem;margin:0 -1.5rem;display:flex;align-items:center;gap:.5rem;border-bottom:1px solid rgba(255,255,255,.1)}h2[mat-dialog-title][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue)}mat-dialog-content[_ngcontent-%COMP%]{min-width:500px;max-width:600px;max-height:60vh;display:flex;flex-direction:column;gap:1rem;padding:1rem 1.5rem!important;overflow-y:auto;background-color:var(--gpSystemDarkerGrey)}mat-dialog-actions[_ngcontent-%COMP%]{background-color:var(--gpSystemDarkerGrey);padding:1rem 1.5rem;border-top:1px solid rgba(255,255,255,.1)}.category-select[_ngcontent-%COMP%], .search-field[_ngcontent-%COMP%], .quantity-field[_ngcontent-%COMP%]{width:100%}.rarity-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.rarity-chips[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{cursor:pointer;background-color:#ffffff1a;color:#fff}.rarity-chips[_ngcontent-%COMP%]   mat-chip[highlighted=true][_ngcontent-%COMP%]{background-color:var(--gpColor-ChalkyBlue);color:#000}.item-list[_ngcontent-%COMP%]{overflow-y:auto;display:flex;flex-direction:column;gap:.5rem;max-height:300px;padding-right:.5rem}.item-card[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s ease;padding:1rem;background-color:#0000004d;color:#fff}.item-card[_ngcontent-%COMP%]:hover{transform:translate(4px);box-shadow:0 4px 8px #0006;background-color:#0006}.item-card.selected[_ngcontent-%COMP%]{border:2px solid var(--gpColor-ChalkyBlue);background-color:var(--gpSystemDarkGrey)!important}.item-card.reward-only[_ngcontent-%COMP%]{border-left:4px solid #ff9800}.item-card.talent-only[_ngcontent-%COMP%]{border-left:4px solid #9c27b0}.item-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:.5rem}.item-header[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem}.item-header[_ngcontent-%COMP%]   .item-icon.weapon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue)}.item-header[_ngcontent-%COMP%]   .item-icon.armor[_ngcontent-%COMP%]{color:var(--gpColor-LightGreen)}.item-header[_ngcontent-%COMP%]   .item-icon.equipment[_ngcontent-%COMP%]{color:#ffa726}.item-header[_ngcontent-%COMP%]   .item-icon.fabrial[_ngcontent-%COMP%]{color:gold}.item-header[_ngcontent-%COMP%]   .item-icon.mount[_ngcontent-%COMP%]{color:#8d6e63}.item-header[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.item-header[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;color:#fff}.item-header[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-type[_ngcontent-%COMP%]{font-size:.85rem;color:#fff9;text-transform:capitalize}.item-header[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.7rem;min-height:24px;padding:0 8px}.item-description[_ngcontent-%COMP%]{color:#ffffffb3;font-size:.9rem;margin:.5rem 0}.item-stats[_ngcontent-%COMP%]{display:flex;gap:1rem;font-size:.85rem;color:#fff9;padding-top:.5rem;border-top:1px solid rgba(255,255,255,.1)}.item-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffffffb3}.item-stats[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{color:gold;font-weight:600}.no-results[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#ffffff80}.no-results[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;opacity:.3;color:#ffffff4d}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffff80}.warning-box[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1rem;background-color:#ff980026;border:1px solid rgba(255,152,0,.5);border-radius:4px}.warning-box[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffa726}.warning-box[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#ffa726}.warning-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fffc;margin:.25rem 0 0}.no-results[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--gpSystemLightGrey)}.no-results[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;opacity:.5}.warning-box[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1rem;background-color:#ff98001a;border:1px solid #ff9800;border-radius:4px}.warning-box[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff9800}.warning-box[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#ff9800}.warning-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;font-size:.9rem}mat-dialog-actions[_ngcontent-%COMP%]{padding:1rem;gap:.5rem}"]})};function IG(n,t){if(n&1){let e=F();l(0,"div",16),C("click",function(){let r=E(e).$implicit,o=v();return S(o.selectExpertise(r))}),l(1,"div",17)(2,"div",18)(3,"mat-icon",19),u(4),c(),l(5,"strong"),u(6),c(),l(7,"mat-chip",20),u(8),c()(),l(9,"div",21),u(10),c()()()}if(n&2){let e=t.$implicit,i=v();T("selected",(i.selectedExpertise==null?null:i.selectedExpertise.name)===e.name),m(4),w(i.getCategoryIcon(e.category)),m(2),w(e.name),m(),Ie("chip-"+e.category),m(),O(" ",e.category," "),m(2),O(" ",e.description," ")}}function DG(n,t){n&1&&(l(0,"p",22),u(1," No expertises found in this category. "),c())}var Xg=class n{constructor(t,e){this.dialogRef=t;this.data=e}selectedExpertise=null;selectedCategory="all";getFilteredExpertises(){return this.selectedCategory==="all"?hu:hu.filter(t=>t.category===this.selectedCategory)}onCategoryChange(){this.selectedExpertise=null}selectExpertise(t){this.selectedExpertise=t}getCategoryIcon(t){switch(t){case"cultural":return"public";case"weapon":return"swords";case"armor":return"shield";case"utility":return"construction";case"specialist":return"engineering";default:return"school"}}onGrant(){if(console.log("[Expertise Dialog] \u{1F3AF} onGrant called"),console.log("[Expertise Dialog] \u{1F3AF} Selected expertise:",this.selectedExpertise),this.selectedExpertise){let t={expertiseName:this.selectedExpertise.name,expertise:this.selectedExpertise};console.log("[Expertise Dialog] \u{1F3AF} Closing dialog with result:",t),this.dialogRef.close(t)}else console.log("[Expertise Dialog] \u26A0\uFE0F No expertise selected!")}onCancel(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||n)(k(ni),k(lr))};static \u0275cmp=D({type:n,selectors:[["app-expertise-grant-dialog"]],decls:33,vars:5,consts:[["mat-dialog-title",""],[1,"dialog-description"],["appearance","outline",1,"category-select"],[3,"ngModelChange","selectionChange","ngModel"],["value","all"],["value","cultural"],["value","weapon"],["value","armor"],["value","utility"],["value","specialist"],[1,"expertises-list"],["class","expertise-option",3,"selected","click",4,"ngFor","ngForOf"],["class","no-results",4,"ngIf"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"expertise-option",3,"click"],[1,"expertise-content"],[1,"expertise-header"],[1,"expertise-icon"],[1,"category-chip"],[1,"expertise-description"],[1,"no-results"]],template:function(e,i){e&1&&(l(0,"h2",0)(1,"mat-icon"),u(2,"school"),c(),u(3),c(),l(4,"mat-dialog-content")(5,"p",1),u(6," Grant an expertise to this character. Expertises function as skills with Intellect as the governing attribute. "),c(),l(7,"mat-form-field",2)(8,"mat-label"),u(9,"Filter by Category"),c(),l(10,"mat-select",3),rn("ngModelChange",function(o){return pn(i.selectedCategory,o)||(i.selectedCategory=o),o}),C("selectionChange",function(){return i.onCategoryChange()}),l(11,"mat-option",4),u(12,"All Expertises"),c(),l(13,"mat-option",5),u(14,"Cultural"),c(),l(15,"mat-option",6),u(16,"Weapon Proficiency"),c(),l(17,"mat-option",7),u(18,"Armor Proficiency"),c(),l(19,"mat-option",8),u(20,"Utility"),c(),l(21,"mat-option",9),u(22,"Specialist/Crafting"),c()()(),l(23,"div",10),x(24,IG,11,8,"div",11)(25,DG,2,0,"p",12),c()(),l(26,"mat-dialog-actions",13)(27,"button",14),C("click",function(){return i.onCancel()}),u(28,"Cancel"),c(),l(29,"button",15),C("click",function(){return i.onGrant()}),l(30,"mat-icon"),u(31,"check"),c(),u(32," Grant Expertise "),c()()),e&2&&(m(3),O(" Grant Expertise to ",i.data.player.name," "),m(7),nn("ngModel",i.selectedCategory),m(14),g("ngForOf",i.getFilteredExpertises()),m(),g("ngIf",i.getFilteredExpertises().length===0),m(4),g("disabled",!i.selectedExpertise))},dependencies:[Q,ue,ie,Ii,ki,fi,Zt,Ur,qr,Hr,ge,Pe,Gr,oe,le,Un,ti,gi,ya,va,Ni,Ut,sn],styles:["[_nghost-%COMP%]     .mat-mdc-dialog-content{max-height:65vh!important;overflow-y:auto!important;padding:0 24px!important}.dialog-description[_ngcontent-%COMP%]{margin-bottom:16px;color:#0009;padding-top:8px}.category-select[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.expertises-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.expertise-option[_ngcontent-%COMP%]{padding:12px;border:2px solid #e0e0e0;border-radius:8px;cursor:pointer;transition:all .2s;background:#fff}.expertise-option[_ngcontent-%COMP%]:hover{border-color:#2196f3;background:#f5f5f5}.expertise-option.selected[_ngcontent-%COMP%]{border-color:#2196f3;background:#e3f2fd}.expertise-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.expertise-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.expertise-header[_ngcontent-%COMP%]   .expertise-icon[_ngcontent-%COMP%]{color:#2196f3;font-size:20px;width:20px;height:20px}.expertise-header[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{flex:1;font-size:16px}.expertise-header[_ngcontent-%COMP%]   .category-chip[_ngcontent-%COMP%]{font-size:11px;min-height:24px;padding:4px 8px}.expertise-header[_ngcontent-%COMP%]   .category-chip.chip-cultural[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32}.expertise-header[_ngcontent-%COMP%]   .category-chip.chip-weapon[_ngcontent-%COMP%]{background:#ffebee;color:#c62828}.expertise-header[_ngcontent-%COMP%]   .category-chip.chip-armor[_ngcontent-%COMP%]{background:#fff3e0;color:#e65100}.expertise-header[_ngcontent-%COMP%]   .category-chip.chip-utility[_ngcontent-%COMP%]{background:#e1f5fe;color:#0277bd}.expertise-header[_ngcontent-%COMP%]   .category-chip.chip-specialist[_ngcontent-%COMP%]{background:#f3e5f5;color:#6a1b9a}.expertise-description[_ngcontent-%COMP%]{font-size:13px;color:#000000b3;line-height:1.4;margin-left:28px}.no-results[_ngcontent-%COMP%]{text-align:center;color:#999;font-style:italic;padding:24px}mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 24px!important}"]})};function TG(n,t){n&1&&(l(0,"div",28)(1,"mat-icon"),u(2,"warning"),c(),l(3,"span"),u(4,"CRITICAL"),c()())}function AG(n,t){if(n&1){let e=F();l(0,"mat-card",10),x(1,TG,5,0,"div",11),l(2,"mat-card-header")(3,"mat-card-title"),u(4),l(5,"mat-icon",12),u(6,"star"),c()(),l(7,"mat-card-subtitle"),u(8),c()(),l(9,"mat-card-content")(10,"div",13)(11,"div",14)(12,"mat-icon",15),u(13,"favorite"),c(),l(14,"span",16),u(15,"Health"),c(),l(16,"span",17),u(17),c()(),q(18,"mat-progress-bar",18),c(),l(19,"div",13)(20,"div",14)(21,"mat-icon",19),u(22,"psychology"),c(),l(23,"span",16),u(24,"Focus"),c(),l(25,"span",17),u(26),c()(),q(27,"mat-progress-bar",20),c(),l(28,"div",13)(29,"div",14)(30,"mat-icon",21),u(31,"auto_awesome"),c(),l(32,"span",16),u(33,"Investiture"),c(),l(34,"span",17),u(35),c()(),q(36,"mat-progress-bar",22),c(),l(37,"div",23)(38,"mat-icon"),u(39,"schedule"),c(),l(40,"span"),u(41),Wi(42,"date"),c()()(),l(43,"mat-card-actions")(44,"button",24),C("click",function(){let r=E(e).$implicit,o=v(2);return S(o.openSprenGrantDialog(r))}),l(45,"mat-icon"),u(46,"auto_awesome"),c(),u(47," Grant Spren "),c(),l(48,"button",25),C("click",function(){let r=E(e).$implicit,o=v(2);return S(o.openItemGrantDialog(r))}),l(49,"mat-icon"),u(50,"redeem"),c(),u(51," Grant Item "),c(),l(52,"button",26),C("click",function(){let r=E(e).$implicit,o=v(2);return S(o.openExpertiseGrantDialog(r))}),l(53,"mat-icon"),u(54,"school"),c(),u(55," Grant Expertise "),c(),l(56,"button",27),C("click",function(){let r=E(e).$implicit,o=v(2);return S(o.grantLevelUp(r))}),l(57,"mat-icon"),u(58,"trending_up"),c(),u(59," Level Up "),c()()()}if(n&2){let e=t.$implicit,i=v(2);T("critical",i.isCritical(e.characterId)),m(),g("ngIf",i.isCritical(e.characterId)),m(3),O(" ",e.name," "),m(),g("matBadge",e.level),m(3),w(e.ancestry),m(9),ft("",e.health.current," / ",e.health.max),m(),g("value",i.getHealthPercentage(e))("color",i.getHealthColor(e)),m(8),ft("",e.focus.current," / ",e.focus.max),m(),g("value",i.getFocusPercentage(e)),m(8),ft("",e.investiture.current," / ",e.investiture.max),m(),g("value",i.getInvestiturePercentage(e)),m(5),O("Joined: ",lo(42,17,e.joinedAt,"short"))}}function RG(n,t){if(n&1&&(l(0,"div",8),x(1,AG,60,20,"mat-card",9),c()),n&2){let e=v();m(),g("ngForOf",e.getActivePlayersArray())}}function NG(n,t){if(n&1){let e=F();l(0,"mat-card",29)(1,"mat-card-header")(2,"mat-icon",30),u(3,"store"),c(),l(4,"mat-card-title"),u(5,"Store Controls"),c(),l(6,"mat-card-subtitle"),u(7,"Enable or disable stores for players"),c()(),l(8,"mat-card-content")(9,"div",31)(10,"div",32)(11,"div",33)(12,"mat-icon"),u(13,"store"),c(),l(14,"span",34),u(15,"General Store"),c()(),l(16,"button",35),C("click",function(){E(e);let r=v();return S(r.toggleStore("main-store"))}),l(17,"mat-icon"),u(18),c(),u(19),c()(),l(20,"div",32)(21,"div",33)(22,"mat-icon"),u(23),c(),l(24,"span",34),u(25,"Weapons Shop"),c()(),l(26,"button",35),C("click",function(){E(e);let r=v();return S(r.toggleStore("weapons-shop"))}),l(27,"mat-icon"),u(28),c(),u(29),c()(),l(30,"div",32)(31,"div",33)(32,"mat-icon"),u(33),c(),l(34,"span",34),u(35,"Armor Shop"),c()(),l(36,"button",35),C("click",function(){E(e);let r=v();return S(r.toggleStore("armor-shop"))}),l(37,"mat-icon"),u(38),c(),u(39),c()(),l(40,"div",32)(41,"div",33)(42,"mat-icon"),u(43),c(),l(44,"span",34),u(45,"Equipment Shop"),c()(),l(46,"button",35),C("click",function(){E(e);let r=v();return S(r.toggleStore("equipment-shop"))}),l(47,"mat-icon"),u(48),c(),u(49),c()(),l(50,"div",32)(51,"div",33)(52,"mat-icon"),u(53),c(),l(54,"span",34),u(55,"Consumables Shop"),c()(),l(56,"button",35),C("click",function(){E(e);let r=v();return S(r.toggleStore("consumables-shop"))}),l(57,"mat-icon"),u(58),c(),u(59),c()(),l(60,"div",32)(61,"div",33)(62,"mat-icon"),u(63),c(),l(64,"span",34),u(65,"Fabrials Shop"),c()(),l(66,"button",35),C("click",function(){E(e);let r=v();return S(r.toggleStore("fabrials-shop"))}),l(67,"mat-icon"),u(68),c(),u(69),c()(),l(70,"div",32)(71,"div",33)(72,"mat-icon"),u(73),c(),l(74,"span",34),u(75,"Mounts Shop"),c()(),l(76,"button",35),C("click",function(){E(e);let r=v();return S(r.toggleStore("mounts-shop"))}),l(77,"mat-icon"),u(78),c(),u(79),c()()()()()}if(n&2){let e=v();m(16),g("color",e.isStoreEnabled("main-store")?"primary":"warn"),m(2),w(e.isStoreEnabled("main-store")?"lock_open":"lock"),m(),O(" ",e.isStoreEnabled("main-store")?"Open":"Closed"," "),m(4),ft("","{{","isStoreEnabled('weapons-shop') ? 'swords' : 'lock'","}}"),m(3),g("color",e.isStoreEnabled("weapons-shop")?"primary":"warn"),m(2),w(e.isStoreEnabled("weapons-shop")?"lock_open":"lock"),m(),O(" ",e.isStoreEnabled("weapons-shop")?"Open":"Closed"," "),m(4),ft("","{{","isStoreEnabled('armor-shop') ? 'shield' : 'lock'","}}"),m(3),g("color",e.isStoreEnabled("armor-shop")?"primary":"warn"),m(2),w(e.isStoreEnabled("armor-shop")?"lock_open":"lock"),m(),O(" ",e.isStoreEnabled("armor-shop")?"Open":"Closed"," "),m(4),w(e.isStoreEnabled("equipment-shop")?"backpack":"lock"),m(3),g("color",e.isStoreEnabled("equipment-shop")?"primary":"warn"),m(2),w(e.isStoreEnabled("equipment-shop")?"lock_open":"lock"),m(),O(" ",e.isStoreEnabled("equipment-shop")?"Open":"Closed"," "),m(4),w(e.isStoreEnabled("consumables-shop")?"science":"lock"),m(3),g("color",e.isStoreEnabled("consumables-shop")?"primary":"warn"),m(2),w(e.isStoreEnabled("consumables-shop")?"lock_open":"lock"),m(),O(" ",e.isStoreEnabled("consumables-shop")?"Open":"Closed"," "),m(4),w(e.isStoreEnabled("fabrials-shop")?"auto_awesome":"lock"),m(3),g("color",e.isStoreEnabled("fabrials-shop")?"primary":"warn"),m(2),w(e.isStoreEnabled("fabrials-shop")?"lock_open":"lock"),m(),O(" ",e.isStoreEnabled("fabrials-shop")?"Open":"Closed"," "),m(4),w(e.isStoreEnabled("mounts-shop")?"pets":"lock"),m(3),g("color",e.isStoreEnabled("mounts-shop")?"primary":"warn"),m(2),w(e.isStoreEnabled("mounts-shop")?"lock_open":"lock"),m(),O(" ",e.isStoreEnabled("mounts-shop")?"Open":"Closed"," ")}}function FG(n,t){n&1&&(l(0,"div",36)(1,"mat-icon"),u(2,"people_outline"),c(),l(3,"h2"),u(4,"No Active Players"),c(),l(5,"p"),u(6,"Waiting for players to join the session..."),c(),l(7,"p",37),u(8,"Players will appear here when they load their character sheets"),c()())}function LG(n,t){n&1&&(l(0,"div",38)(1,"mat-icon"),u(2,"cloud_off"),c(),l(3,"h2"),u(4,"Connection Lost"),c(),l(5,"p"),u(6,"Unable to connect to the game server"),c(),l(7,"p",37),u(8,"Make sure the server is running and refresh the page"),c()())}var Jg=class n{constructor(t,e,i,r){this.websocketService=t;this.cdr=e;this.dialog=i;this.snackBar=r}destroy$=new P;activePlayers=new Map;isConnected=!1;criticalPlayers=new Set;storeEnabled=new Map([["main-store",!0],["weapons-shop",!0],["armor-shop",!0],["equipment-shop",!0],["consumables-shop",!0],["fabrials-shop",!0],["mounts-shop",!0]]);ngOnInit(){this.websocketService.connected$.pipe(L(this.destroy$)).subscribe(t=>{console.log("[GM Dashboard] Connection status changed:",t),this.isConnected=t,this.cdr.detectChanges(),t&&(console.log("[GM Dashboard] Requesting active players"),this.websocketService.requestActivePlayers())}),this.websocketService.connect(),this.websocketService.playerJoined$.pipe(L(this.destroy$)).subscribe(t=>{this.activePlayers.set(t.characterId,t),this.checkCriticalHealth(t),this.cdr.detectChanges()}),this.websocketService.playerLeft$.pipe(L(this.destroy$)).subscribe(t=>{this.activePlayers.delete(t.characterId),this.criticalPlayers.delete(t.characterId),this.cdr.detectChanges()}),this.websocketService.playerResourceUpdate$.pipe(L(this.destroy$)).subscribe(t=>{let e=this.activePlayers.get(t.characterId);e&&(e.health=t.health,e.focus=t.focus,e.investiture=t.investiture,this.checkCriticalHealth(e),this.cdr.detectChanges())}),this.websocketService.activePlayers$.pipe(L(this.destroy$)).subscribe(t=>{this.activePlayers.clear(),t.forEach(e=>{this.activePlayers.set(e.characterId,e),this.checkCriticalHealth(e)}),this.cdr.detectChanges()}),this.websocketService.playerCritical$.pipe(L(this.destroy$)).subscribe(t=>{console.log("[GM Dashboard] CRITICAL ALERT:",t.message),this.criticalPlayers.add(t.characterId),this.cdr.detectChanges()}),this.websocketService.levelUp$.pipe(L(this.destroy$)).subscribe(t=>{console.log("[GM Dashboard] \u{1F199} Level-up event received:",t);let e=this.activePlayers.get(t.characterId);e&&(this.snackBar.open(`${e.name} is now level ${t.newLevel}!`,"OK",{duration:1e4}),e.level=t.newLevel,this.cdr.detectChanges())}),this.websocketService.storeToggle$.pipe(L(this.destroy$)).subscribe(t=>{console.log("[GM Dashboard] \u{1F3EA} Store toggle event received:",t),this.storeEnabled.set(t.storeId,t.enabled),this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getActivePlayersArray(){return Array.from(this.activePlayers.values()).sort((t,e)=>{let i=this.criticalPlayers.has(t.characterId),r=this.criticalPlayers.has(e.characterId);return i&&!r?-1:!i&&r?1:t.name.localeCompare(e.name)})}isCritical(t){return this.criticalPlayers.has(t)}getHealthPercentage(t){return!t.health||t.health.max===0?0:t.health.current/t.health.max*100}getFocusPercentage(t){return!t.focus||t.focus.max===0?0:t.focus.current/t.focus.max*100}getInvestiturePercentage(t){return!t.investiture||t.investiture.max===0?0:t.investiture.current/t.investiture.max*100}getHealthColor(t){let e=this.getHealthPercentage(t);return e===0||e<=25?"warn":e<=50?"accent":"primary"}checkCriticalHealth(t){t.health&&t.health.current===0?this.criticalPlayers.add(t.characterId):this.criticalPlayers.delete(t.characterId)}clearCriticalAlert(t){this.criticalPlayers.delete(t)}openSprenGrantDialog(t){this.dialog.open(Qg,{width:"600px",maxHeight:"90vh",data:{player:t}}).afterClosed().subscribe(i=>{i&&this.websocketService.grantSpren(t.characterId,i.order,i.orderInfo)})}openItemGrantDialog(t){this.dialog.open(Zg,{width:"700px",maxHeight:"90vh",data:{player:t}}).afterClosed().subscribe(i=>{i&&(console.log("[GM Dashboard] Granting item:",i),this.websocketService.grantItem(t.characterId,i.itemId,i.quantity))})}openExpertiseGrantDialog(t){this.dialog.open(Xg,{width:"700px",maxHeight:"90vh",data:{player:t}}).afterClosed().subscribe(i=>{i&&(console.log("[GM Dashboard] Granting expertise:",i),this.websocketService.grantExpertise(t.characterId,i.expertiseName))})}grantLevelUp(t){console.log("[GM Dashboard] Granting level up to:",t.name),this.websocketService.grantLevelUp(t.characterId)}toggleStore(t){let e=this.storeEnabled.get(t)??!0,i=!e;console.log(`[GM Dashboard] Toggling store ${t} from ${e} to ${i}`),this.storeEnabled.set(t,i),this.websocketService.toggleStore(t,i),console.log(`[GM Dashboard] Store ${t} ${i?"opened":"closed"}`)}isStoreEnabled(t){return this.storeEnabled.get(t)??!0}static \u0275fac=function(e){return new(e||n)(k(Wr),k(fe),k(Ai),k(Fx))};static \u0275cmp=D({type:n,selectors:[["app-gm-dashboard-view"]],decls:16,vars:10,consts:[[1,"gm-dashboard-container"],[1,"dashboard-header"],[1,"title-section"],[1,"connection-status"],["class","players-grid",4,"ngIf"],["class","store-controls-card",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","empty-state error-state",4,"ngIf"],[1,"players-grid"],["class","player-card",3,"critical",4,"ngFor","ngForOf"],[1,"player-card"],["class","critical-badge",4,"ngIf"],["matBadgeSize","small",1,"level-icon",3,"matBadge"],[1,"resource-section"],[1,"resource-header"],[1,"resource-icon","health"],[1,"resource-label"],[1,"resource-values"],["mode","determinate",1,"resource-bar","health-bar",3,"value","color"],[1,"resource-icon","focus"],["mode","determinate","color","accent",1,"resource-bar","focus-bar",3,"value"],[1,"resource-icon","investiture"],["mode","determinate","color","primary",1,"resource-bar","investiture-bar",3,"value"],[1,"player-meta"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",3,"click"],[1,"critical-badge"],[1,"store-controls-card"],["mat-card-avatar",""],[1,"store-toggles"],[1,"store-toggle"],[1,"store-info"],[1,"store-name"],["mat-raised-button","",3,"click","color"],[1,"empty-state"],[1,"hint"],[1,"empty-state","error-state"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1")(4,"mat-icon"),u(5,"shield"),c(),u(6," GM Control Center "),c()(),l(7,"div",3)(8,"mat-chip")(9,"mat-icon"),u(10),c(),u(11),c()()(),x(12,RG,2,1,"div",4)(13,NG,80,29,"mat-card",5)(14,FG,9,0,"div",6)(15,LG,9,0,"div",7),c()),e&2&&(m(8),T("connected",i.isConnected)("disconnected",!i.isConnected),m(2),w(i.isConnected?"wifi":"wifi_off"),m(),O(" ",i.isConnected?"Connected":"Disconnected"," "),m(),g("ngIf",i.activePlayers.size>0),m(),g("ngIf",i.isConnected),m(),g("ngIf",i.activePlayers.size===0&&i.isConnected),m(),g("ngIf",!i.isConnected))},dependencies:[Q,ue,ie,Re,qe,Tn,ia,Ke,dt,na,lt,oe,le,ge,Pe,Ut,sn,Vg,PA,DA,IA,Zt,Gr,RA,ld],styles:[".gm-dashboard-container[_ngcontent-%COMP%]{padding:24px;min-height:100vh;background:linear-gradient(135deg,#1a1a2e,#16213e);color:#fff}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;padding-bottom:16px;border-bottom:2px solid rgba(255,255,255,.1)}.dashboard-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:0;font-size:2rem;font-weight:600}.dashboard-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:gold}.dashboard-header[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-weight:500;padding:8px 16px}.dashboard-header[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]   mat-chip.connected[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff!important}.dashboard-header[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]   mat-chip.disconnected[_ngcontent-%COMP%]{background-color:#f44336!important;color:#fff!important}.dashboard-header[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px}.players-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:24px;margin-bottom:24px}.player-card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d!important;border:2px solid rgba(255,255,255,.1);transition:all .3s ease}.player-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #0000004d;border-color:#fff3}.player-card.critical[_ngcontent-%COMP%]{border-color:#f44336!important;animation:_ngcontent-%COMP%_pulse-critical 1.5s ease-in-out infinite}.player-card.critical[_ngcontent-%COMP%]   .critical-badge[_ngcontent-%COMP%]{display:flex}.player-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background:#0003;padding:16px;margin:-16px -16px 16px}.player-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#fff!important;font-size:1.25rem;font-weight:600;display:flex;align-items:center;gap:8px}.player-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .level-icon[_ngcontent-%COMP%]{color:gold;font-size:1.25rem}.player-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#ffffffb3!important}.player-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{color:#fff}.critical-badge[_ngcontent-%COMP%]{display:none;position:absolute;top:8px;right:8px;background:#f44336;color:#fff;padding:4px 12px;border-radius:16px;font-size:.75rem;font-weight:600;align-items:center;gap:4px;z-index:10;box-shadow:0 2px 8px #f4433680}.critical-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}@keyframes _ngcontent-%COMP%_pulse-critical{0%,to{box-shadow:0 0 20px #f4433680}50%{box-shadow:0 0 40px #f44336cc}}.resource-section[_ngcontent-%COMP%]{margin-bottom:16px}.resource-section[_ngcontent-%COMP%]   .resource-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.resource-section[_ngcontent-%COMP%]   .resource-header[_ngcontent-%COMP%]   .resource-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.resource-section[_ngcontent-%COMP%]   .resource-header[_ngcontent-%COMP%]   .resource-icon.health[_ngcontent-%COMP%]{color:#f44336}.resource-section[_ngcontent-%COMP%]   .resource-header[_ngcontent-%COMP%]   .resource-icon.focus[_ngcontent-%COMP%]{color:#2196f3}.resource-section[_ngcontent-%COMP%]   .resource-header[_ngcontent-%COMP%]   .resource-icon.investiture[_ngcontent-%COMP%]{color:#9c27b0}.resource-section[_ngcontent-%COMP%]   .resource-header[_ngcontent-%COMP%]   .resource-label[_ngcontent-%COMP%]{font-weight:500;flex:1}.resource-section[_ngcontent-%COMP%]   .resource-header[_ngcontent-%COMP%]   .resource-values[_ngcontent-%COMP%]{font-weight:600;color:#ffffffe6}.resource-section[_ngcontent-%COMP%]   .resource-bar[_ngcontent-%COMP%]{height:12px;border-radius:6px;overflow:hidden}.resource-section[_ngcontent-%COMP%]   .resource-bar.health-bar[_ngcontent-%COMP%]     .mat-mdc-progress-bar-fill:after{background-color:#f44336!important}.resource-section[_ngcontent-%COMP%]   .resource-bar.focus-bar[_ngcontent-%COMP%]     .mat-mdc-progress-bar-fill:after{background-color:#2196f3!important}.resource-section[_ngcontent-%COMP%]   .resource-bar.investiture-bar[_ngcontent-%COMP%]     .mat-mdc-progress-bar-fill:after{background-color:#9c27b0!important}.player-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:16px;padding-top:16px;border-top:1px solid rgba(255,255,255,.1);color:#fff9;font-size:.875rem}.player-meta[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center;color:#ffffffb3}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:5rem;width:5rem;height:5rem;margin-bottom:24px;opacity:.5}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 16px;font-size:1.75rem;color:#fff}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;font-size:1rem}.empty-state[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{color:#ffffff80;font-size:.875rem;font-style:italic}.empty-state.error-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336;opacity:.8}.empty-state.error-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f44336}.store-controls-card[_ngcontent-%COMP%]{background-color:var(--gpSystemDarkerGrey);margin-bottom:24px}.store-controls-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:1.25rem;color:#fff}.store-controls-card[_ngcontent-%COMP%]   .store-controls-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.store-controls-card[_ngcontent-%COMP%]   .store-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background-color:#0003;border-radius:8px;transition:background-color .2s}.store-controls-card[_ngcontent-%COMP%]   .store-toggle[_ngcontent-%COMP%]:hover{background-color:#0000004d}.store-controls-card[_ngcontent-%COMP%]   .store-toggle[_ngcontent-%COMP%]   .store-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.store-controls-card[_ngcontent-%COMP%]   .store-toggle[_ngcontent-%COMP%]   .store-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffa726}.store-controls-card[_ngcontent-%COMP%]   .store-toggle[_ngcontent-%COMP%]   .store-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;color:#fff}.store-controls-card[_ngcontent-%COMP%]   .store-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:100px}@media(max-width:768px){.players-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.dashboard-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px;align-items:flex-start}.dashboard-header[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]{align-self:flex-end}.store-toggle[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start!important;gap:12px}.store-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})};function VG(n,t){if(n&1){let e=F();l(0,"div",23)(1,"div",24)(2,"h3"),u(3,"Currency Converter"),c(),l(4,"p",25),u(5,"Exchange your currency between denominations"),c()(),l(6,"div",26)(7,"div",27)(8,"div",28)(9,"label",29),u(10,"Broams"),c(),l(11,"input",30),rn("ngModelChange",function(r){E(e);let o=v(2);return pn(o.converterBroams,r)||(o.converterBroams=r),S(r)}),C("ngModelChange",function(){E(e);let r=v(2);return S(r.updateFromBroams())}),c(),l(12,"span",31),u(13,"1 broam = 4 marks"),c()(),l(14,"div",28)(15,"label",32),u(16,"Marks"),c(),l(17,"input",33),rn("ngModelChange",function(r){E(e);let o=v(2);return pn(o.converterMarks,r)||(o.converterMarks=r),S(r)}),C("ngModelChange",function(){E(e);let r=v(2);return S(r.updateFromMarks())}),c(),l(18,"span",31),u(19,"Base currency"),c()(),l(20,"div",28)(21,"label",34),u(22,"Chips"),c(),l(23,"input",35),rn("ngModelChange",function(r){E(e);let o=v(2);return pn(o.converterChips,r)||(o.converterChips=r),S(r)}),C("ngModelChange",function(){E(e);let r=v(2);return S(r.updateFromChips())}),c(),l(24,"span",31),u(25,"5 chips = 1 mark"),c()()(),l(26,"button",36),C("click",function(){E(e);let r=v(2);return S(r.convertToMixed())}),l(27,"span",10),u(28,"\u{1F504}"),c(),u(29," Auto-Convert to Mixed "),c()()()}if(n&2){let e=v(2);m(11),nn("ngModel",e.converterBroams),m(6),nn("ngModel",e.converterMarks),m(6),nn("ngModel",e.converterChips)}}function BG(n,t){if(n&1&&(l(0,"div",37)(1,"span",10),u(2,"\u26A0\uFE0F"),c(),l(3,"span",38),u(4," The GM has closed the following sections: "),l(5,"strong"),u(6),c()()()),n&2){let e=v(2);m(6),w(e.getDisabledCategoriesMessage())}}function jG(n,t){if(n&1){let e=F();l(0,"button",39),C("click",function(){let r=E(e).$implicit,o=v(2);return S(o.storeEnabled&&o.selectCategory(r.id))}),l(1,"span",10),u(2),c(),u(3),c()}if(n&2){let e=t.$implicit,i=v(2);bt("display",e.id==="all"||i.categoryEnabled.get(e.id)!==!1?"inline-flex":"none"),T("active",i.selectedCategory===e.id&&i.storeEnabled),g("disabled",!i.storeEnabled),m(2),w(i.getCategoryIcon(e.icon)),m(),O(" ",e.label," ")}}function zG(n,t){if(n&1&&(l(0,"div",53)(1,"span",10),u(2,"\u2139\uFE0F"),c(),l(3,"span"),u(4),c()()),n&2){let e=v().$implicit,i=v(2);m(4),w(i.getItemStats(e))}}function UG(n,t){if(n&1&&(l(0,"span",56),u(1),c()),n&2){let e=t.$implicit;m(),O(" ",e," ")}}function HG(n,t){if(n&1&&(l(0,"div",54),x(1,UG,2,1,"span",55),c()),n&2){let e=v().$implicit;m(),g("ngForOf",e.weaponProperties.traits.slice(0,3))}}function qG(n,t){if(n&1){let e=F();l(0,"button",57),C("click",function(){E(e);let r=v().$implicit,o=v(2);return S(o.purchaseItem(r,5))}),l(1,"span",10),u(2,"\u{1F6D2}"),c(),u(3," 5x "),c()}}function $G(n,t){if(n&1){let e=F();l(0,"div",40)(1,"div",24)(2,"span",41),u(3),c(),l(4,"div",6)(5,"h3"),u(6),c(),l(7,"span",42),u(8),c()()(),l(9,"div",26)(10,"p",43),u(11),c(),x(12,zG,5,1,"div",44)(13,HG,2,1,"div",45),l(14,"div",46)(15,"div",47)(16,"span",10),u(17,"\u2696\uFE0F"),c(),l(18,"span"),u(19),c()(),l(20,"div",48)(21,"span",10),u(22,"\u{1F4B0}"),c(),l(23,"span",49),u(24),c()()()(),l(25,"div",50)(26,"button",51),C("click",function(){let r=E(e).$implicit,o=v(2);return S(o.purchaseItem(r,1))}),l(27,"span",10),u(28,"\u{1F6D2}"),c(),u(29," Buy "),c(),x(30,qG,4,0,"button",52),c()()}if(n&2){let e=t.$implicit,i=v(2);T("affordable",i.canAfford(e))("expensive",!i.canAfford(e)),m(2),X("data-type",e.type),m(),O(" ",i.getItemIconEmoji(e)," "),m(3),w(e.name),m(2),w(e.type),m(3),w(e.description),m(),g("ngIf",i.getItemStats(e)),m(),g("ngIf",e.weaponProperties&&e.weaponProperties.traits&&e.weaponProperties.traits.length>0),m(6),O("",e.weight," lbs"),m(5),O("",e.price,"mk"),m(2),T("btn-primary",i.canAfford(e))("btn-disabled",!i.canAfford(e)),g("disabled",!i.canAfford(e))("title",i.canAfford(e)?"Purchase this item":"Not enough currency"),m(4),g("ngIf",e.stackable&&i.canAfford(e,5))}}function GG(n,t){n&1&&(l(0,"div",58)(1,"span",59),u(2,"\u{1F50D}"),c(),l(3,"h2"),u(4,"No items found"),c(),l(5,"p",31),u(6,"Try a different category or search term"),c()())}function WG(n,t){if(n&1){let e=F();l(0,"div",2)(1,"div",3)(2,"div",4)(3,"span",5),u(4),c(),l(5,"div",6)(6,"h1"),u(7),c(),l(8,"p",7),u(9),c()()(),l(10,"div",8)(11,"div",9)(12,"span",10),u(13,"\u{1F4B0}"),c(),l(14,"span",11),u(15),c()(),l(16,"button",12),C("click",function(){E(e);let r=v();return S(r.toggleConverter())}),l(17,"span",10),u(18,"\u{1F4B1}"),c(),u(19),c()()(),x(20,VG,30,3,"div",13),l(21,"div",14)(22,"span",15),u(23,"\u{1F50D}"),c(),l(24,"input",16),rn("ngModelChange",function(r){E(e);let o=v();return pn(o.searchQuery,r)||(o.searchQuery=r),S(r)}),c()(),x(25,BG,7,1,"div",17),l(26,"div",18),x(27,jG,4,7,"button",19),c(),l(28,"div",20),x(29,$G,31,20,"div",21),c(),x(30,GG,7,0,"div",22),c()}if(n&2){let e=v();m(4),w(e.getStoreIcon()),m(3),w(e.getStoreName()),m(2),w(e.getStoreDescription()),m(6),w(e.getCurrencyDisplay()),m(4),O(" ",e.showConverter?"Hide":"Convert"," "),m(),g("ngIf",e.showConverter),m(),T("disabled",!e.storeEnabled),m(3),nn("ngModel",e.searchQuery),g("disabled",!e.storeEnabled),m(),g("ngIf",e.getDisabledCategories().length>0),m(),T("disabled",!e.storeEnabled),m(),g("ngForOf",e.categories),m(2),g("ngForOf",e.availableItems),m(),g("ngIf",e.availableItems.length===0)}}function YG(n,t){n&1&&(l(0,"div",63)(1,"span",59),u(2,"\u23F3"),c(),l(3,"h2"),u(4,"Loading Store..."),c(),l(5,"p"),u(6,"Connecting to store server..."),c()())}function KG(n,t){n&1&&(l(0,"div",64)(1,"span",59),u(2,"\u{1F3EA}"),c(),l(3,"h2"),u(4,"Store Closed"),c(),l(5,"p"),u(6,"The store has been closed by the Game Master"),c(),l(7,"p",31),u(8,"Check back later or ask your GM to reopen the store"),c()())}function QG(n,t){n&1&&(l(0,"div",65)(1,"span",59),u(2,"\u26A0\uFE0F"),c(),l(3,"h2"),u(4,"No Character Loaded"),c(),l(5,"p"),u(6,"Please load a character to access the store"),c()())}function ZG(n,t){if(n&1&&x(0,YG,7,0,"div",60)(1,KG,9,0,"div",61)(2,QG,7,0,"div",62),n&2){let e=v();g("ngIf",e.isLoading),m(),g("ngIf",!e.isLoading&&!e.storeEnabled),m(),g("ngIf",!e.isLoading&&!e.character)}}var e_=class n{constructor(t,e,i,r){this.characterState=t;this.websocketService=e;this.route=i;this.cdr=r}destroy$=new P;character=null;storeEnabled=!0;selectedCategory="all";searchQuery="";isLoading=!0;isConnected=!1;stateReceived=!1;availableItems=[];categoryEnabled=new Map([["weapon",!0],["armor",!0],["equipment",!0],["consumable",!0],["fabrial",!0],["mount",!0]]);storeIdToCategory=new Map([["weapons-shop","weapon"],["armor-shop","armor"],["equipment-shop","equipment"],["consumables-shop","consumable"],["fabrials-shop","fabrial"],["mounts-shop","mount"]]);showConverter=!1;converterMarks=0;converterBroams=0;converterChips=0;categories=[{id:"all",label:"All Items",icon:"store"},{id:"weapon",label:"Weapons",icon:"swords"},{id:"armor",label:"Armor",icon:"shield"},{id:"equipment",label:"Equipment",icon:"backpack"},{id:"consumable",label:"Consumables",icon:"science"},{id:"fabrial",label:"Fabrials",icon:"auto_awesome"},{id:"mount",label:"Mounts",icon:"pets"}];ngOnInit(){this.websocketService.connect(),this.websocketService.connected$.pipe(L(this.destroy$)).subscribe(t=>{this.isConnected=t,t&&!this.stateReceived&&this.websocketService.requestStoreState()}),this.characterState.character$.pipe(L(this.destroy$)).subscribe(t=>{this.character=t,this.updateAvailableItems()}),this.websocketService.storeToggle$.pipe(L(this.destroy$)).subscribe(t=>{if(this.stateReceived||(this.stateReceived=!0,this.isLoading=!1),t.storeId==="main-store")this.storeEnabled=t.enabled,t.enabled||(this.selectedCategory="all",this.searchQuery="");else{let e=this.storeIdToCategory.get(t.storeId);e&&this.categoryEnabled.set(e,t.enabled)}this.updateAvailableItems(),this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}selectCategory(t){this.selectedCategory=t,this.updateAvailableItems()}updateAvailableItems(){this.availableItems=this.computeAvailableItems()}computeAvailableItems(){let t=ps.filter(e=>e.rarity==="common");if(t=t.filter(e=>{let i=e.type==="vehicle"?"mount":e.type;return this.categoryEnabled.get(i)!==!1}),this.selectedCategory!=="all"&&(t=t.filter(e=>e.type===this.selectedCategory)),this.searchQuery){let e=this.searchQuery.toLowerCase();t=t.filter(i=>i.name.toLowerCase().includes(e)||i.description.toLowerCase().includes(e))}return t}purchaseItem(t,e=1){if(!this.character)return;let i=t.price*e;if(!this.character.inventory.canAfford(i)){this.showNotification("Not enough currency!");return}this.character.inventory.purchaseItem(t.id,t.price,e)&&(this.showNotification(`Purchased ${e}x ${t.name}`),this.websocketService.emitStoreTransaction({storeId:"main-store",characterId:this.character.id||"unknown",items:[{itemId:t.id,quantity:e,price:t.price,type:"buy"}],totalCost:i,timestamp:new Date().toISOString()}))}canAfford(t,e=1){return this.character?this.character.inventory.canAfford(t.price*e):!1}getCurrency(){return this.character?.inventory.getCurrency()||0}getCurrencyDisplay(){let t=this.getCurrency(),e=this.character?.inventory.convertToMixedDenominations(t);return e?e.broams>0?`${e.broams}b ${e.marks}mk`:`${t}mk`:"0mk"}toggleConverter(){if(this.showConverter=!this.showConverter,this.showConverter&&this.character){let t=this.getCurrency(),e=this.character.inventory.convertToMixedDenominations(t);this.converterBroams=e.broams,this.converterMarks=e.marks,this.converterChips=e.chips}}updateFromBroams(){let t=this.converterBroams*4+this.converterMarks+this.converterChips*.2;this.character&&this.character.inventory.setCurrency(t)}updateFromMarks(){let t=this.converterBroams*4+this.converterMarks+this.converterChips*.2;this.character&&this.character.inventory.setCurrency(t)}updateFromChips(){let t=this.converterBroams*4+this.converterMarks+this.converterChips*.2;this.character&&this.character.inventory.setCurrency(t)}convertToMixed(){if(!this.character)return;let t=this.getCurrency(),e=this.character.inventory.convertToMixedDenominations(t);this.converterBroams=e.broams,this.converterMarks=e.marks,this.converterChips=e.chips,this.showNotification("Currency converted!")}getCategoryIcon(t){return{store:"\u{1F3EA}",swords:"\u2694\uFE0F",shield:"\u{1F6E1}\uFE0F",backpack:"\u{1F392}",science:"\u{1F9EA}",auto_awesome:"\u2728",pets:"\u{1F434}"}[t]||"\u{1F4E6}"}getItemIconEmoji(t){switch(t.type){case"weapon":return"\u2694\uFE0F";case"armor":return"\u{1F6E1}\uFE0F";case"equipment":return"\u{1F392}";case"consumable":return"\u{1F9EA}";case"fabrial":return"\u2728";case"mount":return"\u{1F434}";case"vehicle":return"\u26F5";default:return"\u{1F4E6}"}}getItemIcon(t){switch(t.type){case"weapon":return"swords";case"armor":return"shield";case"equipment":return"backpack";case"consumable":return"science";case"fabrial":return"auto_awesome";case"mount":return"pets";case"vehicle":return"directions_boat";default:return"inventory_2"}}getItemStats(t){return t.weaponProperties?`${t.weaponProperties.damage} ${t.weaponProperties.damageType}`:t.armorProperties?`Deflect: ${t.armorProperties.deflectValue}`:t.fabrialProperties?`Charges: ${t.fabrialProperties.charges}`:""}getStoreName(){return"General Store"}getStoreIcon(){return"\u{1F3EA}"}getStoreDescription(){return"Browse and purchase equipment for your adventures"}getDisabledCategories(){let t=[];return this.categoryEnabled.forEach((e,i)=>{e||t.push(i)}),t}getCategoryDisplayName(t){return{weapon:"Weapons",armor:"Armor",equipment:"Equipment",consumable:"Consumables",fabrial:"Fabrials",mount:"Mounts & Vehicles",vehicle:"Mounts & Vehicles"}[t]||t}getDisabledCategoriesMessage(){let t=this.getDisabledCategories();return t.length===0?"":t.map(e=>this.getCategoryDisplayName(e)).join(", ")}showNotification(t){}static \u0275fac=function(e){return new(e||n)(k(Ne),k(Wr),k(Bt),k(fe))};static \u0275cmp=D({type:n,selectors:[["app-store-view"]],decls:3,vars:2,consts:[["loadingOrClosed",""],["class","store-container",4,"ngIf","ngIfElse"],[1,"store-container"],[1,"store-header"],[1,"header-content"],[1,"store-icon"],[1,"header-text"],[1,"subtitle"],[1,"currency-section"],[1,"currency-display"],[1,"icon"],[1,"currency-amount"],[1,"btn","btn-secondary",3,"click"],["class","currency-converter card",4,"ngIf"],[1,"search-bar"],[1,"search-icon"],["type","text","placeholder","Search by name or description...",3,"ngModelChange","ngModel","disabled"],["class","closed-categories-notice",4,"ngIf"],[1,"category-selector"],["class","category-chip",3,"active","disabled","display","click",4,"ngFor","ngForOf"],[1,"items-grid"],["class","item-card card",3,"affordable","expensive",4,"ngFor","ngForOf"],["class","empty-results",4,"ngIf"],[1,"currency-converter","card"],[1,"card-header"],[1,"card-subtitle"],[1,"card-content"],[1,"converter-fields"],[1,"form-field"],["for","broams"],["id","broams","type","number","min","0",3,"ngModelChange","ngModel"],[1,"hint"],["for","marks"],["id","marks","type","number","min","0",3,"ngModelChange","ngModel"],["for","chips"],["id","chips","type","number","min","0","step","0.1",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click"],[1,"closed-categories-notice"],[1,"message"],[1,"category-chip",3,"click","disabled"],[1,"item-card","card"],[1,"item-icon"],[1,"item-type"],[1,"item-description"],["class","item-stats",4,"ngIf"],["class","item-traits",4,"ngIf"],[1,"item-footer"],[1,"item-weight"],[1,"item-price"],[1,"price-amount"],[1,"card-actions"],[1,"btn",3,"click","disabled","title"],["class","btn btn-small","title","Buy 5x",3,"click",4,"ngIf"],[1,"item-stats"],[1,"item-traits"],["class","trait-chip",4,"ngFor","ngForOf"],[1,"trait-chip"],["title","Buy 5x",1,"btn","btn-small",3,"click"],[1,"empty-results"],[1,"large-icon"],["class","store-loading",4,"ngIf"],["class","store-closed",4,"ngIf"],["class","no-character",4,"ngIf"],[1,"store-loading"],[1,"store-closed"],[1,"no-character"]],template:function(e,i){if(e&1&&x(0,WG,31,16,"div",1)(1,ZG,3,3,"ng-template",null,0,di),e&2){let r=St(2);g("ngIf",!i.isLoading&&i.character&&i.storeEnabled)("ngIfElse",r)}},dependencies:[Q,ue,ie,Ii,Lr,cu,ki,du,fi],styles:[".store-container[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto;color:#e8e8e8}.store-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding:1.5rem;background-color:#1a1a1a;border-radius:12px;border:1px solid #333}.store-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.store-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .store-icon[_ngcontent-%COMP%]{font-size:3rem}.store-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:2rem;font-weight:700;color:#f0f0f0}.store-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:.25rem 0 0;color:#b8b8b8;font-size:1rem}.store-header[_ngcontent-%COMP%]   .currency-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.store-header[_ngcontent-%COMP%]   .currency-section[_ngcontent-%COMP%]   .currency-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.5rem;font-weight:700;color:gold;padding:.5rem 1rem;background-color:#2a2a2a;border-radius:8px;border:1px solid #444}.store-header[_ngcontent-%COMP%]   .currency-section[_ngcontent-%COMP%]   .currency-display[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:2rem}.card[_ngcontent-%COMP%]{background-color:#1a1a1a;border:1px solid #333;border-radius:8px;padding:1.5rem;margin-bottom:2rem}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:1rem}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.5rem;font-weight:600;color:#f0f0f0}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{color:#b8b8b8;font-size:.95rem;margin:0}.card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{color:#e8e8e8}.currency-converter[_ngcontent-%COMP%]   .converter-fields[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:1.5rem}.currency-converter[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.currency-converter[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f0f0f0;font-weight:500;font-size:.95rem}.currency-converter[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#2a2a2a;border:1px solid #444;border-radius:4px;padding:.75rem;color:#e8e8e8;font-size:1rem}.currency-converter[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4a9eff;box-shadow:0 0 0 2px #4a9eff33}.currency-converter[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#666}.currency-converter[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{color:#888;font-size:.85rem;font-style:italic}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;gap:.5rem;background-color:#2a2a2a;color:#e8e8e8;border:1px solid #444}.btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2rem}.btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#333;transform:translateY(-1px)}.btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#4a9eff;color:#fff;border-color:#4a9eff}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3a8eef}.btn.btn-secondary[_ngcontent-%COMP%]{background-color:#444;color:#e8e8e8;border-color:#555}.btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#555}.btn.btn-small[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.9rem}.btn[_ngcontent-%COMP%]:disabled, .btn.btn-disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;background-color:#2a2a2a;color:#666}.search-bar[_ngcontent-%COMP%]{width:100%;margin-bottom:1.5rem;position:relative;display:flex;align-items:center;background-color:#1a1a1a;border:1px solid #444;border-radius:8px;padding:.75rem 1rem;transition:all .2s ease}.search-bar.disabled[_ngcontent-%COMP%]{opacity:.4;pointer-events:none}.search-bar.disabled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:not-allowed}.search-bar[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{margin-right:.75rem;font-size:1.5rem}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;color:#e8e8e8;font-size:1rem;outline:none}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#888}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.search-bar[_ngcontent-%COMP%]:focus-within:not(.disabled){border-color:#4a9eff;box-shadow:0 0 0 2px #4a9eff33}.closed-categories-notice[_ngcontent-%COMP%]{padding:1rem 1.5rem;margin-bottom:1.5rem;background-color:#3a2a1a;border:1px solid #8b6914;border-radius:8px;display:flex;align-items:center;gap:.75rem}.closed-categories-notice[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.5rem;flex-shrink:0}.closed-categories-notice[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{color:#f0d090;font-size:.95rem;line-height:1.4}.closed-categories-notice[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:gold;font-weight:600}.category-selector[_ngcontent-%COMP%]{margin-bottom:2rem;display:flex;flex-wrap:wrap;gap:.75rem}.category-selector.disabled[_ngcontent-%COMP%]{opacity:.4;pointer-events:none}.category-selector[_ngcontent-%COMP%]   .category-chip[_ngcontent-%COMP%]{padding:.75rem 1.25rem;background-color:#2a2a2a;border:1px solid #444;border-radius:20px;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;gap:.5rem;font-size:.95rem;color:#e8e8e8}.category-selector[_ngcontent-%COMP%]   .category-chip[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2rem}.category-selector[_ngcontent-%COMP%]   .category-chip[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#333;transform:translateY(-2px);box-shadow:0 4px 8px #0000004d}.category-selector[_ngcontent-%COMP%]   .category-chip.active[_ngcontent-%COMP%]{background-color:#4a9eff;color:#fff;border-color:#4a9eff}.category-selector[_ngcontent-%COMP%]   .category-chip[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5;filter:grayscale(.5)}.items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.5rem;margin-bottom:2rem}.item-card[_ngcontent-%COMP%]{background-color:#1a1a1a;border:2px solid #333;border-radius:8px;transition:all .3s ease;display:flex;flex-direction:column}.item-card.affordable[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 6px 16px #0006;border-color:#4a9eff}.item-card.expensive[_ngcontent-%COMP%]{opacity:.6;border-color:#2a2a2a}.item-card.expensive[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#888}.item-card.expensive[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{color:#ff6b6b}.item-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1.25rem;border-bottom:1px solid #333;display:flex;align-items:center;gap:1rem}.item-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:48px;height:48px;font-size:2rem;display:flex;align-items:center;justify-content:center;border-radius:8px;background-color:#2a2a2a;flex-shrink:0}.item-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{flex:1;min-width:0}.item-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin:0 0 .25rem;color:#f0f0f0}.item-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .item-type[_ngcontent-%COMP%]{text-transform:capitalize;color:#888;font-size:.85rem}.item-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem;padding:1.25rem}.item-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]{line-height:1.5;color:#b8b8b8;flex:1;font-size:.95rem}.item-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem;background-color:#2a2a2a;border-radius:6px;font-weight:600;color:#4a9eff;border:1px solid #333}.item-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2rem}.item-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .item-traits[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.item-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .item-traits[_ngcontent-%COMP%]   .trait-chip[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .75rem;background-color:#2a2a2a;border:1px solid #444;border-radius:12px;color:#b8b8b8}.item-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-top:.75rem;border-top:1px solid #333}.item-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .item-weight[_ngcontent-%COMP%], .item-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.9rem}.item-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .item-weight[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .item-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1rem}.item-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .item-weight[_ngcontent-%COMP%]{color:#888}.item-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{color:gold;font-weight:700}.item-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]{font-size:1.1rem}.item-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;padding:1rem;border-top:1px solid #333}.item-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{flex:1}.empty-results[_ngcontent-%COMP%], .store-loading[_ngcontent-%COMP%], .store-closed[_ngcontent-%COMP%], .no-character[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:60vh;text-align:center;color:#b8b8b8}.empty-results[_ngcontent-%COMP%]   .large-icon[_ngcontent-%COMP%], .store-loading[_ngcontent-%COMP%]   .large-icon[_ngcontent-%COMP%], .store-closed[_ngcontent-%COMP%]   .large-icon[_ngcontent-%COMP%], .no-character[_ngcontent-%COMP%]   .large-icon[_ngcontent-%COMP%]{font-size:6rem;margin-bottom:1.5rem;opacity:.5}.empty-results[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .store-loading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .store-closed[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .no-character[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin:0 0 1rem;color:#e8e8e8}.empty-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .store-loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .store-closed[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .no-character[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;margin:.5rem 0;color:#b8b8b8}.empty-results[_ngcontent-%COMP%]   p.hint[_ngcontent-%COMP%], .store-loading[_ngcontent-%COMP%]   p.hint[_ngcontent-%COMP%], .store-closed[_ngcontent-%COMP%]   p.hint[_ngcontent-%COMP%], .no-character[_ngcontent-%COMP%]   p.hint[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:#888;opacity:.8}.store-closed[_ngcontent-%COMP%]   .large-icon[_ngcontent-%COMP%]{filter:hue-rotate(30deg)}@media(max-width:768px){.store-container[_ngcontent-%COMP%]{padding:1rem}.store-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.store-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.store-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.9rem}.store-header[_ngcontent-%COMP%]   .currency-section[_ngcontent-%COMP%]{flex-direction:column;width:100%}.store-header[_ngcontent-%COMP%]   .currency-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.items-grid[_ngcontent-%COMP%], .currency-converter[_ngcontent-%COMP%]   .converter-fields[_ngcontent-%COMP%]{grid-template-columns:1fr}.category-selector[_ngcontent-%COMP%]   .category-chip[_ngcontent-%COMP%]{font-size:.85rem;padding:.5rem 1rem}}"]})};var NA=[{path:"",component:qd},{path:"landing",component:qd},{path:"gm-control-center",component:Jg},{path:"store",component:e_,title:"General Store"},{path:"character-creator-view",component:Lf,children:[{path:"",redirectTo:"ancestry",pathMatch:"full"},{path:"ancestry",component:tg,pathMatch:"full"},{path:"culture",component:ng,pathMatch:"full"},{path:"name",component:eg,pathMatch:"full"},{path:"attributes",component:ig,pathMatch:"full"},{path:"skills",component:rg,pathMatch:"full"},{path:"expertises",component:og,pathMatch:"full"},{path:"paths",component:ag,pathMatch:"full"},{path:"talents",component:Ag,pathMatch:"full"},{path:"equipment",component:Rg,pathMatch:"full"},{path:"review",component:Lg,pathMatch:"full"}]},{path:"character-sheet/:id",component:Tu},{path:"character-sheet",component:Tu},{path:"load-character",component:Au},{path:"character-list",component:Au},{path:"**",redirectTo:""}];var FA={providers:[Bv(),sC(NA),a0(),g1()]};var i_=["*"],XG=["content"],JG=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],e7=["mat-drawer","mat-drawer-content","*"];function t7(n,t){if(n&1){let e=F();l(0,"div",1),C("click",function(){E(e);let r=v();return S(r._onBackdropClicked())}),c()}if(n&2){let e=v();T("mat-drawer-shown",e._isShowingBackdrop())}}function n7(n,t){n&1&&(l(0,"mat-drawer-content"),J(1,2),c())}var i7=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],r7=["mat-sidenav","mat-sidenav-content","*"];function o7(n,t){if(n&1){let e=F();l(0,"div",1),C("click",function(){E(e);let r=v();return S(r._onBackdropClicked())}),c()}if(n&2){let e=v();T("mat-drawer-shown",e._isShowingBackdrop())}}function a7(n,t){n&1&&(l(0,"mat-sidenav-content"),J(1,2),c())}var s7=`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`;var c7=new I("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:()=>!1}),Bx=new I("MAT_DRAWER_CONTAINER"),t_=(()=>{class n extends xo{_platform=f(Fe);_changeDetectorRef=f(fe);_container=f(Vx);constructor(){let e=f(G),i=f(Co),r=f($);super(e,i,r)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:e,end:i}=this._container;return e!=null&&e.mode!=="over"&&e.opened||i!=null&&i.mode!=="over"&&i.opened}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(i,r){i&2&&(bt("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px"),T("mat-drawer-content-hidden",r._shouldBeHidden()))},features:[De([{provide:xo,useExisting:n}]),ye],ngContentSelectors:i_,decls:1,vars:0,template:function(i,r){i&1&&(Ue(),J(0))},encapsulation:2,changeDetection:0})}return n})(),Lx=(()=>{class n{_elementRef=f(G);_focusTrapFactory=f(Qd);_focusMonitor=f(hi);_platform=f(Fe);_ngZone=f($);_renderer=f(rt);_interactivityChecker=f(sa);_doc=f(ee);_container=f(Bx,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=ht(e)}_disableClose=!1;get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=ht(e)),this._autoFocus=e}_autoFocus;get opened(){return this._opened()}set opened(e){this.toggle(ht(e))}_opened=$e(!1);_openedVia;_animationStarted=new P;_animationEnd=new P;openedChange=new U(!0);_openedStream=this.openedChange.pipe(be(e=>e),se(()=>{}));openedStart=this._animationStarted.pipe(be(()=>this.opened),um(void 0));_closedStream=this.openedChange.pipe(be(e=>!e),se(()=>{}));closedStart=this._animationStarted.pipe(be(()=>!this.opened),um(void 0));_destroyed=new P;onPositionChanged=new U;_content;_modeChanged=new P;_injector=f(ae);_changeDetectorRef=f(fe);constructor(){this.openedChange.pipe(L(this._destroyed)).subscribe(e=>{e?(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement,this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement;fl(e,"keydown").pipe(be(i=>i.keyCode===27&&!this.disableClose&&!jt(i)),L(this._destroyed)).subscribe(i=>this._ngZone.run(()=>{this.close(),i.stopPropagation(),i.preventDefault()})),this._eventCleanups=[this._renderer.listen(e,"transitionrun",this._handleTransitionEvent),this._renderer.listen(e,"transitionend",this._handleTransitionEvent),this._renderer.listen(e,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this.opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),a(),e.removeAttribute("tabindex")},o=this._renderer.listen(e,"blur",r),a=this._renderer.listen(e,"mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":$t(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);let r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return e===this.opened?Promise.resolve(e?"open":"close"):(this._opened.set(e),this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",e),!e&&i&&this._restoreFocus(r),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(wt(1)).subscribe(a=>o(a?"open":"close"))}))}_setIsAnimating(e){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",e)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let i=this._elementRef.nativeElement,r=i.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}_handleTransitionEvent=e=>{let i=this._elementRef.nativeElement;e.target===i&&this._ngZone.run(()=>{e.type==="transitionrun"?this._animationStarted.next(e):(e.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(e))})};static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(i&1&&tt(XG,5),i&2){let o;W(o=Y())&&(r._content=o.first)}},hostAttrs:[1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){i&2&&(X("align",null)("tabIndex",r.mode!=="side"?"-1":null),bt("visibility",!r._container&&!r.opened?"hidden":null),T("mat-drawer-end",r.position==="end")("mat-drawer-over",r.mode==="over")("mat-drawer-push",r.mode==="push")("mat-drawer-side",r.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:i_,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,r){i&1&&(Ue(),l(0,"div",1,0),J(2),c())},dependencies:[xo],encapsulation:2,changeDetection:0})}return n})(),Vx=(()=>{class n{_dir=f(on,{optional:!0});_element=f(G);_ngZone=f($);_changeDetectorRef=f(fe);_animationDisabled=at();_transitionsEnabled=!1;_allDrawers;_drawers=new ci;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=ht(e)}_autosize=f(c7);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:ht(e)}_backdropOverride;backdropClick=new U;_start;_end;_left;_right;_destroyed=new P;_doCheckSubject=new P;_contentMargins={left:null,right:null};_contentMarginChanges=new P;get scrollable(){return this._userContent||this._content}_injector=f(ae);constructor(){let e=f(Fe),i=f(jr);this._dir?.change.pipe(L(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),i.change().pipe(L(this._destroyed)).subscribe(()=>this.updateContentMargins()),!this._animationDisabled&&e.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(Mt(this._allDrawers),L(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Mt(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(yi(10),L(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let r=this._left._getWidth();e+=r,i-=r}}if(this._right&&this._right.opened){if(this._right.mode=="side")i+=this._right._getWidth();else if(this._right.mode=="push"){let r=this._right._getWidth();i+=r,e-=r}}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(L(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(L(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e.onPositionChanged.pipe(L(this._drawers.changes)).subscribe(()=>{$t({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(e){e._modeChanged.pipe(L(dn(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,o){if(i&1&&Lt(o,t_,5)(o,Lx,5),i&2){let a;W(a=Y())&&(r._content=a.first),W(a=Y())&&(r._allDrawers=a)}},viewQuery:function(i,r){if(i&1&&tt(t_,5),i&2){let o;W(o=Y())&&(r._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){i&2&&T("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[De([{provide:Bx,useExisting:n}])],ngContentSelectors:e7,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){i&1&&(Ue(JG),Ee(0,t7,1,2,"div",0),J(1),J(2,1),Ee(3,n7,2,0,"mat-drawer-content")),i&2&&(Se(r.hasBackdrop?0:-1),m(3),Se(r._content?-1:3))},dependencies:[t_],styles:[`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`],encapsulation:2,changeDetection:0})}return n})(),n_=(()=>{class n extends t_{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275cmp=D({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],features:[De([{provide:xo,useExisting:n}]),ye],ngContentSelectors:i_,decls:1,vars:0,template:function(i,r){i&1&&(Ue(),J(0))},encapsulation:2,changeDetection:0})}return n})(),jx=(()=>{class n extends Lx{get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=ht(e)}_fixedInViewport=!1;get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=An(e)}_fixedTopGap=0;get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=An(e)}_fixedBottomGap=0;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275cmp=D({type:n,selectors:[["mat-sidenav"]],hostAttrs:[1,"mat-drawer","mat-sidenav"],hostVars:16,hostBindings:function(i,r){i&2&&(X("tabIndex",r.mode!=="side"?"-1":null)("align",null),bt("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),T("mat-drawer-end",r.position==="end")("mat-drawer-over",r.mode==="over")("mat-drawer-push",r.mode==="push")("mat-drawer-side",r.mode==="side")("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[De([{provide:Lx,useExisting:n}]),ye],ngContentSelectors:i_,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,r){i&1&&(Ue(),l(0,"div",1,0),J(2),c())},dependencies:[xo],encapsulation:2,changeDetection:0})}return n})(),LA=(()=>{class n extends Vx{_allDrawers=void 0;_content=void 0;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Xe(n)))(r||n)}})();static \u0275cmp=D({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(i,r,o){if(i&1&&Lt(o,n_,5)(o,jx,5),i&2){let a;W(a=Y())&&(r._content=a.first),W(a=Y())&&(r._allDrawers=a)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,r){i&2&&T("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[De([{provide:Bx,useExisting:n},{provide:Vx,useExisting:n}]),ye],ngContentSelectors:r7,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){i&1&&(Ue(i7),Ee(0,o7,1,2,"div",0),J(1),J(2,1),Ee(3,a7,2,0,"mat-sidenav-content")),i&2&&(Se(r.hasBackdrop?0:-1),m(3),Se(r._content?-1:3))},dependencies:[n_],styles:[s7],encapsulation:2,changeDetection:0})}return n})(),VA=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[Br,Oe,Br]})}return n})();var d7=["*",[["mat-toolbar-row"]]],u7=["*","mat-toolbar-row"],zx=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=H({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),BA=(()=>{class n{_elementRef=f(G);_platform=f(Fe);_document=f(ee);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=D({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(i&1&&Lt(o,zx,5),i&2){let a;W(a=Y())&&(r._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,r){i&2&&(Ie(r.color?"mat-"+r.color:""),T("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",r._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:u7,decls:2,vars:0,template:function(i,r){i&1&&(Ue(d7),J(0),J(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return n})();var jA=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Z({type:n});static \u0275inj=K({imports:[Oe]})}return n})();function p7(n,t){n&1&&q(0,"mat-divider")}function h7(n,t){if(n&1){let e=F();l(0,"mat-list-item",2),C("click",function(){E(e);let r=v();return S(r.navigateTo("/character-sheet"))}),l(1,"mat-icon",3),u(2,"assignment"),c(),l(3,"span",4),u(4,"Character Sheet"),c()()}}function f7(n,t){if(n&1){let e=F();l(0,"mat-list-item",2),C("click",function(){E(e);let r=v();return S(r.navigateTo("/store"))}),l(1,"mat-icon",3),u(2,"store"),c(),l(3,"span",4),u(4,"Store"),c()()}}function g7(n,t){if(n&1&&(l(0,"div",8),q(1,"mat-divider")(2,"app-creation-progress",9),c()),n&2){let e=v();m(2),g("displayMode","navigation-grid")("character",e.character)("isLevelUpMode",!1)}}var r_=class n{constructor(t,e){this.router=t;this.characterState=e}destroy$=new P;character=null;hasCharacter=!1;isInCreatorView=!1;isInCharacterSheetView=!1;ngOnInit(){this.characterState.character$.pipe(L(this.destroy$)).subscribe(t=>{this.character=t,this.hasCharacter=!!t&&!!(t.name||t.ancestry)&&(t.level||0)>0}),this.updateViewStates(),this.router.events.pipe(L(this.destroy$)).subscribe(()=>{this.updateViewStates()})}updateViewStates(){let t=this.router.url;this.isInCreatorView=t.includes("/character-creator-view"),this.isInCharacterSheetView=t.includes("/character-sheet")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}navigateTo(t){this.router.navigate([t])}shouldShowNavigationProgress(){return this.hasCharacter||this.isInCharacterSheetView||this.isInCreatorView&&!!this.character}static \u0275fac=function(e){return new(e||n)(k(Pt),k(Ne))};static \u0275cmp=D({type:n,selectors:[["app-sidenav-view"]],decls:31,vars:4,consts:[[1,"sidenav-header"],[1,"sidenav-nav"],[3,"click"],["matListItemIcon",""],["matListItemTitle",""],[4,"ngIf"],[3,"click",4,"ngIf"],["class","character-progress",4,"ngIf"],[1,"character-progress"],[3,"displayMode","character","isLevelUpMode"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"h2"),u(2,"Sanderson RPG"),c()(),q(3,"mat-divider"),l(4,"nav",1)(5,"mat-nav-list")(6,"mat-list-item",2),C("click",function(){return i.navigateTo("/")}),l(7,"mat-icon",3),u(8,"home"),c(),l(9,"span",4),u(10,"Home"),c()(),l(11,"mat-list-item",2),C("click",function(){return i.navigateTo("/character-creator-view")}),l(12,"mat-icon",3),u(13,"person_add"),c(),l(14,"span",4),u(15,"Create Character"),c()(),l(16,"mat-list-item",2),C("click",function(){return i.navigateTo("/character-list")}),l(17,"mat-icon",3),u(18,"list"),c(),l(19,"span",4),u(20,"Character List"),c()(),x(21,p7,1,0,"mat-divider",5)(22,h7,5,0,"mat-list-item",6)(23,f7,5,0,"mat-list-item",6),q(24,"mat-divider"),l(25,"mat-list-item",2),C("click",function(){return i.navigateTo("/gm-control-center")}),l(26,"mat-icon",3),u(27,"admin_panel_settings"),c(),l(28,"span",4),u(29,"GM Dashboard"),c()()()(),x(30,g7,3,3,"div",7)),e&2&&(m(21),g("ngIf",i.hasCharacter),m(),g("ngIf",i.hasCharacter),m(),g("ngIf",i.hasCharacter),m(7),g("ngIf",i.shouldShowNavigationProgress()))},dependencies:[Q,ie,ge,oe,le,Ri,So,Gr,RT,TT,rx,bg,Yr,la],styles:[".sidenav-header[_ngcontent-%COMP%]{padding:1.5rem 1rem;text-align:center}.sidenav-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:500;color:var(--gpColor-ChalkyBlue)}.sidenav-nav[_ngcontent-%COMP%]{padding:0}.sidenav-nav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]{padding:0}.sidenav-nav[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s ease;color:var(--gpSystemLightestGrey)}.sidenav-nav[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]:hover{background-color:var(--gpSystemDarkGrey)}.sidenav-nav[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue)}.sidenav-nav[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;color:var(--gpSystemLightestGrey)}.sidenav-nav[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{margin:.5rem 0;background-color:var(--gpSystemDarkGrey)}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;background-color:var(--gpSystemDarkerGrey)}.character-progress[_ngcontent-%COMP%]{margin-top:1rem;flex:1;overflow:hidden;contain:layout style}.character-progress[_ngcontent-%COMP%]   .creation-accordion[_ngcontent-%COMP%]{box-shadow:none;background-color:transparent}.character-progress[_ngcontent-%COMP%]   .creation-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none;background-color:transparent;color:var(--gpSystemLightestGrey)}.character-progress[_ngcontent-%COMP%]   .creation-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 1rem}.character-progress[_ngcontent-%COMP%]   .creation-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:500;color:var(--gpSystemLightestGrey)}.character-progress[_ngcontent-%COMP%]   .creation-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--gpColor-ChalkyBlue)}.character-progress[_ngcontent-%COMP%]   .step-list[_ngcontent-%COMP%]{padding:.5rem 0}.character-progress[_ngcontent-%COMP%]   .step-list[_ngcontent-%COMP%]   .creation-step[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s ease;padding:.25rem .5rem;min-height:40px;height:auto;color:var(--gpSystemLightestGrey)}.character-progress[_ngcontent-%COMP%]   .step-list[_ngcontent-%COMP%]   .creation-step[_ngcontent-%COMP%]   mat-icon[matListItemIcon][_ngcontent-%COMP%]{color:var(--gpStoreLighterGrey)}.character-progress[_ngcontent-%COMP%]   .step-list[_ngcontent-%COMP%]   .creation-step[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--gpSystemLightestGrey)}.character-progress[_ngcontent-%COMP%]   .step-list[_ngcontent-%COMP%]   .creation-step[_ngcontent-%COMP%]:hover{background-color:var(--gpSystemDarkGrey)}.character-progress[_ngcontent-%COMP%]   .step-list[_ngcontent-%COMP%]   .creation-step.completed[_ngcontent-%COMP%]   mat-icon[matListItemIcon][_ngcontent-%COMP%]{color:var(--gpColor-Green)}.character-progress[_ngcontent-%COMP%]   .step-list[_ngcontent-%COMP%]   .creation-step.completed[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{color:var(--gpColor-Green);font-size:20px;width:20px;height:20px}.character-progress[_ngcontent-%COMP%]   .step-list[_ngcontent-%COMP%]   .creation-step.completed[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;color:var(--gpColor-Green)}.character-progress[_ngcontent-%COMP%]   .step-list[_ngcontent-%COMP%]   .creation-step[_ngcontent-%COMP%]   mat-icon[matListItemIcon][_ngcontent-%COMP%]{color:#999;font-size:18px;width:18px;height:18px;margin-right:8px}.character-progress[_ngcontent-%COMP%]   .step-list[_ngcontent-%COMP%]   .creation-step[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem;color:#666;white-space:normal;line-height:1.3}"]})};var _7=["drawer"];function v7(n,t){if(n&1&&q(0,"app-creation-progress",9),n&2){let e=v();g("displayMode","inline-progress")("character",e.character)("isLevelUpMode",e.isLevelUpMode)}}function y7(n,t){if(n&1&&q(0,"app-creation-progress",10),n&2){let e=v();g("displayMode","navigation-grid")("character",e.character)("isLevelUpMode",!1)}}var o_=class n{constructor(t,e,i){this.router=t;this.characterState=e;this.activatedRoute=i;this.checkMobile(),this.updateViewStates(),this.router.events.pipe(be(r=>r instanceof Jn)).subscribe(()=>{this.isMobile&&this.drawer&&this.drawer.close(),this.updateViewStates()})}title=$e("project-sanderson");isMobile=!1;destroy$=new P;character=null;hasCharacter=!1;isInCreatorView=!1;isLevelUpMode=!1;isInCharacterSheetView=!1;drawer;updateViewStates(){let t=this.router.url;this.isInCreatorView=t.includes("/character-creator-view"),this.isInCharacterSheetView=t.includes("/character-sheet")}ngOnInit(){this.characterState.character$.pipe(L(this.destroy$)).subscribe(t=>{this.character=t,this.hasCharacter=!!t&&!!(t.name||t.ancestry)}),this.router.events.pipe(be(t=>t instanceof Jn),L(this.destroy$)).subscribe(()=>{let t=this.router.parseUrl(this.router.url);this.isLevelUpMode=t.queryParams.levelUp==="true"})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}shouldShowInlineProgress(){return this.isInCreatorView&&!!this.character}shouldShowNavigationGrid(){return this.hasCharacter&&!this.isInCreatorView||this.isInCharacterSheetView}onResize(){this.checkMobile()}checkMobile(){this.isMobile=window.innerWidth<=768}unloadHandler(t){}static \u0275fac=function(e){return new(e||n)(k(Pt),k(Ne),k(Bt))};static \u0275cmp=D({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(e&1&&tt(_7,5),e&2){let r;W(r=Y())&&(i.drawer=r.first)}},hostBindings:function(e,i){e&1&&C("resize",function(){return i.onResize()},yp)("beforeunload",function(o){return i.unloadHandler(o)},yp)},decls:13,vars:5,consts:[["drawer",""],["color","primary",1,"app-toolbar"],[1,"app-header"],["mat-icon-button","",1,"menu-button",3,"click"],["class","toolbar-progress",3,"displayMode","character","isLevelUpMode",4,"ngIf"],["class","toolbar-navigation",3,"displayMode","character","isLevelUpMode",4,"ngIf"],[1,"app-sidenav-container",3,"hasBackdrop"],[1,"app-sidenav",3,"opened","mode"],[1,"app-sidenav-content"],[1,"toolbar-progress",3,"displayMode","character","isLevelUpMode"],[1,"toolbar-navigation",3,"displayMode","character","isLevelUpMode"]],template:function(e,i){if(e&1){let r=F();l(0,"mat-toolbar",1)(1,"mat-toolbar-row",2)(2,"button",3),C("click",function(){E(r);let a=St(9);return S(a.toggle())}),l(3,"mat-icon"),u(4,"menu"),c()(),x(5,v7,1,3,"app-creation-progress",4)(6,y7,1,3,"app-creation-progress",5),c()(),l(7,"mat-sidenav-container",6)(8,"mat-sidenav",7,0),q(10,"app-sidenav-view"),c(),l(11,"mat-sidenav-content",8),q(12,"router-outlet"),c()()}e&2&&(m(5),g("ngIf",i.shouldShowInlineProgress()&&i.character),m(),g("ngIf",i.shouldShowNavigationGrid()&&i.character),m(),g("hasBackdrop",!1),m(),g("opened",!i.isMobile)("mode",i.isMobile?"over":"side"))},dependencies:[ds,jA,BA,zx,VA,jx,LA,n_,oe,le,ge,an,Q,ie,r_,la],styles:["[_nghost-%COMP%]{--toolbar-height: 64px;--sidenav-width: 250px}.app-toolbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;height:var(--toolbar-height);z-index:1000;display:flex;align-items:center;padding:0 1rem;background-color:var(--gpStoreDarkerGrey)!important;color:var(--gpSystemLightestGrey)}.app-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;width:100%;gap:1rem}.toolbar-progress[_ngcontent-%COMP%]{flex:1}.toolbar-progress[_ngcontent-%COMP%]     .inline-progress{padding:0;background:transparent;margin:0}.toolbar-progress[_ngcontent-%COMP%]     .progress-track{gap:.25rem}.toolbar-progress[_ngcontent-%COMP%]     .step-indicator{width:2rem;height:2rem}.toolbar-progress[_ngcontent-%COMP%]     .step-icon{font-size:1rem}.toolbar-progress[_ngcontent-%COMP%]     .step-label{font-size:.65rem}.toolbar-navigation[_ngcontent-%COMP%]{flex:1;overflow-x:auto;overflow-y:hidden;max-width:100%;-webkit-overflow-scrolling:touch}.toolbar-navigation[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}.toolbar-navigation[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--gpSystemDarkGrey)}.toolbar-navigation[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--gpColor-ChalkyBlue);border-radius:2px}.toolbar-navigation[_ngcontent-%COMP%]     .navigation-grid{padding:.5rem;gap:.5rem;min-width:min-content}.toolbar-navigation[_ngcontent-%COMP%]     .nav-card{padding:.5rem .25rem;min-width:70px}.toolbar-navigation[_ngcontent-%COMP%]     .card-icon{font-size:1.25rem;width:1.25rem;height:1.25rem}.toolbar-navigation[_ngcontent-%COMP%]     .card-label{font-size:.7rem}.menu-button[_ngcontent-%COMP%]{display:none}.app-sidenav-container[_ngcontent-%COMP%]{position:fixed;top:var(--toolbar-height);bottom:0;left:0;right:0;height:calc(100vh - var(--toolbar-height))}.app-sidenav[_ngcontent-%COMP%]{width:var(--sidenav-width);background-color:var(--gpSystemDarkerGrey);height:100%;overflow:hidden;border-radius:0;contain:layout style paint}.app-sidenav[_ngcontent-%COMP%]     .mat-drawer-inner-container{background-color:var(--gpSystemDarkerGrey);min-height:100%;display:flex;flex-direction:column;overflow:hidden}.app-sidenav-content[_ngcontent-%COMP%]{background-color:var(--gpStoreDarkGrey);height:100%;overflow-y:auto}@media(max-width:768px){[_nghost-%COMP%]{--toolbar-height: 56px;--sidenav-width: 80vw}.app-sidenav-content[_ngcontent-%COMP%]{overflow-y:auto;padding:0!important}.menu-button[_ngcontent-%COMP%]{display:block}.app-sidenav[_ngcontent-%COMP%]:not(.mat-drawer-opened){visibility:hidden;pointer-events:none}.app-sidenav[_ngcontent-%COMP%]:not(.mat-drawer-opened)   *[_ngcontent-%COMP%]{visibility:hidden;pointer-events:none}.toolbar-navigation[_ngcontent-%COMP%]{display:none!important}}"]})};t0(o_,FA).catch(n=>console.error(n));
