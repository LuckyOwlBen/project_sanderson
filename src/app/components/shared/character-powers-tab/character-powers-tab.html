<div class="sheet-content powers-notes-tab">
  <!-- Universal Abilities Card (for Radiant and other special abilities) -->
  <div class="abilities-card" *ngIf="getUniversalAbilities().length > 0">
    <div class="card-header">
      <span class="section-icon">üåü</span>
      <h3 class="card-title">Universal Abilities</h3>
    </div>
    <div class="card-content">
      <div class="abilities-list">
        <div class="abilities-accordion">
          <details *ngFor="let ability of getUniversalAbilities()" class="ability-panel">
            <summary class="ability-header">
              <div class="ability-title">
                <span class="ability-icon">üí´</span>
                <span class="ability-name">{{ ability.name }}</span>
                <span class="ability-category-badge">{{ ability.category }}</span>
              </div>
              <span class="ability-cost">
                {{ formatAbilityActionCost(ability.actionCost) }}
              </span>
            </summary>
            <div class="ability-details">
              <div class="ability-description">
                <p>{{ ability.description }}</p>
                <p *ngIf="ability.specialActivation" class="special-activation">
                  <strong>Special Activation:</strong> {{ ability.specialActivation }}
                </p>
              </div>
              <div class="ability-resource-cost" *ngIf="ability.resourceCost">
                <h4><span class="resource-icon">üíé</span> Cost</h4>
                <p>{{ getAbilityResourceCost(ability) }}</p>
              </div>
              <div class="ability-effects" *ngIf="ability.effects && ability.effects.length > 0">
                <h4><span class="effect-icon">‚ú®</span> Effects</h4>
                <ul>
                  <li *ngFor="let effect of ability.effects">{{ effect }}</li>
                </ul>
              </div>
              <div class="ability-limitations" *ngIf="ability.limitations && ability.limitations.length > 0">
                <h4><span class="limit-icon">‚ö†Ô∏è</span> Limitations</h4>
                <ul>
                  <li *ngFor="let limitation of ability.limitations">{{ limitation }}</li>
                </ul>
              </div>
              <div class="ability-meta">
                <span class="ability-source">
                  <span class="source-icon">üìú</span> Source: {{ ability.source }}
                </span>
                <span class="ability-unconscious" *ngIf="ability.canUseWhileUnconscious">
                  <span class="unconscious-icon">üòµ</span> Usable while unconscious
                </span>
              </div>
            </div>
          </details>
        </div>
      </div>
    </div>
  </div>

  <!-- Powers Card -->
  <div class="powers-card">
    <div class="card-header">
      <span class="section-icon">‚ú®</span>
      <h3 class="card-title">Powers</h3>
    </div>
    <div class="card-content">
      <div class="powers-list">
        <div class="powers-accordion" *ngIf="getPowers().length > 0">
          <details *ngFor="let power of getPowers()" class="power-panel">
            <summary class="power-header">
              <div class="power-title">
                <span class="power-icon">‚ö°</span>
                <span class="power-name">{{ power.name }}</span>
              </div>
              <span class="power-cost">
                {{ getActionCostDisplay(power.actionCost) }}
              </span>
            </summary>
            <div class="power-details">
              <div class="power-description">
                <p>{{ power.description }}</p>
                <p *ngIf="power.specialActivation" class="special-activation">
                  <strong>Special Activation:</strong> {{ power.specialActivation }}
                </p>
              </div>
              <div class="power-bonuses" *ngIf="getBonusDisplay(power).length > 0">
                <h4><span class="bonus-icon">üìà</span> Bonuses</h4>
                <ul>
                  <li *ngFor="let bonus of getBonusDisplay(power)">{{ bonus }}</li>
                </ul>
              </div>
              <div class="power-effects" *ngIf="getOtherEffects(power).length > 0">
                <h4><span class="effect-icon">‚ú®</span> Additional Effects</h4>
                <ul>
                  <li *ngFor="let effect of getOtherEffects(power)">{{ effect }}</li>
                </ul>
              </div>
              <div class="power-meta">
                <span class="power-tier">Tier {{ power.tier }}</span>
                <span class="power-path" *ngIf="power.pathRequirement">
                  <span class="path-icon">üõ§Ô∏è</span> {{ power.pathRequirement }}
                </span>
              </div>
            </div>
          </details>
        </div>
        <p class="empty-text" *ngIf="getPowers().length === 0">
          No powers unlocked yet
        </p>
      </div>
    </div>
  </div>
  
  <!-- Expertises Card -->
  <div class="stats-card">
    <div class="card-header">
      <span class="section-icon">üìö</span>
      <h3 class="card-title">Expertises</h3>
    </div>
    <div class="card-content">
      <div class="expertises-list">
        <div class="expertise-item" *ngFor="let expertise of getSelectedExpertises()">
          <span class="expertise-icon">‚úì</span>
          <span class="expertise-name">{{ expertise.name }}</span>
          <span class="expertise-source-badge" [class]="'badge-' + expertise.source">
            {{ getExpertiseSourceBadge(expertise) }}
          </span>
        </div>
        <p class="empty-text" *ngIf="getSelectedExpertises().length === 0">
          No expertises selected
        </p>
      </div>
    </div>
  </div>
</div>
