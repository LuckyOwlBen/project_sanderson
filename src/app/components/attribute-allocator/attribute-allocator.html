<div class="attribute-allocator-container">
  <div class="main-content">
    <div class="header">
      <div class="header-text">
        <h2>Distribute Attribute Points</h2>
        <div class="points-remaining">Points Remaining: <strong>{{ remainingPoints }}</strong> / {{ totalPoints }}</div>
      </div>
      <div class="points-display">
        <button class="reset-btn" (click)="resetAllocations()">Reset All</button>
      </div>
    </div>

    <div class="attributes-list">
      <app-value-stepper
        *ngFor="let attr of items"
        [label]="attr.name"
        [currentValue]="attr.currentValue"
        [minValue]="getMinValue(attr)"
        [maxValue]="maxValue"
        [pointsRemaining]="remainingPoints"
        (valueChanged)="onValueChanged($event)">
      </app-value-stepper>
    </div>
  </div>

  <div class="sidebar" *ngIf="character">
    <div class="sidebar-header">
      <h3>Derived Attributes</h3>
      <p class="sidebar-subtitle">Preview of your character's statistics</p>
    </div>
    
    <div class="derived-stats">
      <div class="stat-card">
        <div class="stat-icon">‚ù§Ô∏è</div>
        <div class="stat-info">
          <label>Health</label>
          <span class="stat-value">{{ character.resources.health.max }}</span>
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon">‚ö°</div>
        <div class="stat-info">
          <label>Focus</label>
          <span class="stat-value">{{ character.resources.focus.max }}</span>
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon">üèÉ</div>
        <div class="stat-info">
          <label>Movement Rate</label>
          <span class="stat-value">{{ movementSpeed }}</span>
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon">üé≤</div>
        <div class="stat-info">
          <label>Recovery Die</label>
          <span class="stat-value">{{ recoveryDie }}</span>
        </div>
      </div>
    </div>
    
    <div class="allocation-status" [class.complete]="isComplete">
      <div class="status-message">
        <span *ngIf="!isComplete">‚ö†Ô∏è Allocate all points to continue</span>
        <span *ngIf="isComplete">‚úì All points allocated!</span>
      </div>
    </div>
  </div>
</div>
